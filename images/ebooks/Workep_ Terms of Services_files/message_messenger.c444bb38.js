(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,r){"use strict";r.d(t,"d",function(){return o}),r.d(t,"c",function(){return i}),r.d(t,"e",function(){return s}),r.d(t,"a",function(){return c}),r.d(t,"b",function(){return l}),r.d(t,"g",function(){return u}),r.d(t,"f",function(){return d}),r.d(t,"h",function(){return m});var n=r(7),a=function(e){return e.messengerSheet},o=(Object(n.createSelector)(a,function(e){return e.isSheetsDataLoading}),Object(n.createSelector)(a,function(e){return e.isSheetsDataLoaded})),i=Object(n.createSelector)(a,function(e){return e.isProxyLoaded}),s=Object(n.createSelector)(a,function(e){return e.sheetTitle}),c=Object(n.createSelector)(a,function(e){return e.isNavigating}),l=Object(n.createSelector)(a,function(e){return e.isOpen}),u=Object(n.createSelector)(a,function(e){return e.sourceCard}),d=Object(n.createSelector)(a,function(e){return e.url}),p=Object(n.createSelector)(a,function(e){return e.data}),m=Object(n.createSelector)(p,function(e){return JSON.stringify(e)})},133:function(e,t,r){"use strict";r.d(t,"g",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"k",function(){return f}),r.d(t,"a",function(){return y}),r.d(t,"i",function(){return C}),r.d(t,"j",function(){return o}),r.d(t,"f",function(){return i}),r.d(t,"h",function(){return E}),r.d(t,"d",function(){return w}),r.d(t,"e",function(){return k}),r.d(t,"c",function(){return _});var s=r(177),c=r(51),l=r(163),u=r(38),d=r(227),v=r(128),p=r(65),b=r(59),g=r(6),m=r(127),h=r(226);function n(o,i){return function(e,t){var r=(i.data||{}).intercomSheet,n=t(),a=Object(v.g)(n);if(!r)return null;switch(r.type){case d.b:e({type:"FINISH_NAVIGATION"});break;case u.f:e({type:"START_NAVIGATION"});break;case u.b:e({type:"FINISH_NAVIGATION"});break;case u.a:e(y("sheet_api_close"));break;case u.e:if(!r.payload)return;e(C(r.payload.title));break;case u.g:if(!a)return null;e({type:"START_NAVIGATION"}),e(f(o,r.payload))}}}function a(o,i,s,c,l){return function(t,e){var r=e(),n=r.app.isMessengerOpen,a=r.session;return n||t(Object(p.l)()),t({type:"OPEN_SHEET",url:c,cardUri:i,componentId:s}),t(w()),t(Object(h.a)()),o.fetchMessengerSheetData(a,i,s,l).then(function(e){t(k(e))}).catch(function(){t(_())})}}function f(o,i){return function(t,e){var r=e(),n=Object(v.g)(r).get("cardUri"),a=r.session;return o.submitSheet(a,n,i).then(function(e){t(Object(s.d)(e)),t(Object(c.a)(o,e))}).then(function(){return new Promise(function(e){return setTimeout(e,l.d+l.b)})}).then(function(){t({type:"FINISH_NAVIGATION"}),t(y("sheet_api_submit"))}).catch(function(){t(Object(m.b)("MessengerSheetSubmitError",{sheetValues:i}))})}}function y(f){return function(e,t){var r,n,a,o,i,s,c=t(),l=Object(v.g)(c).get("cardUri"),u=c.messengerCards[l].card;if(u){var d=c.messengerSheet.url,p=c.user,m=c.app.conversationId,h="sheet_api_submit"===f||"sheet_api_close"===f?f:Object(b.c)(c);r=p,n=h,a=d,o=l,i=u.messenger_app_id,s=m,g.j.buildAndAddMetric(r,"closed","messenger_sheet","messenger",n,{url:a,messenger_card_uri:o,messenger_app_id:i,conversation_id:s},"m4_metric")}e({type:"CLOSE_SHEET"})}}function C(e){return{type:"SET_SHEET_TITLE",sheetTitle:e}}function o(){return{type:"START_NAVIGATION"}}function i(){return{type:"FINISH_NAVIGATION"}}function E(e){return void 0===e&&(e=!1),{type:"SET_PROXY_LOADED_STATUS",isLoaded:e}}var w=function(){return{type:"FETCH_MESSENGER_SHEET_DATA_REQUEST"}},k=function(e){return{type:"FETCH_MESSENGER_SHEET_DATA_SUCCESS",data:e}},_=function(){return{type:"FETCH_MESSENGER_SHEET_DATA_FAILURE"}}},163:function(e,t,r){"use strict";var n=r(171),o=r.n(n),a=r(0),l=r.n(a),i=r(515),u=r.n(i),s=r(23),c=r(725),d=r.n(c),p=r(43),m=r(2),h=r.n(m),f=r(37),v=r(11),b=r.n(v),g=r(86),y=r(15);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(n){var e,t;function r(){for(var s,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return E(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(s=n.call.apply(n,[this].concat(t))||this),"handleClick",function(e){var t=s.props,r=t.id,n=t.action,a=t.loading,o=t.disabled,i=t.onClick;e.preventDefault(),o||a||i(r,n,"button","clicked",e)}),s}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.getClassName=function(){var e=this.props,t=e.style,r=e.loading,n=e.isLast,a=e.bottomMargin,o=this.context.isPrimaryColorLight;return b()({"intercom-messenger-card-button":!0,"intercom-messenger-card-button-loading":r,"intercom-messenger-card-button-primary":"primary"===t,"intercom-messenger-card-button-secondary":"secondary"===t,"intercom-messenger-card-button-link":"link"===t,"intercom-messenger-card-button-last-component":n,"intercom-messenger-card-button-margin-bottom-none":"none"===a,"intercom-messenger-card-button-disabled":this.isDisabled(),"intercom-messenger-card-button-light":o&&o()})},a.isDisabled=function(){var e=this.props,t=e.disabled,r=e.loading;return t&&!r},a.hasUrlAction=function(){var e=this.props.action;return"url"===e.type&&e.url},a.buildAnchorProps=function(){return{href:this.props.action.url?this.props.action.url:null,className:this.getClassName(),onClick:this.handleClick,role:"button"}},a.renderAnchor=function(){return l.a.createElement("a",this.buildAnchorProps(),this.props.label)},a.renderButton=function(){var e=this.props,t=e.label,r=e.loading,n="primary"===e.style?"white":"primary",a=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){E(t,e,r[e])})}return t}({"aria-label":r?Object(y.c)("loading"):t},r?{role:"progressbar"}:{});return l.a.createElement("button",C({className:this.getClassName(),onClick:this.handleClick,disabled:this.isDisabled()},a,{tabIndex:"0"}),r?l.a.createElement(g.a,{size:"small",color:n}):t)},a.render=function(){return this.hasUrlAction()?this.renderAnchor():this.renderButton()},r}(a.PureComponent);E(w,"defaultProps",{style:"primary",disabled:!1,loading:!1,isLast:!1,bottomMargin:"default"}),E(w,"contextTypes",{isPrimaryColorLight:h.a.func});var k=r(516),_=r(42);function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(n){var e,t;function r(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return j(S(o=n.call.apply(n,[this].concat(t))||this),"state",{}),j(S(o),"handleClick",function(e){var t=o.props,r=t.action,n=t.onClick;n&&r&&"url"===r.type&&r.url&&n(r.url,r,"image","clicked",e)}),j(S(o),"handleImageLoad",function(e){var t=e.target,r=o.props,n=r.width,a=r.height;o.setState({imageWidth:n||t.offsetWidth,imageHeight:a||t.offsetHeight})}),o}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.hasUrlAction=function(){var e=this.props.action;return e&&"url"===e.type&&e.url},a.getClassName=function(){var e=this.props,t=e.align,r=e.rounded,n=e.isLast,a=e.bottomMargin,o=e.disabled,i=e.isFirst,s=this.state,c=s.imageWidth,l=s.imageHeight,u=Object(_.a)(window)&&"full_width"===t?"center":t;return b()({"intercom-messenger-card-image":!0,"intercom-messenger-card-image-left":"left"===u,"intercom-messenger-card-image-center":"center"===u,"intercom-messenger-card-image-right":"right"===u,"intercom-messenger-card-image-full-width":"full_width"===u,"intercom-messenger-card-image-round":c&&l&&r,"intercom-messenger-card-image-first-component":i,"intercom-messenger-card-image-last-component":n,"intercom-messenger-card-image-margin-bottom-none":"none"===a,"intercom-messenger-card-image-active":this.hasUrlAction()&&!o,"intercom-messenger-card-image-disabled":o})},a.calculateImageWidth=function(e){if(e)return 213<e?"100%":e},a.calculateImageHeight=function(e,t){if(e&&t)return 213<e?"auto":t},a.getImageStyle=function(){var e=this.state,t=e.imageWidth,r=e.imageHeight,n=this.props,a=n.width||t,o=n.height||r;return a||o?{width:this.calculateImageWidth(a),height:this.calculateImageHeight(a,o)}:{}},a.render=function(){var t=this,e=this.props,r=e.url,n=e.alt;return l.a.createElement("div",{className:this.getClassName(),onClick:t.handleClick,"aria-label":n||"",tabIndex:this.hasUrlAction()?"0":"-1",onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button"},l.a.createElement("div",{className:"intercom-messenger-card-image-wrapper"},l.a.createElement("img",{src:r,alt:n||"",style:this.getImageStyle(),onLoad:this.handleImageLoad})))},r}(a.Component);j(O,"defaultProps",{align:"left",rounded:!1,isLast:!1,bottomMargin:"default",disabled:!1});var N=r(507);function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return T(P(n=a.call.apply(a,[this].concat(t))||this),"node",null),T(P(n),"interval",void 0),T(P(n),"handleSubmit",function(){var e=n.props,t=e.id,r=e.action;n.props.onSubmit(t,r,"input","submitted")}),T(P(n),"handleChange",function(e){n.props.onChange(n.props.id,e)}),T(P(n),"handleFocus",function(){n.props.onFocus(n.props.id)}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.isLast,r=e.bottomMargin;return b()({"intercom-messenger-card-input":!0,"intercom-messenger-card-input-last-component":t,"intercom-messenger-card-input-margin-bottom-none":"none"===r})},n.componentWillUnmount=function(){clearInterval(this.interval)},n.renderLabel=function(){return l.a.createElement("label",{className:"intercom-messenger-card-input-label"},this.props.label)},n.buildInputProps=function(){var e=this.props,t=e.action,r=e.value,n=e.id,a=e.label;return{value:r,placeholder:e.placeholder,id:n,label:a,saveState:e.saveState,disabled:e.disabled,ariaLabel:e.ariaLabel,ariaLabelledby:e.ariaLabelledby,buttonAriaLabel:t?t.ariaLabel:void 0,buttonAriaLabelledby:t?t.ariaLabelledby:void 0,hideErrorMessage:!0,autoFocus:!1,isBorderless:!1,isReplyType:!1,isSubmittable:!!t,onSubmit:this.handleSubmit,onChange:this.handleChange,isValid:function(){return!0},onFocus:this.handleFocus}},n.renderInput=function(){var e=this.buildInputProps();return l.a.createElement(N.a,e)},n.render=function(){var t=this;return l.a.createElement("div",{className:this.getClassName(),ref:function(e){return t.node=e}},this.props.label?this.renderLabel():null,this.renderInput())},r}(a.PureComponent);T(A,"defaultProps",{disabled:!1,saveState:"unsaved",required:!0,isLast:!1,bottomMargin:"default"});var x=r(58);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(e){var t=e.onClick;return Object(_.a)(window)?l.a.createElement("div",{className:"intercom-messenger-card-textarea-overlay",onClick:t,tabIndex:"-1",role:"presentation"}):null},D=function(e){var t=e.value;return t?l.a.createElement("label",{className:"intercom-messenger-card-textarea-label"},t):null},L=function(n){var e,t;function r(){for(var i,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return M(R(i=n.call.apply(n,[this].concat(t))||this),"state",{value:i.props.value||""}),M(R(i),"handleChange",function(e){var t=e.target.value;i.setState({value:t}),i.props.onChange(i.props.id,t)}),M(R(i),"handleFocus",function(){i.props.onFocus(i.props.id)}),M(R(i),"handleOnClick",function(){var e=i.props,t=e.disabled,r=e.id,n=e.label,a=Object(_.a)(window);if(a&&!t){var o={type:"INPUT_TEXT",payload:{currentValue:i.state.value,id:r,label:n,placeholder:i.props.placeholder}};a.handleAction(JSON.stringify(o))}}),i}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.getClassName=function(){var e=this.props,t=e.isLast,r=e.bottomMargin,n=e.error;return b()({"intercom-messenger-card-textarea":!0,"intercom-textarea-failed":n,"intercom-messenger-card-data-table-margin-bottom-none":"none"===r||t})},a.buildTextAreaProps=function(){var e=this.state.value,t=this.props,r=t.id,n=t.label;return{value:e,placeholder:t.placeholder,id:r,label:n,disabled:t.disabled,autoFocus:!1,onChange:this.handleChange,onFocus:this.handleFocus}},a.render=function(){var e=this.buildTextAreaProps(),t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){M(t,e,r[e])})}return t}({},this.props.error?{"aria-invalid":!0}:{},{"aria-labelledby":this.props.ariaLabelledby,"aria-label":this.props.ariaLabel||this.props.label});return l.a.createElement("div",{className:this.getClassName()},l.a.createElement(D,{value:this.props.label}),l.a.createElement(B,{onClick:this.handleOnClick}),l.a.createElement("textarea",I({className:"intercom-messenger-card-textarea",onBlur:x.d},e,t)))},r}(a.PureComponent);M(L,"defaultProps",{disabled:!1,isLast:!1,bottomMargin:"default"});var F,U,H,W=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){var e=this.props.size;return b()({"intercom-messenger-card-spacer":!0,"intercom-messenger-card-spacer-xs":"xs"===e,"intercom-messenger-card-spacer-s":"s"===e,"intercom-messenger-card-spacer-m":"m"===e,"intercom-messenger-card-spacer-l":"l"===e,"intercom-messenger-card-spacer-xl":"xl"===e})},a.render=function(){return l.a.createElement("div",{className:this.getClassName()})},n}(a.PureComponent);H={size:"s"},(U="defaultProps")in(F=W)?Object.defineProperty(F,U,{value:H,enumerable:!0,configurable:!0,writable:!0}):F[U]=H;var q,V,z,G=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){var e=this.props,t=e.isLast,r=e.bottomMargin;return b()({"intercom-messenger-card-divider":!0,"intercom-messenger-card-divider-last-component":t,"intercom-messenger-card-divider-margin-bottom-none":"none"===r})},a.render=function(){return l.a.createElement("div",{className:this.getClassName()})},n}(a.PureComponent);function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}z={isLast:!(V="defaultProps"),bottomMargin:"default"},V in(q=G)?Object.defineProperty(q,V,{value:z,enumerable:!0,configurable:!0,writable:!0}):q[V]=z;var J=function(n){var e,t;function r(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return K(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o=n.call.apply(n,[this].concat(t))||this),"handleClick",function(e){var t=o.props,r=t.id,n=t.action,a=t.onClick;!o.isDisabled()&&n&&a(r,n,"actionable_list_item","clicked",e)}),o}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.isDisabled=function(){var e=this.props,t=e.disabled,r=e.loading;return t||r},a.hasUrlAction=function(){var e=this.props.action;return e&&"url"===e.type&&e.url},a.getClassName=function(){var e=this.props.action,t=this.context.isPrimaryColorLight;return b()({"intercom-messenger-card-list-item":!0,"intercom-messenger-card-list-item-light":t(),"intercom-messenger-card-list-item-active":e&&!this.isDisabled(),"intercom-messenger-card-list-item-disabled":this.isDisabled()})},a.getTitleClassName=function(){var e=this.props.action;return b()({"intercom-messenger-card-list-item-text-title":!0,"intercom-messenger-card-list-item-text-title-action":e,"intercom-messenger-card-list-item-text-title-disabled":this.isDisabled()})},a.buildImageProps=function(){var e=this.props;return{type:"image",url:e.image,width:e.imageWidth,height:e.imageHeight,rounded:e.roundedImage,disabled:this.isDisabled()}},a.renderSubtitle=function(){var e=this.props,t=e.subtitle,r=e.tertiaryText;return l.a.createElement("div",{className:"intercom-messenger-card-list-item-text-subtitle"},t?l.a.createElement("span",{className:"intercom-messenger-card-list-item-text-subtitle-secondary-text"},t):null,r?l.a.createElement("span",{className:"intercom-messenger-card-list-item-text-subtitle-tertiary-text"},r):null)},a.renderSpinner=function(){return this.hasUrlAction()||!this.props.loading?null:l.a.createElement(g.a,{size:"small",color:"primary"})},a.render=function(){var t=this,e=this.props,r=e.title,n=e.subtitle,a=e.tertiaryText,o=e.image,i=e.disabled;return l.a.createElement("div",{className:this.getClassName(),onClick:t.handleClick,"aria-disabled":i,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},o?l.a.createElement(O,this.buildImageProps()):null,l.a.createElement("div",{className:"intercom-messenger-card-list-item-text"},l.a.createElement("div",{className:this.getTitleClassName()},r),n||a?this.renderSubtitle():null),this.renderSpinner())},r}(a.PureComponent);function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}K(J,"defaultProps",{title:"",disabled:!1,loading:!1,roundedImage:!1}),K(J,"contextTypes",{isPrimaryColorLight:h.a.func});var X,Y,$,Q=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){var e=this.props,t=e.isFirst,r=e.isLast,n=e.bottomMargin;return b()({"intercom-messenger-card-list":!0,"intercom-messenger-card-list-first-component":t,"intercom-messenger-card-list-last-component":r,"intercom-messenger-card-list-margin-bottom-none":"none"===n})},a.render=function(){var e=this.props,t=e.items,r=e.onItemClick,n=e.disabled;return l.a.createElement("div",{className:this.getClassName()},t.map(function(e,t){return l.a.createElement(J,Z({key:t},e,{disabled:n||e.disabled,onClick:r}))}))},n}(a.PureComponent);function ee(e){var t=e.items,r=e.bottomMargin,n=b()({"intercom-messenger-card-data-table":!0,"intercom-messenger-card-data-table-margin-bottom-none":"none"===r});return l.a.createElement("table",{className:n},l.a.createElement("tbody",null,t.map(function(e,t){return r=e.field,n=e.value,a=t,l.a.createElement("tr",{key:a.toString(),className:"intercom-messenger-card-field-value"},l.a.createElement("td",{className:"intercom-messenger-card-field-value-field"},r),l.a.createElement("td",{className:"intercom-messenger-card-field-value-value"},n));var r,n,a})))}$={items:[],isFirst:!(Y="defaultProps"),isLast:!1,bottomMargin:"default",disabled:!1},Y in(X=Q)?Object.defineProperty(X,Y,{value:$,enumerable:!0,configurable:!0,writable:!0}):X[Y]=$;var te=r(519);function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ae=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ne(re(t=a.call.apply(a,[this].concat(r))||this),"state",t.getDefaultState()),ne(re(t),"handleOnChange",function(e){t.setState({value:e}),t.props.onChange(t.props.id,e.id)}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getDefaultState=function(){var e=this.props,t=e.options,r=e.value;return{value:t.find(function(e){return e.id===r}),loading:!1}},n.getClassName=function(){var e=this.props,t=e.disabled,r=e.bottomMargin;return b()({"intercom-messenger-card-dropdown":!0,"intercom-messenger-card-dropdown-disabled":t,"intercom-messenger-card-dropdown-margin-bottom-none":"none"===r})},n.renderLabel=function(){return l.a.createElement("label",{className:"intercom-messenger-card-dropdown-label"},this.props.label)},n.mapOptions=function(){return this.props.options.map(function(e){return{id:e.id,text:e.text,disabled:!!e.disabled}})},n.render=function(){var e=this.props,t=e.label,r=e.disabled,n=e.saveState;return l.a.createElement("div",{className:this.getClassName()},t?this.renderLabel():null,l.a.createElement(te.a,{value:this.state.value,options:this.mapOptions(),disabled:r,saveState:n,frameWindow:this.props.frameWindow,onChange:this.handleOnChange}))},r}(a.PureComponent);ne(ae,"defaultProps",{disabled:!1,bottomMargin:"default"});var oe=r(520),ie=r(181);function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var le=function(n){var e,t;function r(){for(var s,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ce(se(s=n.call.apply(n,[this].concat(t))||this),"state",s.getDefaultState()),ce(se(s),"handleOnChange",function(e){var t=s.props,r=t.id,n=t.action,a=t.disabled,o=t.onChange,i=t.onSubmit;a||s.state.loading||(n?("submit"===n.type&&s.setState({value:e,loading:!0}),o(r,e.id,function(){i(r,n,"single-select","submitted")})):(s.setState({value:e}),o(r,e.id)))}),s}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.getDefaultState=function(){var e=this.props,t=e.options,r=e.value,n=e.saveState;return{value:t.find(function(e){return e.id===r}),loading:"saving"===n}},a.componentDidUpdate=function(){this.state.loading&&"saved"===this.props.saveState&&this.handleSaveCompletion()},a.getClassName=function(){var e=this.props,t=e.disabled,r=e.bottomMargin;return b()({"intercom-messenger-card-single-select":!0,"intercom-messenger-card-single-select-disabled":t,"intercom-messenger-card-single-select-loading":this.state.loading,"intercom-messenger-card-single-select-margin-bottom-none":"none"===r})},a.renderLabel=function(){return l.a.createElement("label",{className:"intercom-messenger-card-single-select-label"},this.props.label)},a.handleSaveCompletion=function(){this.setState({loading:!1})},a.mapOptions=function(){return this.props.options.map(function(e){return{id:e.id,text:e.text,disabled:!!e.disabled}})},a.render=function(){var e=this.props,t=e.label,r=e.saveState,n=e.disabled,a=this.state.value;return l.a.createElement("div",{className:this.getClassName()},t?this.renderLabel():null,l.a.createElement(oe.a,{value:a,key:Object(ie.a)(JSON.stringify(a)),options:this.mapOptions(),saveState:r,disabled:n,isLoading:this.state.loading,onChange:this.handleOnChange}))},r}(a.PureComponent);ce(le,"defaultProps",{disabled:!1,bottomMargin:"default"});var ue=r(517);var de=function(s){var e,t;function r(){for(var e,t,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=s.call.apply(s,[this].concat(o))||this,t=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),n=function(){e.props.getCardContent()},(r="handleTryAgain")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var t=this;return l.a.createElement("div",{className:"intercom-messenger-card-error"},l.a.createElement(ue.a,null),l.a.createElement("span",null,Object(y.c)("couldnt_load_app")," "),l.a.createElement("span",{className:"try-again",onClick:t.handleTryAgain,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleTryAgain(e)},role:"button",tabIndex:"0"},Object(y.c)("try_again")))},r}(a.PureComponent),pe=r(60);function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ve=function(e,a){var o={};return e.components.map(function(e){var t,r,n;be(e)&&(o[e.id]=(t=a[e.id],r=e,(n=t||{}).userChanged||(n={value:r.value||"",userChanged:!1}),n))}),o},be=function(e){return"input"===e.type||"dropdown"===e.type||"single-select"===e.type},ge=function(n){var e,t;function r(){for(var m,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return fe(he(m=n.call.apply(n,[this].concat(t))||this),"state",{values:ve(m.props,{}),isGroupLoading:!1,isGroupSaving:!1}),fe(he(m),"handleFormComponentChange",function(e,t,r){var n,a=d()({},m.state.values,((n={})[e]={value:t,userChanged:!0},n));m.setState({values:a},r)}),fe(he(m),"handleInputFocus",function(e){var t=m.props,r=t.cardUri,n=t.messengerAppId,a=t.conversationId,o=t.currentView,i=t.isBorderless;m.context.addMetric("focused","input","messenger_card",o,{conversation_id:a,messenger_app_id:n,messenger_card_uri:r,component_id:e,is_borderless:i},"m4_metric")}),fe(he(m),"handleTextAreaFocus",function(e){var t=m.props,r=t.cardUri,n=t.messengerAppId,a=t.conversationId,o=t.currentView,i=t.isBorderless;m.context.addMetric("focused","textarea","messenger_card",o,{conversation_id:a,messenger_app_id:n,messenger_card_uri:r,component_id:e,is_borderless:i},"m4_metric")}),fe(he(m),"handleAction",function(e,t,r,n,a){var o,i=m.props,s=i.cardUri,c=i.messengerAppId,l=i.conversationId,u=i.currentView,d=i.isBorderless;if(m.context.addMetric(n,r,"messenger_card",u,{conversation_id:l,messenger_app_id:c,messenger_card_uri:s,action_type:t.type,component_id:e,is_borderless:d},"m4_metric"),"sheet"===t.type&&(m.context.addMetric("viewed","messenger_sheet","messenger",u,{conversation_id:l,messenger_app_id:c,messenger_card_uri:s,component_id:e,url:t.url,is_borderless:d},"m4_metric"),a)){var p=a.target;p&&Object(pe.f)(function(){return setTimeout(function(){return p.focus()},100)})}m.props.onAction(e,t,(o=m.state.values,Object.keys(o).reduce(function(e,t){return e[t]=o[t].value,e},{})))}),m}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){return{values:ve(e,t&&t.values?t.values:{}),isGroupLoading:Object(f.b)(e.components,"loading",!0),isGroupSaving:Object(f.b)(e.components,"saveState","saving")}};var a=r.prototype;return a.isDisabled=function(e){var t=this.state,r=t.isGroupLoading,n=t.isGroupSaving;return!0===e.disabled||r||n},a.renderComponent=function(e,t){var r={isFirst:0===t,isLast:t===this.props.components.length-1};switch(e.type){case"button":return l.a.createElement(w,me({},e,r,{onClick:this.handleAction,disabled:this.isDisabled(e)}));case"text":return l.a.createElement(k.a,me({},e,r));case"input":return l.a.createElement(A,me({},e,r,{onSubmit:this.handleAction,onChange:this.handleFormComponentChange,onFocus:this.handleInputFocus,disabled:this.isDisabled(e)}));case"textarea":return l.a.createElement(L,me({},e,r,{onChange:this.handleFormComponentChange,onFocus:this.handleTextAreaFocus,disabled:this.isDisabled(e)}));case"spacer":return l.a.createElement(W,e);case"divider":return l.a.createElement(G,me({},e,r));case"image":return l.a.createElement(O,me({},e,r,{onClick:this.handleAction}));case"list":return l.a.createElement(Q,me({},e,r,{onItemClick:this.handleAction,disabled:this.isDisabled(e)}));case"dropdown":return l.a.createElement(ae,me({},e,r,{onChange:this.handleFormComponentChange,disabled:this.isDisabled(e),frameWindow:this.props.frameWindow}));case"single-select":return l.a.createElement(le,me({},e,r,{onSubmit:this.handleAction,onChange:this.handleFormComponentChange,disabled:this.isDisabled(e)}));case"data-table":return l.a.createElement(ee,me({},e,r));default:return"Unknown component: "+e.type}},a.renderError=function(){return this.props.isContentFetching?null:l.a.createElement(p.CSSTransition,{key:"error",classNames:"intercom-messenger-card-component",timeout:{enter:900}},l.a.createElement(de,{getCardContent:this.props.getCardContent}))},a.renderComponents=function(){var r=this,e=this.props.components;return e.length?l.a.createElement(p.CSSTransition,{key:"error",classNames:"intercom-messenger-card-component",timeout:{enter:900}},l.a.createElement("div",null,e.map(function(e,t){return l.a.createElement("div",{key:Object(f.a)(e,t),className:"intercom-messenger-card-component"},r.renderComponent(e,t))}))):null},a.render=function(){return l.a.createElement(p.TransitionGroup,{exit:!1,className:"intercom-messenger-card-component-group"},this.props.isContentError?this.renderError():this.renderComponents())},r}(a.PureComponent);ge.contextTypes={addMetric:h.a.func};var ye=r(59),Ce=Object(s.b)(function(e,t){var r=t.cardUri;if(!e.messengerCards)return{};var n=e.messengerCards[r];if(!n)return{};var a=n.card,o=!!e.borderless.conversationId,i=o?"conversation":Object(ye.c)(e),s=e.app.conversationId;return{cardUri:r,currentView:i,messengerAppId:a&&a.messenger_app_id,conversationId:s,isBorderless:o}})(ge),Ee=r(505);function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"c",function(){return _e}),r.d(t,"d",function(){return Se}),r.d(t,"b",function(){return je}),r.d(t,"a",function(){return Pe});var _e=900,Se=300,je=300,Oe=function(e){return e.components.map(f.a).join("-")},Ne=function(e,t){return!(-1!==Oe(t).indexOf(Oe(e)))},Pe=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ke(we(t=a.call.apply(a,[this].concat(r))||this),"cardBodyNode",null),ke(we(t),"state",{bodyKey:"front",prevProps:t.props}),ke(we(t),"handleHeightChange",function(e){t.props.onHeightChange(e.height)}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){return!t||o()(e,t.prevProps)?null:Ne(t.prevProps,e)?{bodyKey:(r=t.bodyKey,"front"===r?"back":"front"),prevProps:e}:{prevProps:e};var r};var n=r.prototype;return n.componentDidUpdate=function(e){if(this.cardBodyNode&&Ne(e,this.props)){var t=this.cardBodyNode.querySelector('input, button, [role="button"]');t&&t.focus()}},n.render=function(){var t=this,e=this.props,r=e.cardUri,n=e.isContentFetching,a=e.isContentError,o=e.components,i=e.onAction,s=e.getCardContent,c=e.frameWindow;return l.a.createElement(u.a,{component:"div",className:"intercom-messenger-card-body-container",transitionName:"intercom-messenger-card-body",transitionEnterTimeout:_e,transitionLeaveTimeout:Se},l.a.createElement(Ee.a,{id:"body",key:this.state.bodyKey,onChange:this.handleHeightChange},l.a.createElement("div",{className:"intercom-messenger-card-body",ref:function(e){return t.cardBodyNode=e},"aria-live":"polite"},l.a.createElement(Ce,{cardUri:r,isContentError:a,isContentFetching:n,components:o,onAction:i,getCardContent:s,frameWindow:c}))))},r}(a.PureComponent);ke(Pe,"defaultProps",{isContentError:!1,transitionFlow:"downward"})},174:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(0),a=r.n(n);var o=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){return a.a.createElement("div",{className:"intercom-notification-channels-error"},a.a.createElement("p",{className:"intercom-notification-channels-error-text",role:"alert"},this.props.errorMessage))},n}(n.PureComponent)},177:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return u}),r.d(t,"b",function(){return d});var n=r(37),s=r(51),c=r(127),a=function(n,a,o,i){return function(t,e){var r=e().session;return t(l(a,o)),n.submitMessengerCardAction(r,a,o,i).then(function(e){t(u(e)),t(Object(s.a)(n,e))}).catch(function(){t(d(a,o)),t(Object(c.b)("MessengerCardSubmitError",{cardUri:a,componentId:o,inputValues:i}))})}},l=function(e,t){return{type:"SUBMIT_MESSENGER_CARD_ACTION_REQUEST",cardUri:e,componentId:t}},u=function(e){return{type:"SUBMIT_MESSENGER_CARD_ACTION_SUCCESS",card:Object(n.c)(e)}},d=function(e,t){return{type:"SUBMIT_MESSENGER_CARD_ACTION_FAILURE",cardUri:e,componentId:t}}},227:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a});var n="html-loaded",a="sheet-loaded"},38:function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"d",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"g",function(){return i}),r.d(t,"f",function(){return s}),r.d(t,"b",function(){return c}),r.d(t,"e",function(){return l}),r.d(t,"h",function(){return u});var n="send-data-to-messenger",a="send-data-to-sheet",o="close",i="submit-sheet",s="start-navigation",c="finish-navigation",l="set-title";function u(e,t,r){return{intercomSheet:{type:e,payload:t,meta:{proxy:r}}}}},505:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(0),a=r(71),o=r.n(a);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s(i(a=n.call.apply(n,[this].concat(t))||this),"interval",void 0),s(i(a),"state",{width:-1,height:-1}),s(i(a),"handleChange",function(){var e=o.a.findDOMNode(i(a));if(e&&!(e instanceof Text)){var t=e.getBoundingClientRect(),r=t.width,n=t.height;a.state.width===r&&a.state.height===n||(a.setState({width:r,height:n}),a.props.onChange({width:r,height:n}))}}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentDidMount=function(){this.interval=setInterval(this.handleChange,100),this.handleChange()},a.componentWillUnmount=function(){clearInterval(this.interval)},a.render=function(){return this.props.children},r}(n.PureComponent)},507:function(e,t,r){"use strict";var n=r(171),o=r.n(n),a=r(0),f=r.n(a),i=r(2),s=r.n(i),h=r(42),v=r(58);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(c(r=a.call.apply(a,[this].concat(t))||this),"state",{value:r.props.value||""}),g(c(r),"handleChange",function(e){var t=e.target.value.trim();r.setState({value:t}),r.props.onChange(t)}),g(c(r),"handleClick",function(){var e=Object(h.a)(window);if(e&&!r.props.disabled){var t={type:"INPUT_TEXT",payload:{currentValue:r.state.value,id:r.props.id,label:r.props.label,placeholder:r.props.placeholder}};e.handleAction(JSON.stringify(t))}}),r}return t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var e,t=this,r=this.props,n=r.value,a=r.placeholder,o=r.disabled,i=r.autoFocus,s=r.onFocus,c=r.onKeyDown,l=r.isFailed,u=r.ariaLabel,d=r.ariaLabelledby,p=r.type,m=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){g(t,e,r[e])})}return t}({},l?{"aria-invalid":!0}:{},{"aria-labelledby":d,"aria-label":u});return Object(h.a)(window)?f.a.createElement("div",{style:{position:"relative"}},f.a.createElement("div",{className:"intercom-messenger-card-input-overlay",onClick:t.handleClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"}," "),f.a.createElement("input",b({type:p,autoComplete:"email"===p?"email":"off",disabled:o,defaultValue:n,value:n,placeholder:a,autoFocus:i,onFocus:s,onKeyDown:c,onChange:this.handleChange,onBlur:v.d},m))):f.a.createElement("div",null,f.a.createElement("input",b(((e={type:p,autoComplete:"email"===p?"email":"off",disabled:o,defaultValue:n,placeholder:a,autoFocus:i,onFocus:s,onKeyDown:c,onChange:this.handleChange}).onFocus=s,e.onBlur=v.d,e),m)))},r}(a.PureComponent);g(y,"defaultProps",{disabled:!1,autoFocus:!0,onChange:function(){}});var l=r(11),u=r.n(l),C=r(15),E=r(518);function w(){return f.a.createElement("svg",{className:"intercom-submittable-input-success-icon"},f.a.createElement("path",{d:"M1 5.485l5.194 4.706L13.36.874",strokeWidth:"2.5",fill:"none",fillRule:"evenodd"}))}var d=r(86);function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return _(p(t=a.call.apply(a,[this].concat(r))||this),"state",{value:t.props.value||""}),_(p(t),"handleChange",function(e){t.setState({value:e}),t.props.onChange(e)}),_(p(t),"handleSubmit",function(){if(!t.isDisabled()){var e=t.state.value;t.props.onSubmit(e)}}),_(p(t),"handleKeyDown",function(e){13===e.keyCode&&(e.preventDefault(),t.handleSubmit())}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getButtonClassNames=function(){var e=this.props,t=e.saveState,r=e.disabled,n=this.context.isPrimaryColorLight;return u()({"intercom-submittable-input-submit-button":!0,"intercom-submittable-input-submit-button-disabled":r&&"saving"!==t,"intercom-submittable-input-submit-button-saving":"saving"===t,"intercom-submittable-input-submit-button-light":n&&n()})},n.isDisabled=function(){var e=this.props,t=e.saveState;return e.disabled||"saving"===t||"saved"===t},n.renderLoadingSpinner=function(){var e=(0,this.context.isPrimaryColorLight)()?"black":"white";return f.a.createElement(d.a,{color:e,size:"small"})},n.render=function(){var e=this.props,t=e.value,r=e.saveState,n=e.placeholder,a=e.id,o=e.label,i=e.autoFocus,s=e.onFocus,c=e.ariaLabel,l=e.ariaLabelledby,u=e.buttonAriaLabel,d=e.buttonAriaLabelledby,p=e.type,m="saving"===r,h=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){_(t,e,r[e])})}return t}({"aria-label":m?Object(C.c)("loading"):u||Object(C.c)("submit"),"aria-labelledby":d},m?{role:"progressbar"}:{});return f.a.createElement("div",null,f.a.createElement(y,{value:t,key:t,placeholder:n,id:a,label:o,ariaLabel:c,ariaLabelledby:l,type:p,disabled:this.isDisabled(),autoFocus:i,onChange:this.handleChange,onSubmit:this.handleSubmit,onKeyDown:this.handleKeyDown,onFocus:s,isFailed:"failed"===r}),f.a.createElement("button",k({className:this.getButtonClassNames(),disabled:this.isDisabled(),onClick:this.handleSubmit},h,{tabIndex:"0"}),f.a.createElement(E.a,null),m?this.renderLoadingSpinner():null),f.a.createElement(w,null))},r}(a.PureComponent);_(m,"contextTypes",{isPrimaryColorLight:s.a.func}),_(m,"defaultProps",{saveState:"unsaved",disabled:!1,autoFocus:!0,errorMessage:Object(C.c)("something_is_wrong"),onChange:function(){}});var S=r(174);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return P});var P=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return N(O(t=a.call.apply(a,[this].concat(r))||this),"state",{value:t.props.value||"",saveState:t.props.saveState,isInvalid:"failed"===t.props.saveState,prevProps:t.props}),N(O(t),"handleChange",function(e){t.setState({saveState:"unsaved",isInvalid:!1}),t.props.onChange(e)}),N(O(t),"handleSubmit",function(e){t.props.isValid(e)?t.props.onSubmit(e):t.setState({saveState:"failed",isInvalid:!0})}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){return!t||o()(e,t.prevProps)?null:{value:e.value||t.value||"",saveState:e.saveState,isInvalid:"failed"===e.saveState,prevProps:e}};var n=r.prototype;return n.autoFocus=function(){var e=this.props,t=e.isBorderless,r=e.isReplyType,n=e.autoFocus;return(!t||!r)&&n},n.getInputClassNames=function(){var e=this.props,t=e.saveState,r=e.isBorderless,n=e.isReplyType,a=e.isNotificationChannel;return u()({"intercom-validating-input":!0,"intercom-validating-input-saving":"saving"===t,"intercom-validating-input-saved":"saved"===t,"intercom-validating-input-failed":"failed"===t||this.state.isInvalid,"intercom-validating-input-borderless":r,"intercom-validating-input-reply-type":n,"intercom-validating-input-notification-channel":a})},n.buildInputProps=function(){var e=this.props,t=e.saveState,r=e.value,n=e.placeholder,a=e.id,o=e.label,i=e.disabled,s=e.onFocus;return{value:r,key:r,placeholder:n,id:a,label:o,ariaLabel:e.ariaLabel,ariaLabelledby:e.ariaLabelledby,type:e.type,saveState:this.state.saveState,disabled:i,autoFocus:this.autoFocus(),onFocus:s,onChange:this.handleChange,isFailed:"failed"===t||this.state.isInvalid}},n.render=function(){var e=this.buildInputProps(),t=this.state.isInvalid,r=this.props,n=r.validationErrorMessage,a=r.hideErrorMessage,o=r.isSubmittable,i=r.buttonAriaLabel,s=r.buttonAriaLabelledby;return f.a.createElement("div",null,f.a.createElement("div",{className:this.getInputClassNames()},o?f.a.createElement(m,j({},e,{onSubmit:this.handleSubmit,buttonAriaLabel:i,buttonAriaLabelledby:s})):f.a.createElement(y,e)),t&&!a?f.a.createElement(S.a,{errorMessage:n}):null)},r}(a.PureComponent);N(P,"defaultProps",{saveState:"unsaved",type:"text",disabled:!1,hideErrorMessage:!1,validationErrorMessage:"",isBorderless:!1,isReplyType:!1,isNotificationChannel:!1,isSubmittable:!0,autoFocus:!0,onChange:function(){}})},516:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(0),o=r.n(n),a=r(11),i=r.n(a),s=r(726);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return c(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e=a.call.apply(a,[this].concat(r))||this),"renderParsedText",function(e){return Object(s.parseText)(e).map(function(e,t){switch(e.type){case"plain":return e.text;case"link":return o.a.createElement("a",{href:e.url,target:"_blank",key:"link-"+t,rel:"noopener noreferrer",className:"intercom-messenger-card-text-link"},e.text);case"bold":return o.a.createElement("b",{key:"bold-"+t,className:"intercom-messenger-card-text-bold"},e.text)}})}),e}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.style,r=e.align,n=e.isLast,a=e.bottomMargin;return i()({"intercom-messenger-card-text":!0,"intercom-messenger-card-text-header":"header"===t,"intercom-messenger-card-text-muted":"muted"===t,"intercom-messenger-card-text-paragraph":"paragraph"===t,"intercom-messenger-card-text-error":"error"===t,"intercom-messenger-card-text-left":"left"===r,"intercom-messenger-card-text-center":"center"===r,"intercom-messenger-card-text-right":"right"===r,"intercom-messenger-card-text-margin-bottom-none":"none"===a,"intercom-messenger-card-text-last-component":n})},n.render=function(){var e=this.props,t=e.text,r=e.style,n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){c(t,e,r[e])})}return t}({},"error"===r?{role:"alert"}:{},{className:this.getClassName(),children:this.renderParsedText(t)});return"header"===r?o.a.createElement("h2",n):o.a.createElement("div",n)},r}(n.PureComponent);c(l,"defaultProps",{type:"text",style:"paragraph",align:"left",isLast:!1,bottomMargin:"default"})},517:function(e,t,r){"use strict";var n=r(0),a=r.n(n);t.a=function(){return a.a.createElement("svg",null,a.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinejoin:"round"},a.a.createElement("path",{d:"M9 10.995V5.672M16.652 15.652H1.348L9 .348z",strokeLinecap:"round"}),a.a.createElement("path",{d:"M9.348 13.217a.348.348 0 1 1-.696 0 .348.348 0 0 1 .696 0z"})))}},518:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(0),a=r.n(n);function o(){return a.a.createElement("svg",{className:"intercom-submittable-input-submit-icon"},a.a.createElement("path",{d:"M1.5 13.864L7.864 7.5 1.5 1.136",strokeWidth:"2.5",fill:"none",fillRule:"evenodd"}))}},519:function(e,t,r){"use strict";var n=r(171),o=r.n(n),a=r(0),i=r.n(a),s=r(11),c=r.n(s),l=r(13),u=r(15),d=r(174);function p(){return i.a.createElement("svg",{className:"intercom-check-icon",width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M13.933 3.09a.35.35 0 0 0-.495.026l-7.236 8.012-3.757-3.393a.35.35 0 0 0-.495.025l-.86.951a.35.35 0 0 0 .026.495l4.96 4.48a.34.34 0 0 0 .17.082.346.346 0 0 0 .34-.107l8.324-9.217a.35.35 0 0 0-.026-.494l-.951-.86z"}))}var m=function(s){var e,t;function r(){for(var o,e,t,r,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return o=s.call.apply(s,[this].concat(a))||this,e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o),r=function(e){var t=o.props,r=t.id,n=t.text,a=t.onClick;t.disabled?e.stopPropagation():a({id:r,text:n})},(t="handleClick")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,o}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.isSelected,r=e.disabled;return c()({"intercom-list-attribute-option":!0,"intercom-list-attribute-option-selected":t,"intercom-list-attribute-option-disabled":r})},n.render=function(){var t=this,e=this.props,r=e.id,n=e.text,a=e.disabled,o=e.isSelected;return i.a.createElement("div",{key:r,className:this.getClassName(),onClick:t.handleClick,"aria-disabled":a,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},o?i.a.createElement(p,null):null,n)},r}(a.Component);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return v});var v=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(h(t=a.call.apply(a,[this].concat(r))||this),"listRef",void 0),f(h(t),"state",{value:t.props.value||null,isOpen:!1,prevProps:t.props}),f(h(t),"handleDocumentClick",function(e){t.eventTargetIsNotInsideList(e.target)&&t.state.isOpen&&t.setState({isOpen:!1})}),f(h(t),"eventTargetIsNotInsideList",function(e){return t.listRef&&!t.listRef.contains(e)}),f(h(t),"handleOpenToggle",function(e){e.preventDefault(),t.props.disabled||t.setState({isOpen:!t.state.isOpen})}),f(h(t),"handleChange",function(e){t.setState({value:e}),t.props.onChange(e)}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){if(!t||o()(e,t.prevProps))return null;var r=e.value||t.value||null;return e.disabled?{isOpen:!1,prevProps:e,value:r}:{value:r,prevProps:e}};var n=r.prototype;return n.componentDidMount=function(){this.props.frameWindow&&this.props.frameWindow.document.addEventListener("click",this.handleDocumentClick,!1),this.listRef&&this.props.autoFocus&&this.listRef.focus()},n.componentWillUnmount=function(){this.props.frameWindow&&this.props.frameWindow.document.removeEventListener("click",this.handleDocumentClick)},n.getClassName=function(){var e=this.props,t=e.saveState,r=e.disabled;return c()({"intercom-list-attribute":!0,"intercom-list-attribute-open":this.state.isOpen,"intercom-list-attribute-saving":"saving"===t,"intercom-list-attribute-saved":"saved"===t,"intercom-list-attribute-failed":"failed"===t,"intercom-list-attribute-disabled":r})},n.getPlaceholder=function(){return this.state.value?this.state.value.text:Object(u.c)("choose_one")},n.renderOption=function(e,t){var r=this.state.value;return i.a.createElement(m,{key:t,id:e.id,text:e.text,disabled:this.props.disabled||!!e.disabled,isSelected:!!r&&r.id===e.id,onClick:this.handleChange})},n.renderOptions=function(){var r=this,e=this.props.options.map(function(e,t){return r.renderOption(e,t)});return i.a.createElement("div",{className:"intercom-list-attribute-options",onWheel:l.d,onScroll:l.d},e)},n.renderUnsubmitted=function(){var t=this,e=this.props,r=e.disabled,n=e.saveState;return i.a.createElement("div",null,i.a.createElement("div",{className:this.getClassName(),onClick:t.handleOpenToggle,ref:function(e){return t.listRef=e},"aria-disabled":r,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleOpenToggle(e)},role:"button",tabIndex:"0"},i.a.createElement("span",{className:"intercom-list-attribute-placeholder"},this.getPlaceholder()),i.a.createElement("span",{className:"intercom-list-attribute-open-icon"}),this.state.isOpen&&this.renderOptions()),"failed"===n&&i.a.createElement(d.a,{errorMessage:Object(u.c)("something_is_wrong")}))},n.renderSubmitted=function(){return i.a.createElement("div",{className:this.getClassName(),"aria-disabled":!0},i.a.createElement("span",{className:"intercom-list-attribute-value"},this.getPlaceholder()),"saved"===this.props.saveState||"saving"===this.props.saveState?i.a.createElement("span",{className:"intercom-list-attribute-success-icon"}):null)},n.render=function(){var e=this.props.saveState;return"unsaved"===e||"failed"===e?this.renderUnsubmitted():this.renderSubmitted()},r}(a.Component);f(v,"defaultProps",{autoFocus:!1,disabled:!1})},520:function(e,t,r){"use strict";var n=r(0),i=r.n(n),a=r(11),o=r.n(a),s=r(15),c=r(174),l=r(86);var u=function(s){var e,t;function r(){for(var a,e,t,r,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return a=s.call.apply(s,[this].concat(o))||this,e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a),r=function(){var e=a.props,t=e.id,r=e.text,n=e.onClick;e.disabled||n({id:t,text:r})},(t="handleClick")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,a}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){var e=this.props,t=e.isSelected,r=e.disabled;return o()({"intercom-button-group-item-attribute":!0,"intercom-button-group-item-attribute-selected":t,"intercom-button-group-item-attribute-disabled":r})},n.renderText=function(){var e=this.props,t=e.text,r=e.isSelected,n=e.isLoading;return r&&n?i.a.createElement(l.a,{size:"small",color:"white"}):i.a.createElement("span",{className:"intercom-button-group-item-attribute-text"},t)},n.render=function(){var e=this.props,t=e.id,r=e.disabled;return i.a.createElement("button",{key:t,className:this.getClassNames(),onClick:this.handleClick,"aria-disabled":r,tabIndex:"0"},this.renderText())},r}(n.Component);function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return m});var m=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p(d(a=n.call.apply(n,[this].concat(t))||this),"state",{value:a.props.value}),p(d(a),"handleChange",function(e){var t=a.props,r=t.saveState,n=t.disabled;"saved"===r||"saving"===r||n||(a.setState({value:e}),a.props.onChange(e))}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.getClassName=function(){var e=this.props,t=e.saveState,r=e.disabled;return o()({"intercom-button-group-attribute":!0,"intercom-button-group-attribute-unsaved":"unsaved"===t,"intercom-button-group-attribute-saving":"saving"===t,"intercom-button-group-attribute-saved":"saved"===t,"intercom-button-group-attribute-failed":"failed"===t,"intercom-button-group-attribute-disabled":r})},a.renderOption=function(e,t){var r=this.props,n=r.disabled,a=r.isLoading,o=this.state.value;return i.a.createElement(u,{key:t,id:e.id,text:e.text,disabled:n||!!e.disabled,isSelected:!!o&&o.id===e.id,isLoading:a,onClick:this.handleChange})},a.renderOptions=function(){var r=this,e=this.props.options.map(function(e,t){return r.renderOption(e,t)});return i.a.createElement("div",{className:this.getClassName(),"aria-disabled":this.props.disabled},e)},a.render=function(){return i.a.createElement("div",null,this.renderOptions(),"failed"===this.props.saveState&&i.a.createElement(c.a,{errorMessage:Object(s.c)("something_is_wrong")}))},r}(n.Component)},761:function(e,t,r){"use strict";var n=r(0),a=r.n(n);t.a=function(){return a.a.createElement("svg",{className:"intercom-close-icon"},a.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("g",{transform:"translate(-340.000000, -32.000000)",fill:"#ffffff"},a.a.createElement("polygon",{points:"350.656537 44 346 39.343463 341.343463 44 340 42.656537 344.656537 38 340 33.343463 341.343463 32 346 36.656537 350.656537 32 352 33.343463 347.343463 38 352 42.656537"}))))}},762:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return s});var n=r(240),a=r(14),o=function(e){var t,r;c(e)&&(l()?window.open(e):(t=e,(r=window.open(""))&&(r.opener=null,r.document.write('<meta http-equiv="refresh" content="0; url='+t+'">'),r.document.close())))},i=function(e){return c(e)&&window.location.hostname!==Object(n.b)(e).hostname},s=function(e){var t=e.getAttribute("href"),r=e.getAttribute("data-via")||t;if(0<=e.className.split(" ").indexOf("intercom-link-card"))return!1;if(0===t.indexOf("mailto:"))return!1;e.setAttribute("href",r);var n=i(t);return a.a.isChrome()?(e.setAttribute("target",n?"_blank":"_parent"),!1):n?(o(r),!0):(e.setAttribute("target","_parent"),!1)},c=function(e){return null!=e&&""!==e},l=function(){return a.a.isElectron()||a.a.isNativeMobile()||a.a.isIOSFirefox()}},767:function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(0),i=r.n(n),a=r(11),s=r.n(a),o=r(2),c=r.n(o),l=r(163);function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(u(e=a.call.apply(a,[this].concat(r))||this),"state",{isRenderComplete:e.props.isContentFetched}),d(u(e),"settingRenderCompleteTimeout",void 0),e}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(e){var t=this;if(this.props.isContentFetched&&!e.isContentFetched){var r=l.c+l.b;this.settingRenderCompleteTimeout=setTimeout(function(){t.setState({isRenderComplete:!0})},r)}},n.componentWillUnmount=function(){clearTimeout(this.settingRenderCompleteTimeout)},n.render=function(){var e=this.props,t=e.isBorderless,r=e.children,n=e.style,a=this.context.isPrimaryColorLight,o=s()({"intercom-messenger-card-wrapper":!0,"intercom-messenger-card-wrapper-borderless":t,"intercom-messenger-card-wrapper-light":a(),"intercom-messenger-card-wrapper-fetching":!this.state.isRenderComplete});return i.a.createElement("div",{className:o,style:n},r)},r}(n.PureComponent);d(p,"defaultProps",{isBorderless:!1}),d(p,"contextTypes",{isPrimaryColorLight:c.a.func})},841:function(e,t,r){"use strict";var n=r(0),l=r.n(n),s=r(858),a=r(922),o=r.n(a),i=r(923),c=r.n(i);function u(e){var t="#1 { "+e+" }",r={};return function a(e,o){e.forEach(function(e){var t,r={};if("media"===e.type){t=p(e.media);var n=o[t]=o[t]||{__expression__:e.media};a(e.rules,n)}else"rule"===e.type&&(e.declarations.forEach(function(e){if("declaration"===e.type){var t=d(e.property);r[t]=e.value}}),e.selectors.forEach(function(e){t=m(e.trim()),o[t]=r}))})}(c()(t).stylesheet.rules,r),r[1]}var d=function(e){return e.replace(/(-.)/g,function(e){return e[1].toUpperCase()})},p=function(e){return"@media "+e};function m(e){return e=(e=(e=(e=e.replace(/\s\s+/g," ")).replace(/[^a-zA-Z0-9]/g,"_")).replace(/^_+/g,"")).replace(/_+$/g,"")}function h(e){return e?function e(t,r,n){void 0===t&&(t=[]);void 0===r&&(r=[]);var a=t.shift();if(!a)return r;{if("openElement"!==a.opcode)return"appendText"===a.opcode?(r.push(a.params),e(t,r,n)):r;var o=a.params,i=f(t,o,{key:n.keyIndex++}),s=e(t,[],n);s.length||(s=null);var c=l.a.createElement(o,i,s);return r.push(c),e(t,r,n)}}(o()(e).instructions,[],{keyIndex:0}):null}function f(e,t,r){if(void 0===r&&(r={}),"attribute"!==e[0].opcode)return r;var n,a,o=e.shift(),i=function(e){{if("class"===e)return"className";if("for"===e)return"htmlFor"}return e}(o.params[0]),s=(n=i,a=o.params[1],"style"!==n?a:u(a));return r[i]?r[i]=r[i]+" "+s:r[i]=s,f(e,t,r)}r.d(t,"a",function(){return y});var v,b,g,y=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.useNativeEmoji=function(){var e=this.props.emojiSupport;return"native"===e||"image"!==e&&Object(s.c)()},a.render=function(){var e=this.props,t=e.tagName,r=e.className,n=e.emojiImageSize,a=e.replaceAsciiEmoji,o=this.props.text,i=h(o=Object(s.d)(o,n,"intercom-emoji-sub-icon",this.useNativeEmoji(),a));return l.a.createElement(t,{className:r},i)},n}(n.Component);g={emojiSupport:"auto",emojiImageSize:16,replaceAsciiEmoji:!0,tagName:"span"},(b="defaultProps")in(v=y)?Object.defineProperty(v,b,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[b]=g},842:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(0),p=r.n(o),i=r(71),s=r.n(i),c=r(11),l=r.n(c),u=r(855),d=r(15);var m=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.src,r=e.onClose,n=e.frameWindow,a=e.returnFocus,o=e.title;return p.a.createElement(u.a,{onClose:r,frameWindow:n,returnFocus:a},p.a.createElement("div",{className:"intercom-zoomed-image-container"},p.a.createElement("img",{className:"intercom-zoomed-image",src:t,alt:o||"",onClick:r,"aria-label":Object(d.c)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r(e)},role:"button",tabIndex:"0"})))},n}(o.Component);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(o){var e,t;function r(e){var r;f(h(r=o.call(this,e)||this),"state",{loaded:!1,failed:!1,zoomed:!1}),f(h(r),"handleClick",function(){if(r.props.onImageClick){var e=s.a.findDOMNode(h(r)).getBoundingClientRect(),t=r.props.src;r.props.onImageClick(t,{x:e.left,y:e.top,width:e.width,height:e.height})}!r.state.zoomed&&r.props.zoomable&&r.setState({zoomed:!0})}),f(h(r),"handleClose",function(){r.setState({zoomed:!1})}),f(h(r),"handleLoad",function(){r.setState({loaded:!0})}),f(h(r),"handleError",function(){r.setState({failed:!0})});var t=r.props,n=t.width,a=t.height;return r.placeholder="data:image/svg+xml;charset=utf-8,%3Csvg xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg' width%3D'"+n+"' height%3D'"+a+"' viewBox%3D'0 0 "+n+" "+a+"'%2F%3E",r}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getProgressStyle=function(){var e=this.props.progress;return{width:100-Math.max(Math.min(e,100),0)+"%"}},n.imageHasLoaded=function(){return this.state.loaded&&!this.state.failed},n.getImageStyle=function(){return this.imageHasLoaded()?{}:{visbility:"hidden",width:0,height:0}},n.getClassNames=function(){var e=this.props.zoomable,t=this.state,r=t.loaded,n=t.zoomed;return l()({"intercom-image":!0,"intercom-image-loaded":r,"intercom-image-zoomed":n,"intercom-image-zoomable":e})},n.renderZoomedImage=function(){return p.a.createElement(m,{src:this.props.src,title:this.props.title,onClose:this.handleClose,frameWindow:this.props.frameWindow,returnFocus:this.imgRef&&this.imgRef.focus.bind(this.imgRef)})},n.renderProgress=function(){return p.a.createElement("div",{className:"intercom-image-progress",style:this.getProgressStyle()})},n.renderPlaceholderImage=function(){var e=this.props,t=e.width,r=e.height;return this.imageHasLoaded()?null:p.a.createElement("img",{src:this.placeholder,alt:"",width:t,height:r})},n.renderImage=function(){var t=this,e=this.props,r=e.src,n=e.width,a=e.height,o=e.progress,i=e.title,s=this.state.zoomed;return p.a.createElement(p.a.Fragment,null,p.a.createElement("img",{src:r,style:this.getImageStyle(),width:n,height:a,onLoad:this.handleLoad,onError:this.handleError,onClick:t.handleClick,alt:i,"aria-label":i,ref:function(e){return t.imgRef=e},onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"}),s?this.renderZoomedImage():null,o<100?this.renderProgress():null)},n.render=function(){var t=this;return p.a.createElement("div",{ref:function(e){return t.image=e},className:this.getClassNames()},this.renderPlaceholderImage(),this.renderImage())},r}(o.Component);v.defaultProps={zoomable:!1},v.propTypes={src:a.a.string.isRequired,width:a.a.number,height:a.a.number,zoomable:a.a.bool,progress:a.a.number,maxWidth:a.a.number,title:a.a.string,onImageClick:a.a.func,frameWindow:a.a.object};var b=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.renderLinkedImage=function(){var e=this.props.block,t=e.linkUrl,r=e.trackingLinkUrl;return p.a.createElement("a",{href:t,"data-via":r},this.renderImage())},a.renderImage=function(){var e=this.props,t=e.zoomable,r=e.block,n=e.maxWidth,a=e.onImageClick,o=e.frameWindow,i=r.url,s=r.width,c=r.height,l=r.progress,u=r.linkUrl,d=r.title;return p.a.createElement(v,{src:i,maxWidth:n,width:s,height:c,title:d,zoomable:t&&!u,progress:l,onImageClick:a,frameWindow:o})},a.render=function(){var e=this.props.block.linkUrl;return p.a.createElement("div",{className:"intercom-block intercom-block-image"},e?this.renderLinkedImage():this.renderImage())},n}(o.Component);b.defaultProps={zoomable:!1},b.propTypes={block:a.a.shape({url:a.a.string.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired,progress:a.a.number,linkUrl:a.a.string,title:a.a.string,trackingLinkUrl:a.a.string}).isRequired,zoomable:a.a.bool,maxWidth:a.a.number,onImageClick:a.a.func,frameWindow:a.a.object};var g=r(841);var y=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){var e=this.props.block.align;return l()({"intercom-block":!0,"intercom-block-paragraph":!0,"intercom-block-center":"center"===e})},a.render=function(){var e=this.props.block.text;return e?p.a.createElement(g.a,{text:e,tagName:"div",className:this.getClassName()}):null},n}(o.Component);y.propTypes={block:a.a.shape({text:a.a.string.isRequired,align:a.a.string}).isRequired};var C=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props.block.content;return p.a.createElement(g.a,{text:e,tagName:"div",className:"intercom-block intercom-block-paragraph"})},n}(o.Component);C.propTypes={block:a.a.shape({content:a.a.string.isRequired}).isRequired};var E=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getUrl=function(){switch(this.props.block.provider){case"youtube":return"https://www.youtube.com/embed/"+this.props.block.id+"?rel=0";case"vimeo":return"https://player.vimeo.com/video/"+this.props.block.id;case"wistia":return"https://fast.wistia.net/embed/iframe/"+this.props.block.id;case"loom":return"https://www.loom.com/embed/"+this.props.block.id;case"vidyard":return"https://play.vidyard.com/"+this.props.block.id}},a.render=function(){return p.a.createElement("div",{className:"intercom-block intercom-block-video"},p.a.createElement("iframe",{allowFullScreen:"1",frameBorder:"0",src:this.getUrl(),title:this.props.block.provider}))},n}(o.Component);E.propTypes={block:a.a.shape({id:a.a.string.isRequired,provider:a.a.string.isRequired}).isRequired};var w=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){return p.a.createElement("div",{className:"intercom-block intercom-block-video-reply"},p.a.createElement("video",{loop:!0,controls:!0,autoPlay:!0},p.a.createElement("source",{type:"video/mp4",src:this.props.block.url})))},n}(o.Component);w.propTypes={block:a.a.shape({url:a.a.string.isRequired}).isRequired};var k=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){var e=this.props.block.align;return l()({"intercom-block":!0,"intercom-block-heading":!0,"intercom-block-center":"center"===e})},a.render=function(){var e=this.props.block.text;return p.a.createElement(g.a,{tagName:"h1",text:e,className:this.getClassName()})},n}(o.Component);k.propTypes={block:a.a.shape({text:a.a.string.isRequired,align:a.a.string}).isRequired};var _=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){var e=this.props.block.align;return l()({"intercom-block":!0,"intercom-block-subheading":!0,"intercom-block-center":"center"===e})},a.render=function(){var e=this.props.block.text;return p.a.createElement(g.a,{tagName:"h2",text:e,className:this.getClassName()})},n}(o.Component);_.propTypes={block:a.a.shape({text:a.a.string.isRequired,align:a.a.string}).isRequired};var S=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){return l()({"intercom-block":!0,"intercom-block-unordered-list":this.isUnorderedList(),"intercom-block-ordered-list":!this.isUnorderedList()})},a.isUnorderedList=function(){return"unorderedList"===this.props.block.type},a.render=function(){var e=this.props.block.items,t=this.isUnorderedList()?"ul":"ol";return p.a.createElement(t,{className:this.getClassName()},e.map(function(e,t){return p.a.createElement(g.a,{text:e,key:t,tagName:"li"})}))},n}(o.Component);S.propTypes={block:a.a.shape({items:a.a.array.isRequired,type:a.a.string.isRequired}).isRequired};var j=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){var e=this.props.block.align;return l()({"intercom-block-button-container":!0,"intercom-block-center":"center"===e})},a.render=function(){var e=this.props.block,t=e.text,r=e.linkUrl,n=e.trackingLinkUrl;return p.a.createElement("div",{className:this.getClassName()},p.a.createElement("a",{href:r,"data-via":n,className:"intercom-block intercom-block-button"},p.a.createElement(g.a,{text:t})))},n}(o.Component);j.propTypes={block:a.a.shape({text:a.a.string.isRequired,linkUrl:a.a.string.isRequired,trackingLinkUrl:a.a.string,align:a.a.oneOf(["left","center"])}).isRequired};var O=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){return p.a.createElement("div",{className:"intercom-block intercom-block-twitter"},p.a.createElement("iframe",{allowTransparency:"true",frameBorder:"0",scrolling:"no",src:(e=this.props.block.username,"https://platform.twitter.com/widgets/follow_button.html?show_count=false&screen_name="+e),title:"Twitter"}));var e},n}(o.Component);O.propTypes={block:a.a.shape({username:a.a.string.isRequired}).isRequired};var N=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){return p.a.createElement("div",{className:"intercom-block intercom-block-facebook"},p.a.createElement("iframe",{src:(e=this.props.block.url,"https://www.facebook.com/plugins/like.php?href="+e+"&layout=button_count&action=like&share=false&size=small"),scrolling:"no",frameBorder:"0",allowTransparency:"true",title:"Facebook"}));var e},n}(o.Component);N.propTypes={block:a.a.shape({url:a.a.string.isRequired}).isRequired};var P=r(850);var T=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getProgressStyle=function(){var e=this.props.block.progress;return{width:100-Math.max(Math.min(e,100),0)+"%"}},a.splitStringWithMiddleTruncation=function(e){return e.length<20?e:e.slice(0,10)+"..."+e.slice(e.length-10,e.length)},a.render=function(){var a=this,e=this.props.block,t=e.attachments,o=e.progress;return p.a.createElement("div",{className:"intercom-block intercom-block-attachment-list"},t.map(function(e,t){var r=e.url,n=e.name;return p.a.createElement("a",{key:t,href:r,target:"_blank"},p.a.createElement("div",{className:"intercom-block-attachment-list-icon"},p.a.createElement(P.a,null)),p.a.createElement("div",{className:"intercom-block-attachment-list-name"},a.splitStringWithMiddleTruncation(n)),o<100?p.a.createElement("div",{className:"intercom-block-attachment-list-progress",style:a.getProgressStyle()}):null)}))},n}(o.Component);T.propTypes={block:a.a.shape({attachments:a.a.arrayOf(a.a.shape({url:a.a.string,name:a.a.string.isRequired})).isRequired,progress:a.a.number}).isRequired};var A=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props.block.text;return p.a.createElement("pre",{className:"intercom-block intercom-block-code"},p.a.createElement(g.a,{text:e,tagName:"code",replaceAsciiEmoji:!1}))},n}(o.Component);A.propTypes={block:a.a.shape({text:a.a.string.isRequired}).isRequired};var x=r(23),I=r(880);function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M(R(r=a.call.apply(a,[this].concat(t))||this),"addVideoAutoMessageMetric",function(e,t){r.context.addMetric(e,"video_auto_message","in_app","from_full",t)}),M(R(r),"handlePlayFromStart",function(){r.addVideoAutoMessageMetric("started")}),M(R(r),"handleComplete",function(){r.addVideoAutoMessageMetric("completed")}),M(R(r),"handleMuteChange",function(e){e&&r.addVideoAutoMessageMetric("muted")}),M(R(r),"handleReplay",function(){r.addVideoAutoMessageMetric("replay")}),M(R(r),"handleError",function(){r.addVideoAutoMessageMetric("failed")}),M(R(r),"handleVideoLoaded",function(e){r.addVideoAutoMessageMetric("loaded",{load_time:e})}),r}return t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var e=this.props,t=e.block,r=t.url,n=t.captions,a=t.thumbnailUrl,o=e.autoPlay;return p.a.createElement(I.a,{containerClassName:"intercom-block intercom-block-video-file",srcUrl:r,autoPlay:o,onPlayFromStart:this.handlePlayFromStart,onComplete:this.handleComplete,onMuteChange:this.handleMuteChange,onReplay:this.handleReplay,onError:this.handleError,onVideoLoaded:this.handleVideoLoaded,captions:n,thumbnailUrl:a})},r}(o.Component);M(B,"defaultProps",{autoPlay:!0}),B.contextTypes={addMetric:a.a.func};var D=Object(x.b)(function(e){return{appName:e.app.name}})(B),L=r(900);var F,U,H,W=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.block,r=e.isLastPart,n=e.frameWindow,a=this.context.onHeightChange;return p.a.createElement("div",{className:"intercom-block-messenger-card intercom-comment-body-block-group"},p.a.createElement(L.a,{isInline:!0,cardUri:t.uri,isLastPart:r,frameWindow:n,onHeightChange:a}))},n}(o.Component);F=W,U="contextTypes",H={onHeightChange:a.a.func},U in F?Object.defineProperty(F,U,{value:H,enumerable:!0,configurable:!0,writable:!0}):F[U]=H;var q=r(762);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",function(){return z});var z=function(s){var e,t;function r(){for(var e,t,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=s.call.apply(s,[this].concat(o))||this,t=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),n=function(e){var t=G(e.target,"href");t&&Object(q.a)(t)&&e.preventDefault()},(r="handleClick")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.renderBlock=function(e,t){var r=this.props,n=r.zoomable,a=r.maxImageWidth,o=r.onImageClick,i=r.author,s=r.autoPlay,c=r.isLastPart,l=r.frameWindow,u={key:t,block:e,isLastPart:c};switch(e.type){case"image":return Object.assign(u,{onImageClick:o,zoomable:n,maxWidth:a}),p.a.createElement(b,V({},u,{frameWindow:l}));case"video":return p.a.createElement(E,u);case"videoFile":return Object.assign(u,{autoPlay:s,author:i}),p.a.createElement(D,u);case"videoReply":return p.a.createElement(w,u);case"paragraph":return p.a.createElement(y,u);case"heading":return p.a.createElement(k,u);case"subheading":return p.a.createElement(_,u);case"unorderedList":case"orderedList":return p.a.createElement(S,u);case"html":return p.a.createElement(C,u);case"button":return p.a.createElement(j,u);case"twitterFollowButton":return p.a.createElement(O,u);case"facebookLikeButton":return p.a.createElement(N,u);case"attachmentList":return p.a.createElement(T,u);case"code":return p.a.createElement(A,u);case"messengerCard":return Object.assign(u,{frameWindow:l}),p.a.createElement(W,u);case"rawContent":return p.a.createElement(C,u);default:return p.a.createElement(y,u)}},n.render=function(){var r=this;return p.a.createElement("div",{className:"intercom-blocks",onClick:this.handleClick,tabIndex:"-1",role:"presentation"},this.props.blocks.map(function(e,t){return r.renderBlock(e,t)}))},r}(o.Component),G=function(e,t){for(;e;){if(void 0!==e.getAttribute&&null!==e.getAttribute(t))return e;e=e.parentNode}return null};z.defaultTypes={zoomable:!1},z.propTypes={blocks:a.a.arrayOf(a.a.shape({type:a.a.string.isRequired})).isRequired,zoomable:a.a.bool,frameWindow:a.a.object,maxImageWidth:a.a.number,onImageClick:a.a.func,author:a.a.object,autoPlay:a.a.bool,isLastPart:a.a.bool}},843:function(e,t,r){"use strict";var n=r(0),o=r.n(n),i=r(760),s=r(879);var c=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getAvatarLabel=function(){return(this.props.user.firstName||"User")+" profile"},a.render=function(){var e=this.props.user.initial;return e?o.a.createElement("div",{className:"intercom-avatar intercom-avatar-initial intercom-user-avatar-initial",role:"img","aria-label":this.getAvatarLabel()},e):null},n}(n.PureComponent);r.d(t,"a",function(){return a});var a=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.renderTeamAvatar=function(e){return o.a.createElement(s.a,{admins:e})},a.renderAdminAvatar=function(e){return o.a.createElement(i.a,{admin:e})},a.renderUserAvatar=function(e){return o.a.createElement(c,{user:e})},a.render=function(){var e=this.props.author;switch(e.type){case"team":return this.renderTeamAvatar(e.admins);case"admin":return this.renderAdminAvatar(e);case"user":return this.renderUserAvatar(e);default:return this.renderAdminAvatar(e)}},n}(n.PureComponent)},846:function(e,t,r){"use strict";r.d(t,"f",function(){return n}),r.d(t,"e",function(){return s}),r.d(t,"d",function(){return c}),r.d(t,"c",function(){return l}),r.d(t,"a",function(){return d}),r.d(t,"b",function(){return p});var a=r(15),o={s:1e3,m:60,h:60,d:24,w:7};function i(e){var t=new Date-e;t=Math.max(0,t);var r="s";for(var n in o){if(t<o[n])break;t/=o[r=n]}return{unit:r,delta:t=Math.floor(t)}}function n(e){if(!e)return"";if("Invalid Date"===e.toString())return"";var t=i(e),r=t.unit,n=t.delta;return"s"===r?Object(a.c)("time_just_now"):"m"===r?Object(a.c)("time_minute_ago",{delta:n}):"h"===r?Object(a.c)("time_hour_ago",{delta:n}):"d"===r?Object(a.c)("time_day_ago",{delta:n}):"w"===r?Object(a.c)("time_week_ago",{delta:n}):void 0}function s(e){var t=i(e),r=t.unit,n=t.delta;return"s"===r||"m"===r&&n<=15?Object(a.c)("updated_in_the_last_15m"):"m"===r?Object(a.c)("updated_in_the_last_hour"):"h"===r?Object(a.c)("updated_today"):"d"===r&&1===n?Object(a.c)("updated_yesterday"):"d"===r?Object(a.c)("updated_this_week"):Object(a.c)("updated_over_a_week_ago")}function c(e){var t=((new Date).getTime()-e.getTime())/6e4;if(t<=15)return Object(a.c)("active_15m_ago",{minutes:15});if(t<=37)return Object(a.c)("active_minute_ago",{minutes:30});if(t<=52)return Object(a.c)("active_minute_ago",{minutes:45});if(t<=90)return Object(a.c)("active_hour_ago",{hours:1});if(t<=1410){var r=Math.round((t-1)/60);return Object(a.c)("active_hour_ago",{hours:r})}if(t<=1470)return Object(a.c)("active_day_ago",{days:1});if(t<=8640){var n=Math.round((t-1)/1440);return Object(a.c)("active_day_ago",{days:n})}return Object(a.c)("active_week_ago")}function l(e,t){return e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}var u=function(e){return("00"+e).substr(-2)};function d(e){if("en"!==Object(a.a)())return u(e.getHours())+":"+u(e.getMinutes());var t=e.getHours();return 0===t&&(t=12),(t=12<t?t%12:t)+":"+u(e.getMinutes())+" "+(e.getHours()<12?"am":"pm")}function p(e,t){var r=e.valueOf()+60*e.getTimezoneOffset()*1e3;return d(new Date(r+1e3*t))}},847:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),s=r.n(n),c=r(863),l=r(843);function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return i(o(e=a.call.apply(a,[this].concat(r))||this),"top",void 0),i(o(e),"getTopHeight",function(){return e.top?e.top.clientHeight:0}),e}return t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var t=this,e=this.props,r=e.appName,n=e.author,a=e.isReplyStyle,o=e.lastActiveAt,i=e.isActive;return s.a.createElement("div",{className:"intercom-authored-container"},s.a.createElement("div",{className:"intercom-authored-container-top",ref:function(e){return t.top=e}},s.a.createElement("div",{className:"intercom-authored-container-avatar"},s.a.createElement(l.a,{author:n})),s.a.createElement(c.a,{author:n,appName:r,isReplyStyle:a,lastActiveAt:o,isActive:i})),this.props.children)},r}(n.Component);i(a,"defaultProps",{isReplyStyle:!1})},850:function(e,t,r){"use strict";var n=r(0),a=r.n(n);t.a=function(){return a.a.createElement("svg",{viewBox:"0 0 16 18"},a.a.createElement("path",{d:"M14.154 6.918l-.004.003.001-.004-3.287 3.286-.006-.005-3.574 3.574c-.016.017-.03.036-.048.053l-.05.047-.043.041v-.002c-1.167 1.07-2.692 1.331-3.823.2-1.13-1.13-.89-2.677.18-3.843l-.005-.004.074-.073.016-.018c.006-.005.012-.009.017-.016l6.053-6.053.761.76-6.053 6.054-.029.028v.001l-.005.004-.073.074c.011-.01.025-.018.035-.03-.688.75-.93 1.636-.21 2.356.72.72 1.583.456 2.333-.232l-.03.034.04-.042.01-.008.008-.009.033-.03.031-.034.01-.009.007-.009 5.004-5.003.005.006 1.858-1.859c1.223-1.218 1.51-2.913.291-4.132C12.462.806 10.414.74 9.195 1.958L2.248 8.905c.003 0 .006-.002.008-.004-1.625 1.667-1.542 4.43.103 6.074 1.646 1.646 4.474 1.795 6.141.17-.003.002-.004.008-.008.012l.047-.047 6.053-6.054.042-.042.743.78-.025.021.001.002-6.05 6.05-.002.002-.002.001-.046.046h-.002c-2.094 2.04-5.578 1.894-7.652-.18-2.049-2.049-2.15-5.407-.183-7.505l-.006-.005h-.002l.076-.078 6.943-6.944.003-.002.004-.005c1.641-1.64 4.367-1.574 6.008.066 1.64 1.642 1.353 4.014-.288 5.655z",fillRule:"evenodd"}))}},851:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),o=r.n(n),i=r(13),s=r(860);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return l(c(n=a.call.apply(a,[this].concat(t))||this),"state",{scrollable:!1,scrolled:!1}),l(c(n),"scrollable",void 0),l(c(n),"handleScroll",Object(s.b)(function(e){var t=e.target.scrollTop;n.setState({scrolled:0<t});var r=n.props.onScroll;r&&r(e)},17)),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(){this.handleScrollable()},n.componentDidMount=function(){this.handleScrollable()},n.handleScrollable=function(){var e=this.props.onScrollable;!this.state.scrollable&&this.isScrollable()&&(this.setState({scrollable:!0}),this.scrollable&&e&&e(this.scrollable))},n.isScrollable=function(){return!!this.scrollable&&this.scrollable.scrollHeight>this.scrollable.clientHeight},n.render=function(){var t=this;return o.a.createElement("div",{className:"intercom-scrollable",onScroll:this.handleScroll,onWheel:i.d,tabIndex:this.state.scrollable?"0":"-1",ref:function(e){return t.scrollable=e}},this.props.children)},r}(n.Component)},852:function(e,t,r){"use strict";var n=r(0),a=r.n(n);t.a=function(){return a.a.createElement("svg",{viewBox:"0 0 18 18"},a.a.createElement("path",{d:"M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zm0 1C4.589 1 1 4.589 1 9s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM5 6.999a1 1 0 1 1 2.002.004A1 1 0 0 1 5 6.999zm5.999 0a1.002 1.002 0 0 1 2.001 0 1 1 0 1 1-2.001 0zM8.959 13.5c-.086 0-.173-.002-.26-.007-2.44-.132-4.024-2.099-4.09-2.182l-.31-.392.781-.62.312.39c.014.017 1.382 1.703 3.37 1.806 1.306.072 2.61-.554 3.882-1.846l.351-.356.712.702-.35.356c-1.407 1.427-2.886 2.15-4.398 2.15z",fillRule:"evenodd"}))}},854:function(e,t,r){"use strict";r.d(t,"d",function(){return p}),r.d(t,"c",function(){return m}),r.d(t,"b",function(){return h}),r.d(t,"a",function(){return f});var n=/\s+/g,a=/^(00)|(\+)/i,o=/[^(\d|\s|\+|\.|\(|\)|\-)]/g,i=/\D/g,s="that_number_needs_a_prefix",c="that_number_doesnt_look_quite_right",l="that_country_code_doesnt_look_quite_right",u="that_number_is_missing_a_few_digits",d="that_number_has_too_many_digits",p=function(e){return void 0===m(e)},m=function(e){if(!v(e))return s;if((e=e.replace(a,"")).match(o))return c;if(15<(e=e.replace(i,"")).length)return d;var t=f(e);return t&&(e=e.substring(t.dialCode.length)),e.length<6?u:t?void 0:l},h=function(e){var t=w[e];return t?"+"+t.dialCode:"+1"},f=function(e){if(!((e=b(e)).length<4)){var t=g(e);return E(t)}},v=function(e){return e.match(a)},b=function(e){return(e=(e=(e=e.replace(n,"")).replace(a,"")).replace(o,"")).slice(0,4)},g=function(t){for(var e=[],r=Object.keys(w),n=0;n<=r.length-1;n++){var a=y(r[n]),o=C(a);if(-1<o.indexOf(t)){e.push(a);break}o.some(function(e){return t.startsWith(e)})&&e.push(a)}return e},y=function(e){return Object.assign(w[e],{code:e})},C=function(e){var t=e.dialCode,r=e.areaCodes;return r?r.map(function(e){return""+t+e}):[t]},E=function(e){if(1===e.length)return e[0];if(1<e.length&&1===new Set(e.map(function(e){return e.dialCode})).size)return e.find(function(e){return 0===e.priority})},w={af:{dialCode:"93",areaCodes:null,priority:0},al:{dialCode:"355",areaCodes:null,priority:0},dz:{dialCode:"213",areaCodes:null,priority:0},as:{dialCode:"1684",areaCodes:null,priority:0},ad:{dialCode:"376",areaCodes:null,priority:0},ao:{dialCode:"244",areaCodes:null,priority:0},ai:{dialCode:"1264",areaCodes:null,priority:0},ag:{dialCode:"1268",areaCodes:null,priority:0},ar:{dialCode:"54",areaCodes:null,priority:0},am:{dialCode:"374",areaCodes:null,priority:0},aw:{dialCode:"297",areaCodes:null,priority:0},au:{dialCode:"61",areaCodes:null,priority:0},at:{dialCode:"43",areaCodes:null,priority:0},az:{dialCode:"994",areaCodes:null,priority:0},bs:{dialCode:"1242",areaCodes:null,priority:0},bh:{dialCode:"973",areaCodes:null,priority:0},bd:{dialCode:"880",areaCodes:null,priority:0},bb:{dialCode:"1246",areaCodes:null,priority:0},by:{dialCode:"375",areaCodes:null,priority:0},be:{dialCode:"32",areaCodes:null,priority:0},bz:{dialCode:"501",areaCodes:null,priority:0},bj:{dialCode:"229",areaCodes:null,priority:0},bm:{dialCode:"1441",areaCodes:null,priority:0},bt:{dialCode:"975",areaCodes:null,priority:0},bo:{dialCode:"591",areaCodes:null,priority:0},ba:{dialCode:"387",areaCodes:null,priority:0},bw:{dialCode:"267",areaCodes:null,priority:0},br:{dialCode:"55",areaCodes:null,priority:0},io:{dialCode:"246",areaCodes:null,priority:0},vg:{dialCode:"1284",areaCodes:null,priority:0},bn:{dialCode:"673",areaCodes:null,priority:0},bg:{dialCode:"359",areaCodes:null,priority:0},bf:{dialCode:"226",areaCodes:null,priority:0},bi:{dialCode:"257",areaCodes:null,priority:0},kh:{dialCode:"855",areaCodes:null,priority:0},cm:{dialCode:"237",areaCodes:null,priority:0},ca:{dialCode:"1",areaCodes:["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"],priority:1},cv:{dialCode:"238",areaCodes:null,priority:0},bq:{dialCode:"599",areaCodes:null,priority:1},ky:{dialCode:"1345",areaCodes:null,priority:0},cf:{dialCode:"236",areaCodes:null,priority:0},td:{dialCode:"235",areaCodes:null,priority:0},cl:{dialCode:"56",areaCodes:null,priority:0},cn:{dialCode:"86",areaCodes:null,priority:0},cx:{dialCode:"61",areaCodes:null,priority:2},cc:{dialCode:"61",areaCodes:null,priority:1},co:{dialCode:"57",areaCodes:null,priority:0},km:{dialCode:"269",areaCodes:null,priority:0},cd:{dialCode:"243",areaCodes:null,priority:0},cg:{dialCode:"242",areaCodes:null,priority:0},ck:{dialCode:"682",areaCodes:null,priority:0},cr:{dialCode:"506",areaCodes:null,priority:0},ci:{dialCode:"225",areaCodes:null,priority:0},hr:{dialCode:"385",areaCodes:null,priority:0},cu:{dialCode:"53",areaCodes:null,priority:0},cw:{dialCode:"599",areaCodes:null,priority:0},cy:{dialCode:"357",areaCodes:null,priority:0},cz:{dialCode:"420",areaCodes:null,priority:0},dk:{dialCode:"45",areaCodes:null,priority:0},dj:{dialCode:"253",areaCodes:null,priority:0},dm:{dialCode:"1767",areaCodes:null,priority:0},do:{dialCode:"1",areaCodes:["809","829","849"],priority:2},ec:{dialCode:"593",areaCodes:null,priority:0},eg:{dialCode:"20",areaCodes:null,priority:0},sv:{dialCode:"503",areaCodes:null,priority:0},gq:{dialCode:"240",areaCodes:null,priority:0},er:{dialCode:"291",areaCodes:null,priority:0},ee:{dialCode:"372",areaCodes:null,priority:0},et:{dialCode:"251",areaCodes:null,priority:0},fk:{dialCode:"500",areaCodes:null,priority:0},fo:{dialCode:"298",areaCodes:null,priority:0},fj:{dialCode:"679",areaCodes:null,priority:0},fi:{dialCode:"358",areaCodes:null,priority:0},fr:{dialCode:"33",areaCodes:null,priority:0},gf:{dialCode:"594",areaCodes:null,priority:0},pf:{dialCode:"689",areaCodes:null,priority:0},ga:{dialCode:"241",areaCodes:null,priority:0},gm:{dialCode:"220",areaCodes:null,priority:0},ge:{dialCode:"995",areaCodes:null,priority:0},de:{dialCode:"49",areaCodes:null,priority:0},gh:{dialCode:"233",areaCodes:null,priority:0},gi:{dialCode:"350",areaCodes:null,priority:0},gr:{dialCode:"30",areaCodes:null,priority:0},gl:{dialCode:"299",areaCodes:null,priority:0},gd:{dialCode:"1473",areaCodes:null,priority:0},gp:{dialCode:"590",areaCodes:null,priority:0},gu:{dialCode:"1671",areaCodes:null,priority:0},gt:{dialCode:"502",areaCodes:null,priority:0},gg:{dialCode:"44",areaCodes:null,priority:1},gn:{dialCode:"224",areaCodes:null,priority:0},gw:{dialCode:"245",areaCodes:null,priority:0},gy:{dialCode:"592",areaCodes:null,priority:0},ht:{dialCode:"509",areaCodes:null,priority:0},hn:{dialCode:"504",areaCodes:null,priority:0},hk:{dialCode:"852",areaCodes:null,priority:0},hu:{dialCode:"36",areaCodes:null,priority:0},is:{dialCode:"354",areaCodes:null,priority:0},in:{dialCode:"91",areaCodes:null,priority:0},id:{dialCode:"62",areaCodes:null,priority:0},ir:{dialCode:"98",areaCodes:null,priority:0},iq:{dialCode:"964",areaCodes:null,priority:0},ie:{dialCode:"353",areaCodes:null,priority:0},im:{dialCode:"44",areaCodes:null,priority:2},il:{dialCode:"972",areaCodes:null,priority:0},it:{dialCode:"39",areaCodes:null,priority:0},jm:{dialCode:"1876",areaCodes:null,priority:0},jp:{dialCode:"81",areaCodes:null,priority:0},je:{dialCode:"44",areaCodes:null,priority:3},jo:{dialCode:"962",areaCodes:null,priority:0},kz:{dialCode:"7",areaCodes:null,priority:1},ke:{dialCode:"254",areaCodes:null,priority:0},ki:{dialCode:"686",areaCodes:null,priority:0},xk:{dialCode:"383",areaCodes:null,priority:0},kw:{dialCode:"965",areaCodes:null,priority:0},kg:{dialCode:"996",areaCodes:null,priority:0},la:{dialCode:"856",areaCodes:null,priority:0},lv:{dialCode:"371",areaCodes:null,priority:0},lb:{dialCode:"961",areaCodes:null,priority:0},ls:{dialCode:"266",areaCodes:null,priority:0},lr:{dialCode:"231",areaCodes:null,priority:0},ly:{dialCode:"218",areaCodes:null,priority:0},li:{dialCode:"423",areaCodes:null,priority:0},lt:{dialCode:"370",areaCodes:null,priority:0},lu:{dialCode:"352",areaCodes:null,priority:0},mo:{dialCode:"853",areaCodes:null,priority:0},mk:{dialCode:"389",areaCodes:null,priority:0},mg:{dialCode:"261",areaCodes:null,priority:0},mw:{dialCode:"265",areaCodes:null,priority:0},my:{dialCode:"60",areaCodes:null,priority:0},mv:{dialCode:"960",areaCodes:null,priority:0},ml:{dialCode:"223",areaCodes:null,priority:0},mt:{dialCode:"356",areaCodes:null,priority:0},mh:{dialCode:"692",areaCodes:null,priority:0},mq:{dialCode:"596",areaCodes:null,priority:0},mr:{dialCode:"222",areaCodes:null,priority:0},mu:{dialCode:"230",areaCodes:null,priority:0},yt:{dialCode:"262",areaCodes:null,priority:1},mx:{dialCode:"52",areaCodes:null,priority:0},fm:{dialCode:"691",areaCodes:null,priority:0},md:{dialCode:"373",areaCodes:null,priority:0},mc:{dialCode:"377",areaCodes:null,priority:0},mn:{dialCode:"976",areaCodes:null,priority:0},me:{dialCode:"382",areaCodes:null,priority:0},ms:{dialCode:"1664",areaCodes:null,priority:0},ma:{dialCode:"212",areaCodes:null,priority:0},mz:{dialCode:"258",areaCodes:null,priority:0},mm:{dialCode:"95",areaCodes:null,priority:0},na:{dialCode:"264",areaCodes:null,priority:0},nr:{dialCode:"674",areaCodes:null,priority:0},np:{dialCode:"977",areaCodes:null,priority:0},nl:{dialCode:"31",areaCodes:null,priority:0},nc:{dialCode:"687",areaCodes:null,priority:0},nz:{dialCode:"64",areaCodes:null,priority:0},ni:{dialCode:"505",areaCodes:null,priority:0},ne:{dialCode:"227",areaCodes:null,priority:0},ng:{dialCode:"234",areaCodes:null,priority:0},nu:{dialCode:"683",areaCodes:null,priority:0},nf:{dialCode:"672",areaCodes:null,priority:0},kp:{dialCode:"850",areaCodes:null,priority:0},mp:{dialCode:"1670",areaCodes:null,priority:0},no:{dialCode:"47",areaCodes:null,priority:0},om:{dialCode:"968",areaCodes:null,priority:0},pk:{dialCode:"92",areaCodes:null,priority:0},pw:{dialCode:"680",areaCodes:null,priority:0},ps:{dialCode:"970",areaCodes:null,priority:0},pa:{dialCode:"507",areaCodes:null,priority:0},pg:{dialCode:"675",areaCodes:null,priority:0},py:{dialCode:"595",areaCodes:null,priority:0},pe:{dialCode:"51",areaCodes:null,priority:0},ph:{dialCode:"63",areaCodes:null,priority:0},pl:{dialCode:"48",areaCodes:null,priority:0},pt:{dialCode:"351",areaCodes:null,priority:0},pr:{dialCode:"1",areaCodes:["787","939"],priority:3},qa:{dialCode:"974",areaCodes:null,priority:0},re:{dialCode:"262",areaCodes:null,priority:0},ro:{dialCode:"40",areaCodes:null,priority:0},ru:{dialCode:"7",areaCodes:null,priority:0},rw:{dialCode:"250",areaCodes:null,priority:0},bl:{dialCode:"590",areaCodes:null,priority:1},sh:{dialCode:"290",areaCodes:null,priority:0},kn:{dialCode:"1869",areaCodes:null,priority:0},lc:{dialCode:"1758",areaCodes:null,priority:0},mf:{dialCode:"590",areaCodes:null,priority:2},pm:{dialCode:"508",areaCodes:null,priority:0},vc:{dialCode:"1784",areaCodes:null,priority:0},ws:{dialCode:"685",areaCodes:null,priority:0},sm:{dialCode:"378",areaCodes:null,priority:0},st:{dialCode:"239",areaCodes:null,priority:0},sa:{dialCode:"966",areaCodes:null,priority:0},sn:{dialCode:"221",areaCodes:null,priority:0},rs:{dialCode:"381",areaCodes:null,priority:0},sc:{dialCode:"248",areaCodes:null,priority:0},sl:{dialCode:"232",areaCodes:null,priority:0},sg:{dialCode:"65",areaCodes:null,priority:0},sx:{dialCode:"1721",areaCodes:null,priority:0},sk:{dialCode:"421",areaCodes:null,priority:0},si:{dialCode:"386",areaCodes:null,priority:0},sb:{dialCode:"677",areaCodes:null,priority:0},so:{dialCode:"252",areaCodes:null,priority:0},za:{dialCode:"27",areaCodes:null,priority:0},kr:{dialCode:"82",areaCodes:null,priority:0},ss:{dialCode:"211",areaCodes:null,priority:0},es:{dialCode:"34",areaCodes:null,priority:0},lk:{dialCode:"94",areaCodes:null,priority:0},sd:{dialCode:"249",areaCodes:null,priority:0},sr:{dialCode:"597",areaCodes:null,priority:0},sj:{dialCode:"47",areaCodes:null,priority:1},sz:{dialCode:"268",areaCodes:null,priority:0},se:{dialCode:"46",areaCodes:null,priority:0},ch:{dialCode:"41",areaCodes:null,priority:0},sy:{dialCode:"963",areaCodes:null,priority:0},tw:{dialCode:"886",areaCodes:null,priority:0},tj:{dialCode:"992",areaCodes:null,priority:0},tz:{dialCode:"255",areaCodes:null,priority:0},th:{dialCode:"66",areaCodes:null,priority:0},tl:{dialCode:"670",areaCodes:null,priority:0},tg:{dialCode:"228",areaCodes:null,priority:0},tk:{dialCode:"690",areaCodes:null,priority:0},to:{dialCode:"676",areaCodes:null,priority:0},tt:{dialCode:"1868",areaCodes:null,priority:0},tn:{dialCode:"216",areaCodes:null,priority:0},tr:{dialCode:"90",areaCodes:null,priority:0},tm:{dialCode:"993",areaCodes:null,priority:0},tc:{dialCode:"1649",areaCodes:null,priority:0},tv:{dialCode:"688",areaCodes:null,priority:0},vi:{dialCode:"1340",areaCodes:null,priority:0},ug:{dialCode:"256",areaCodes:null,priority:0},ua:{dialCode:"380",areaCodes:null,priority:0},ae:{dialCode:"971",areaCodes:null,priority:0},gb:{dialCode:"44",areaCodes:null,priority:0},us:{dialCode:"1",areaCodes:null,priority:0},uy:{dialCode:"598",areaCodes:null,priority:0},uz:{dialCode:"998",areaCodes:null,priority:0},vu:{dialCode:"678",areaCodes:null,priority:0},va:{dialCode:"39",areaCodes:null,priority:1},ve:{dialCode:"58",areaCodes:null,priority:0},vn:{dialCode:"84",areaCodes:null,priority:0},wf:{dialCode:"681",areaCodes:null,priority:0},eh:{dialCode:"212",areaCodes:null,priority:1},ye:{dialCode:"967",areaCodes:null,priority:0},zm:{dialCode:"260",areaCodes:null,priority:0},zw:{dialCode:"263",areaCodes:null,priority:0},ax:{dialCode:"358",areaCodes:null,priority:1}}},855:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(0),i=r.n(o),s=r(23),c=r(11),l=r.n(c),u=r(13),d=r(506),p=r(15);function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h(m(n=a.call.apply(a,[this].concat(t))||this),"node",null),h(m(n),"scrollArea",null),h(m(n),"focusTrap",null),h(m(n),"handleEscape",function(e){Object(u.o)(e)&&n.handleClose()}),h(m(n),"handleClose",function(){var e=n.props,t=e.onClose,r=e.returnFocus;t&&t(),r&&r()}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var e=this.props,t=e.modalFrameWindow,r=e.tabNavigation;t&&(this.focusTrap=new d.a({document:t.document,windowToTrapFocusWithin:t}),this.scrollArea=t.document.querySelector(".intercom-scrollable"),Object(u.c)(t,"keydown",this.handleEscape)),this.scrollArea?this.scrollArea.focus():this.node&&this.node.focus(),r&&Object(u.b)(window.parent.document.documentElement,"intercom-modal-open")},n.componentWillUnmount=function(){var e=this.props.modalFrameWindow;e&&Object(u.x)(e,"keydown",this.handleEscape),this.focusTrap&&this.focusTrap.restore(),Object(u.w)(window.parent.document.documentElement,"intercom-modal-open")},n.getModalClassname=function(){return l()({"intercom-modal":!0,"intercom-modal-fixed":!this.props.additionalStyle})},n.getOverlayClassname=function(){return l()({"intercom-modal-overlay":!0,"intercom-modal-overlay-z":!!this.props.additionalStyle})},n.render=function(){var t=this,e=this.props,r=e.additionalStyle,n=e.showCloseOverlay,a=e.children;return i.a.createElement("div",{className:this.getModalClassname(),style:r||{}},i.a.createElement("div",{className:this.getOverlayClassname(),onClick:this.handleClose,tabIndex:"-1","aria-hidden":!0}),i.a.createElement("div",{tabIndex:"0",className:"intercom-modal-inner",ref:function(e){return t.node=e}},n?i.a.createElement("div",{className:"intercom-modal-overlay-close",onClick:t.handleClose,"aria-label":Object(p.c)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClose(e)},role:"button",tabIndex:"0"}):null,a))},r}(o.Component);h(f,"defaultProps",{showCloseOverlay:!0});var v=Object(s.b)(function(e){return{tabNavigation:e.accessibility.tabNavigation}})(f);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",function(){return g});var g=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.componentDidMount=function(){this.renderModal()},a.componentDidUpdate=function(){this.renderModal()},a.componentWillUnmount=function(){this.unmountModal()},a.renderModal=function(){var t=this,e=this.context.modal;e&&e.render(function(e){return i.a.createElement(v,b({},t.props,{modalFrameWindow:e}))})},a.unmountModal=function(){var e=this.context.modal;e&&e.unmount()},a.render=function(){return null},n}(o.Component);g.contextTypes={modal:a.a.shape({render:a.a.func.isRequired,unmount:a.a.func.isRequired})}},856:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(0),i=r.n(o),c=r(841),s=r(11),l=r.n(s),u=r(858);var d=function(s){var e,t;function r(){for(var t,e,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=s.call.apply(s,[this].concat(o))||this,e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),n=function(){var e=t.props;(0,e.onReactionSelect)(e.reaction.index)},(r="handleClick")in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,t}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){return l()({"intercom-reaction":!0,"intercom-reaction-selected":this.props.isSelected})},n.render=function(){var t=this,e=this.props,r=e.reaction,n=e.isSelected;return i.a.createElement("span",{className:this.getClassName(),onClick:t.handleClick,"aria-label":Object(u.b)(r.emoji)+" reaction","aria-pressed":n,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},i.a.createElement(c.a,{emojiImageSize:32,text:r.emoji}))},r}(o.Component);d.propTypes={reaction:a.a.shape({index:a.a.number.isRequired,emoji:a.a.string.isRequired}).isRequired,onReactionSelect:a.a.func.isRequired,isSelected:a.a.bool.isRequired},r.d(t,"a",function(){return p});var p=function(s){var e,t;function r(){for(var t,e,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return t=s.call.apply(s,[this].concat(o))||this,e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),n=function(e){t.props.onReactionSelect(e.index)},(r="handleClick")in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,t}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.handleHeightChange()},n.getClassName=function(){var e=this.props,t=e.reactionIndex,r=e.prompt;return l()({"intercom-reaction-picker":!0,"intercom-reaction-picker-reaction-selected":null!=t,"intercom-reaction-picker-with-prompt":r})},n.handleHeightChange=function(){var e=this.props.onHeightChange;e&&e(this.composer.clientHeight)},n.render=function(){var r=this;return i.a.createElement("div",{className:this.getClassName(),ref:function(e){return r.composer=e}},this.props.prompt?i.a.createElement("div",{className:"intercom-reaction-prompt"},this.props.prompt):null,this.props.reactionSet.map(function(e,t){return i.a.createElement(d,{key:t,onReactionSelect:r.props.onReactionSelect,reaction:e,isSelected:r.props.reactionIndex===e.index})}))},r}(o.Component);p.defaultTypes={reactionIndex:null},p.propTypes={onHeightChange:a.a.func,reactionIndex:a.a.number,reactionSet:a.a.arrayOf(a.a.shape({index:a.a.number,emoji:a.a.string})).isRequired,prompt:a.a.string,onReactionSelect:a.a.func.isRequired}},858:function(e,t,r){"use strict";r.d(t,"d",function(){return o}),r.d(t,"e",function(){return s}),r.d(t,"a",function(){return c}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return u});var n,a=r(496),i=r.n(a),o=function(e,t,r,n,a){var o=e;return n?a&&(o=i.a.substituteUnicodeForAsciiEmojis(o)):o=i.a.substituteSpansForEmojis(t,o,r),o},s=function(e){return i.a.isSupportedAscii(e)?i.a.unicodeFromAscii(e):e},c=function(e,t){return i.a.codepointIndexFromUnicode(e).toString(t).toLowerCase()},l=function(){if(void 0===n)try{n=i.a.hasNativeSupport(parent.document)}catch(e){return!1}return n},u=function(e){try{return i.a.identifierFromUnicode(e).replace(/(_|-)/gi," ")}catch(e){return""}}},859:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(2),a=r.n(n),o=r(0),i=r.n(o),l=r(846),u=r(15);var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.componentDidMount=function(){var e=this;this.interval=setInterval(function(){e.forceUpdate()},6e4)},a.componentWillUnmount=function(){clearInterval(this.interval),this.interval=null},a.getAttribution=function(){var e=this.props.part.body;if(e&&0!==e.length)return e[0].attribution},a.getSaveState=function(){var e=this.props.part,t=e.saveState,r=e.seenState,n=e.createdAt,a=e.showCreatedAt,o=e.author,i=e.saveFailureReason,s=a?Object(l.f)(n):null,c=this.seenStateText(r);return!o.isSelf&&a?""+this.botStateText(o)+s+".":"saving"===t?Object(u.c)("message_state_sending"):"failed"===t?"file_size"===i?Object(u.c)("file_too_big"):Object(u.c)("failed_to_send"):"saved"===t&&o.isSelf&&s?s+". "+c:void 0},a.seenStateText=function(e){return"not-seen-yet"===e?Object(u.c)("message_unseen"):"seen"===e?Object(u.c)("message_seen"):""},a.botStateText=function(e){return e.isBot?"Bot · ":""},a.renderSaveState=function(){return i.a.createElement("div",{className:"intercom-conversation-part-metadata-save-state"},this.getSaveState())},a.renderAttribution=function(){var e=this.getAttribution();return e?i.a.createElement("div",{className:"intercom-conversation-part-metadata-attribution"},Object(u.c)("gif_attribution",{providername:e})):null},a.render=function(){return i.a.createElement("div",{className:"intercom-conversation-part-metadata"},this.renderAttribution(),this.renderSaveState())},n}(o.Component);s.propTypes={part:a.a.shape({body:a.a.arrayOf(a.a.shape({attribution:a.a.string})),saveState:a.a.oneOf(["failed","saving","saved"]),saveFailureReason:a.a.string,seenState:a.a.oneOf(["not-seen-yet","seen"]),createdAt:a.a.date,showCreatedAt:a.a.bool,author:a.a.shape({isSelf:a.a.bool.isRequired}).isRequired}).isRequired}},860:function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return c});var n=r(106),a=r.n(n),o=r(732),i=r.n(o),s=(r(71),function(){var t=i.a.apply(void 0,arguments);return function(e){return e.persist(),t(e)}}),c=function(){var t=a.a.apply(void 0,arguments);return function(e){return e.persist(),t(e)}}},863:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(2),a=r.n(n),o=r(0),i=r.n(o),s=r(846),c=r(15);var l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.renderReplyStyle=function(){return i.a.createElement("div",{className:"intercom-author-summary"},Object(c.c)("reply_from")+" ",i.a.createElement("span",{className:"intercom-author-summary-name"},this.props.author.firstName))},a.activeOrAwayInWords=function(){return this.props.isActive?"Active":"Away"},a.renderWithAppName=function(){var e=this.props,t=e.lastActiveAt,r=e.appName,n=e.author,a=n.firstName,o=null!==this.props.isActive&&"en"===Object(c.a)();return i.a.createElement("div",{className:"intercom-author-summary"},i.a.createElement("div",{className:"intercom-author-summary-name-from"},i.a.createElement("span",{className:"intercom-author-summary-name"},a),"team"!==n.type?i.a.createElement("span",{className:"intercom-author-summary-from-clause"}," "+Object(c.c)("from_name",{name:r})):null),t?i.a.createElement("div",{className:"intercom-author-last-active"},o?this.activeOrAwayInWords():Object(s.d)(t)):null)},a.render=function(){return this.props.isReplyStyle?this.renderReplyStyle():this.renderWithAppName()},n}(o.Component);l.propTypes={appName:a.a.string.isRequired,author:a.a.shape({firstName:a.a.string.isRequired,isActive:a.a.bool}).isRequired,isReplyStyle:a.a.bool.isRequired,lastActiveAt:a.a.instanceOf(Date),isActive:a.a.bool}},864:function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(0),o=r.n(n),a=r(228),i=r.n(a),s=r(858);var c,l,u,d=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.render=function(){var e=this.props.text,t=Object(s.e)(i()(e).replace("&nbsp;","").trim());return this.useNativeEmoji()?this.renderNative(t):this.renderImage(t)},a.renderNative=function(e){return o.a.createElement("div",{className:"intercom-sticker-native",role:"img","aria-label":Object(s.b)(this.props.text)||e},e)},a.renderImage=function(e){var t="https://js.intercomcdn.com/images/stickers/"+Object(s.a)(e,16)+".png";return o.a.createElement("img",{className:"intercom-sticker-image",src:t,alt:e,"aria-label":Object(s.b)(this.props.text)})},a.useNativeEmoji=function(){var e=this.props.emoji;return"native"===e||"image"!==e&&("auto"===e?Object(s.c)():void 0)},n}(n.Component);u={emoji:"auto"},(l="defaultProps")in(c=d)?Object.defineProperty(c,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[l]=u},865:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},866:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),o=r.n(n),i=r(883),s=r(15);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return l(c(t=a.call.apply(a,[this].concat(r))||this),"ref",void 0),l(c(t),"setReplyToButtonRef",function(e){t.ref=e}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var e=this.props.onShow;if(this.ref&&e){e(this.ref.clientHeight+10)}},n.render=function(){var e=this.props.onClick;return o.a.createElement("button",{ref:this.setReplyToButtonRef,onClick:e,className:"intercom-reply-to-button",tabIndex:"0"},o.a.createElement(i.a,{className:"intercom-reply-message-icon"}),Object(s.c)("reply_to_conversation").replace("…",""))},r}(n.PureComponent)},867:function(e,t,r){"use strict";r.d(t,"c",function(){return n}),r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var a=r(129);function n(o,i,s){return function(t,e){var r=e(),n=r.session,a=r.app.conversationId;return o.getArticle(n,i,a).then(function(e){t({type:"OPEN_ARTICLE",article:e,metricMetadata:s,conversationId:a})})}}function o(n){return function(e,t){var r=t().app.conversationId;e({type:"CLOSE_ARTICLE",closedAt:new Date}),e(Object(a.c)(n,{type:"closed_article",payload:{conversationId:r}}))}}function i(n,a,o,i){return function(e,t){e({type:"CREATE_ARTICLE_REACTION_REQUEST",articleId:a,reactionIndex:o});var r=t().session;return n.createArticleReaction(r,a,o,!1,i)}}},868:function(e,t,r){"use strict";t.a=function(e,t,r){var n=s(t),a="absolute"===n.position,o=r?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return e.document.body;for(var i=t;i=i.parentElement;)if(n=s(i),(!a||"static"!==n.position)&&o.test(n.overflow+n.overflowY+n.overflowX))return i;return e.document.body};var s=function(e){return window.getComputedStyle&&window.getComputedStyle(e)?window.getComputedStyle(e):e.style}},870:function(e,t,r){"use strict";var n=r(23),a=r(0),b=r.n(a),i=r(71),o=r(11),c=r.n(o),s=r(13),l=r(843),h=r(507),f=r(15);function v(e){return 0<e.length}var u,d,p,m=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.errorMessage,n=e.onSubmit,a=e.onChange,o=e.placeholder,i=e.id,s=e.label,c=e.saveState,l=e.disabled,u=e.isBorderless,d=e.isReplyType,p=e.isSubmittable,m=e.hideErrorMessage;return b.a.createElement(h.a,{value:t,placeholder:o,id:i,label:s,saveState:c,disabled:l,isValid:v,isBorderless:u,isReplyType:d,isNotificationChannel:!1,isSubmittable:p,onSubmit:n,onChange:a,hideErrorMessage:m,validationErrorMessage:r||Object(f.c)("string_is_incorrect")})},n}(a.Component);p={isSubmittable:!0,hideErrorMessage:!(d="defaultProps")},d in(u=m)?Object.defineProperty(u,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[d]=p;var g=r(881);function y(e){return!!e.match(/^-?\d+$/)}var C=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.errorMessage,n=e.onSubmit,a=e.saveState,o=e.disabled,i=e.isBorderless,s=e.isReplyType;return b.a.createElement(h.a,{value:t,placeholder:Object(f.c)("type_a_number"),saveState:a,disabled:o,isValid:y,isBorderless:i,isReplyType:s,isNotificationChannel:!1,onSubmit:n,validationErrorMessage:r||Object(f.c)("number_is_incorrect")})},n}(a.Component);function E(e){return!!e.match(/^-?\d+\.\d+$/)}var w=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.errorMessage,n=e.onSubmit,a=e.saveState,o=e.disabled,i=e.isBorderless,s=e.isReplyType;return b.a.createElement(h.a,{value:t,placeholder:Object(f.c)("type_a_number"),saveState:a,disabled:o,isValid:E,isBorderless:i,isReplyType:s,isNotificationChannel:!1,onSubmit:n,validationErrorMessage:r||Object(f.c)("number_is_incorrect")})},n}(a.Component),k=r(174);var _=function(s){var e,t;function r(){for(var e,t,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=s.call.apply(s,[this].concat(o))||this,t=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),r="state",n={value:e.props.value},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props.saveState;return c()({"intercom-boolean-attribute":!0,"intercom-boolean-attribute-saving":"saving"===e,"intercom-boolean-attribute-saved":"saved"===e,"intercom-boolean-attribute-failed":"failed"===e})},n.getClassNamesForOption=function(e){var t=this.state.value;return c()({"intercom-boolean-attribute-option":!0,"intercom-boolean-attribute-option-left":!0===e,"intercom-boolean-attribute-option-right":!1===e,"intercom-boolean-attribute-option-unsubmitted":void 0===t,"intercom-boolean-attribute-option-submitted-chosen":t===e,"intercom-boolean-attribute-option-submitted-not-chosen":void 0!==t&&t!==e})},n.createHandleSubmit=function(e){var t=this,r=this.props.saveState;return"saved"===r||"saving"===r?function(){}:function(){t.props.onSubmit(e)}},n.render=function(){return b.a.createElement("div",null,b.a.createElement("div",{className:this.getClassName()},b.a.createElement("button",{className:this.getClassNamesForOption(!0),onClick:this.createHandleSubmit(!0),tabIndex:"0"},b.a.createElement("span",{className:"intercom-boolean-attribute-text"},Object(f.c)("attribute_collector_positive"))),b.a.createElement("button",{className:this.getClassNamesForOption(!1),onClick:this.createHandleSubmit(!1),tabIndex:"0"},b.a.createElement("span",{className:"intercom-boolean-attribute-text"},Object(f.c)("attribute_collector_negative")))),"failed"===this.props.saveState&&b.a.createElement(k.a,{errorMessage:Object(f.c)("something_is_wrong")}))},r}(a.Component),S=r(519),j=r(520),O=r(898),N=r(181);function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return T(P(n=a.call.apply(a,[this].concat(t))||this),"handleSubmit",function(e){var t=n.props,r=t.identifier;(0,t.onSubmit)(r,e)}),T(P(n),"handleArraySubmit",function(e){n.handleSubmit(e.text)}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.fitsButtonGroupLayout=function(e){var t=e.length,r=Math.floor(18/t);return t<=4&&e.every(function(e){return e.length<=r})},n.renderAttribute=function(){var e=this.props,t=e.type,r=e.identifier,n=e.value,a=e.options,o=e.saveState,i=e.defaultCountryCode,s=e.isBorderless,c=e.isReplyType,l=n?String(n):void 0;return"email"===r?b.a.createElement(g.a,{value:l,saveState:o,isBorderless:s,isReplyType:c,isNotificationChannel:!1,onSubmit:this.handleSubmit}):"phone"===r?b.a.createElement(O.a,{value:l,key:l,saveState:o,defaultCountryCode:i,isBorderless:s,isReplyType:c,isNotificationChannel:!1,onSubmit:this.handleSubmit}):"string"===t&&Array.isArray(a)?this.renderArrayAttribute(a,l):"string"===t?b.a.createElement(m,{value:l,saveState:o,isBorderless:s,isReplyType:c,onSubmit:this.handleSubmit}):"integer"===t?b.a.createElement(C,{value:l,saveState:o,isBorderless:s,isReplyType:c,onSubmit:this.handleSubmit}):"float"===t?b.a.createElement(w,{value:l,saveState:o,isBorderless:s,isReplyType:c,onSubmit:this.handleSubmit}):"boolean"!==t||"boolean"!=typeof n&&void 0!==n?null:b.a.createElement(_,{value:n,key:JSON.stringify(n),saveState:o,isBorderless:s,isReplyType:c,onSubmit:this.handleSubmit})},n.renderArrayAttribute=function(e,t){var r=this.props,n=r.saveState,a=r.frameWindow,o=t?{id:t,text:t}:null,i=e.map(function(e){return{id:e,text:e}});return this.fitsButtonGroupLayout(e)?b.a.createElement(j.a,{value:o,key:Object(N.a)(JSON.stringify(o)),options:i,saveState:n,onChange:this.handleArraySubmit}):b.a.createElement(S.a,{value:o,options:i,saveState:n,autoFocus:!0,frameWindow:a,onChange:this.handleArraySubmit})},n.render=function(){var e=this.props,t=e.name,r=e.number;return b.a.createElement("div",{className:"intercom-attribute-collector-card-attribute"},b.a.createElement("div",{className:"intercom-attribute-collector-card-label"},void 0!==r?r+". "+t:t),this.renderAttribute())},r}(a.Component),x=r(20),I=r(2),R=r.n(I);function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){return Object.keys(e).length}function L(t){return Object.keys(t).filter(function(e){return"saved"===t[e]||"failed"===t[e]}).length}var F=function(o){var e,t;function r(){for(var v,e,t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return B(M(v=o.call.apply(o,[this].concat(n))||this),"state",{saveStates:(e=v.props.part,t=e.form,t?t.attributes.reduce(function(e,t){var r,n=t.identifier,a=t.saveState;return Object.assign({},e,((r={})[n]=a,r))},{}):{})}),B(M(v),"renderAttribute",function(e,t){var r=v.props,n=r.isBorderless,a=r.isReplyType,o=r.defaultCountryCode,i=r.frameWindow,s=r.onAttributeSubmit,c=v.state.saveStates;if(t>L(c))return null;var l,u=e.type,d=e.name,p=e.identifier,m=e.options,h=e.value,f=e.saveState;return 1<D(c)&&(l=""+(t+1)),b.a.createElement(A,{key:p,type:u,name:d,identifier:p,value:h,number:l,options:m,saveState:f,defaultCountryCode:o,isBorderless:n,isReplyType:a,frameWindow:i,onSubmit:s})}),v}t=o,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var r=this,e=this.props,n=e.part,a=e.conversationId,o=this.context.addMetric,i=n.form;i&&i.attributes.forEach(function(e){var t=e.identifier;return"email"===t&&r.props.onEmailAttributeMount(a),o("received","operator_reply","messenger","in_conversation",{type:"automated_lead_qualification",conversation_id:a,part_id:n.id,attribute_identifier:t,attribute_type:Object(x.c)(i,t),form_type:i.type,attribute_is_custom_data:Object(x.k)({identifier:t})})})},n.componentDidUpdate=function(e,t){var r,n;L(t.saveStates)!==L(this.state.saveStates)&&(r=this,(n=Object(i.findDOMNode)(r).closest(".intercom-conversation-body-parts"))&&Object(s.y)(n))},n.renderAvatar=function(){return b.a.createElement("div",{className:"intercom-attribute-collector-card-avatar"},b.a.createElement(l.a,{author:this.props.part.author}))},n.renderForm=function(){var e=this.props.part.form;return e?e.attributes.map(this.renderAttribute):null},n.renderPosition=function(){var e=this.state.saveStates,t=D(e);if(1===t)return null;var r=Math.min(t,L(e)+1);return b.a.createElement("div",{className:"intercom-attribute-collector-card-position"},"(",r," of ",t,")")},n.getClassName=function(){var e=this.props,t=e.isBorderless,r=e.isMobile,n=e.isReplyType;return c()({"intercom-attribute-collector-card":!0,"intercom-attribute-collector-card-borderless":t,"intercom-attribute-collector-card-mobile":r,"intercom-attribute-collector-card-reply-type":n})},n.render=function(){return b.a.createElement("div",{className:this.getClassName()},this.props.hasAvatar?this.renderAvatar():null,b.a.createElement("div",{className:"intercom-attribute-collector-card-body"},this.renderPosition(),this.renderForm()))},r}(a.Component);F.contextTypes={addMetric:R.a.func};var U=r(16),H=r(73),W=r(239);t.a=Object(n.b)(function(e,t){var r=t.part;return{conversationId:e.app.conversationId||e.message.conversationId,partId:r.id,defaultCountryCode:e.user.countryCode||"us"}},function(i){return{onAttributeSubmit:function(e,t,r,n,a,o){i(Object(H.q)(U.a,e,t,r,n,a,o,Object(x.k)({identifier:r})))},onEmailAttributeMount:function(e){i(Object(W.c)(e))}}},function(r,n,a){return Object.assign({},r,n,a,{onAttributeSubmit:function(e,t){n.onAttributeSubmit(r.conversationId,r.partId,e,t,Object(x.c)(a.part.form,e),a.part.form.type)}})})(F)},871:function(e,t,r){"use strict";var n=r(23),a=r(0),c=r.n(a),o=r(2),i=r.n(o),s=r(11),l=r.n(s),u=r(885);var d,p,m,h=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassNames=function(){var e=this.props.isBorderless,t=this.context.isPrimaryColorLight();return l()({"quick-reply-button":!0,"quick-reply-button-borderless":e,"quick-reply-button-light":t})},a.render=function(){var e=this.props,t=e.replyOption,r=e.onSelect,n=e.focused;return c.a.createElement(u.a,{className:this.getClassNames(),label:t.text,value:t,onClick:r,focused:n})},n}(a.PureComponent);function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}d=h,p="contextTypes",m={isPrimaryColorLight:i.a.func},p in d?Object.defineProperty(d,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[p]=m;var b=function(n){var e,t;function r(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v(f(o=n.call.apply(n,[this].concat(t))||this),"addReceivedMetric",function(){var e=o.props,t=e.isBorderless,r=e.part,n=e.replyOptions,a=t?"borderless":"messenger";n.length<=0||n.forEach(function(e){o.context.addMetric("received","quick_reply",a,"",{quick_reply_id:e.uuid,part_id:r.id})})}),v(f(o),"addClickedMetric",function(e){var t=o.props,r=t.isBorderless,n=t.part,a=r?"borderless":"messenger";o.context.addMetric("clicked","quick_reply",a,"",{quick_reply_id:e.uuid,part_id:n.id})}),v(f(o),"createHandleSelect",function(e){return function(){o.addClickedMetric(e),o.props.onSelect(e)}}),o}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentDidMount=function(){this.addReceivedMetric()},a.render=function(){var r=this,e=this.props,t=e.replyOptions,n=e.isBorderless;return c.a.createElement("div",{className:"intercom-quick-replies"},t.map(function(e,t){return c.a.createElement(h,{key:t,focused:!n&&0===t,replyOption:e,isBorderless:n,onSelect:r.createHandleSelect(e)})}))},r}(a.PureComponent);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}b.contextTypes={addMetric:i.a.func};function C(e){return{style:{height:e.height,overflow:e.overflow,opacity:e.opacity}}}var E=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y(g(r=a.call.apply(a,[this].concat(t))||this),"ref",void 0),y(g(r),"state",{style:{height:r.props.isBorderless?0:"auto",opacity:r.props.isBorderless?0:1,overflow:"visible"}}),y(g(r),"listenToHeightChanges",!0),y(g(r),"handleShow",function(){var e=r.props.onShow;e&&r.ref&&e(r.ref.clientHeight)}),y(g(r),"handleHide",function(){var e=r.props.onHide;e&&e()}),y(g(r),"handleSelect",function(e){var t=r.ref?r.ref.clientHeight+"px":"auto";r.setState(C({height:t,overflow:"hidden",opacity:0}),function(){setTimeout(function(){r.setState(C({height:0,overflow:"hidden",opacity:0})),r.props.onSelect(e),setTimeout(function(){return r.setState(C({height:"auto",overflow:"visible",opacity:1}))},200)},1)})}),y(g(r),"setRef",function(e){r.ref=e}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var r=this,e=this.props,t=e.replyOptions,n=e.isBorderless;t&&this.handleShow(),n&&setTimeout(function(){var e="visible",t=r.ref?r.ref.clientHeight+"px":"auto";r.setState(C({height:t,overflow:e,opacity:0})),setTimeout(function(){r.setState(C({height:t,overflow:e,opacity:1}))},200)},500)},n.componentDidUpdate=function(e){var t=this.props.replyOptions,r=e.replyOptions;!r&&t?this.handleShow():r&&!t&&this.handleHide()},n.render=function(){var e=this.props,t=e.replyOptions,r=e.isBorderless,n=e.part;return c.a.createElement("div",{className:"intercom-quick-replies-container",style:this.state.style},c.a.createElement("div",{ref:this.setRef,className:"intercom-quick-replies-wrapper"},t&&n?c.a.createElement(b,{replyOptions:t,part:n,isBorderless:r,onSelect:this.handleSelect}):null))},r}(a.Component);var w=function(e){var t=e.parts[e.parts.length-1];if(t&&t.replyOptions&&0!==t.replyOptions.length)return t},k=function(s){var e,t;function r(){for(var o,e,t,r,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return o=s.call.apply(s,[this].concat(a))||this,e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o),r=function(e){var t=o.props,r=t.conversation,n=t.onSelect,a=w(r);a&&n(r,a,e)},(t="handleSelect")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,o}return t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.prototype.render=function(){var e,t=this.props,r=t.conversation,n=t.isBorderless,a=t.onShow,o=t.onHide,i=w(r),s=(e=i)?e.replyOptions:void 0;return c.a.createElement(E,{replyOptions:s,isBorderless:n,onShow:a,onHide:o,onSelect:this.handleSelect,part:i})},r}(a.Component),_=r(886),S=r(16);t.a=Object(n.b)(void 0,function(n){return{onSelect:function(e,t,r){n(Object(_.a)(S.a,e.id,t,r))}}})(k)},872:function(e,t,r){"use strict";var n=r(14);r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var a=["image/gif","image/jpeg","image/png","image/webp","image/bmp","image/x-icon"],o=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=function(){return t()},r.src=n})},i=function(m){return new Promise(function(d,p){var e,c,t;s(m)&&Object(n.b)()?(e=m,c=function(e){var t,a,o,i,s,r,n,c,l=URL.createObjectURL(m),u=function(e){var t=new Image;t.onload=function(){return d(t)},t.onerror=function(){return p()},t.src=e};e<=1?(r=m,n=u,(c=new FileReader).onload=function(e){n(e.target.result)},c.readAsDataURL(r)):(t=l,a=e,o=m.type,i=u,(s=new Image).src=t,s.onload=function(){var e=s.width,t=s.height,r=document.createElement("canvas"),n=r.getContext("2d");switch(4<a&&a<9?(r.width=t,r.height=e):(r.width=e,r.height=t),a){case 2:n.transform(-1,0,0,1,e,0);break;case 3:n.transform(-1,0,0,-1,e,t);break;case 4:n.transform(1,0,0,-1,0,t);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,t,0);break;case 7:n.transform(0,-1,-1,0,t,e);break;case 8:n.transform(0,-1,1,0,0,e)}n.drawImage(s,0,0),i(r.toDataURL(o))})},(t=new FileReader).onload=function(e){var t=new DataView(e.target.result);if(65496!==t.getUint16(0,!1))return c(-2);for(var r=t.byteLength,n=2;n<r;){var a=t.getUint16(n,!1);if(n+=2,65505===a){if(1165519206!==t.getUint32(n+=2,!1))return c(-1);var o=18761===t.getUint16(n+=6,!1);n+=t.getUint32(n+4,o);var i=t.getUint16(n,o);n+=2;for(var s=0;s<i;s++)if(274===t.getUint16(n+12*s,o))return c(t.getUint16(n+12*s+8,o))}else{if(65280!=(65280&a))break;n+=t.getUint16(n,!1)}}return c(-1)},t.readAsArrayBuffer(e.slice(0,65536))):d()})},s=function(e){return-1!==a.indexOf(e.type.toLowerCase())}},879:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(0),p=r.n(n);var a,o,i,s=function(e,t,r){var n,a,o,i,s,c,l,u,d=e[t];return void 0===d?null:d.avatar.square128?(s=t,c=r,l=(i=d).avatar.square128,u=(i.firstName||"admin")+" avatar",p.a.createElement("img",{key:s,className:c,src:l,alt:u})):(n=t,a=r,o=d.firstName.charAt(0).toUpperCase(),p.a.createElement("div",{key:n,className:a},o))},c=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e,t,r=null,n=this.props.admins;return 3<=n.length?r=[s(t=n,0,"intercom-team-avatar intercom-team-avatar-small intercom-first-of-three-admins"),s(t,1,"intercom-team-avatar intercom-team-avatar-small intercom-second-of-three-admins"),s(t,2,"intercom-team-avatar intercom-team-avatar-small intercom-third-of-three-admins")]:2===n.length?r=[s(e=n,0,"intercom-team-avatar intercom-team-avatar-small intercom-first-of-two-admins"),s(e,1,"intercom-team-avatar intercom-team-avatar-small intercom-second-of-two-admins")]:1===n.length&&(r=s(n,0,"intercom-team-avatar intercom-team-avatar-large")),p.a.createElement("div",{className:"intercom-team-avatar-container"},r)},n}(n.PureComponent);i={admins:[]},(o="defaultProps")in(a=c)?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i},880:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),o=r.n(n),i=r(895),s=r(505);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(c(r=a.call.apply(a,[this].concat(t))||this),"state",{width:0}),l(c(r),"handleMeasure",function(e){var t=e.width;r.setState({width:t})}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getStyle=function(){var e=this.state.width;if(0!==e)return{width:e,height:Math.ceil(e/4*3)}},n.render=function(){var e=this.props,t=e.containerClassName,r=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,["containerClassName"]);return o.a.createElement(s.a,{onChange:this.handleMeasure},o.a.createElement("div",null,o.a.createElement("div",{className:t,style:this.getStyle()},o.a.createElement(i.a,r))))},r}(n.Component);l(a,"defaultProps",i.b)},881:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),m=r.n(n),h=r(507),f=r(865),v=r(15);var a,o,i,s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.value,r=e.saveState,n=e.isBorderless,a=e.isReplyType,o=e.isNotificationChannel,i=e.isSubmittable,s=e.placeholder,c=e.disabled,l=e.errorMessage,u=e.hideErrorMessage,d=e.onSubmit,p=e.onChange;return m.a.createElement(h.a,{value:t,placeholder:s,saveState:r,disabled:c,isValid:f.a,isBorderless:n,isReplyType:a,isSubmittable:i,isNotificationChannel:o,onSubmit:d,onChange:p,hideErrorMessage:u,ariaLabel:"Enter your email",type:"email",validationErrorMessage:l||Object(v.c)("that_email_address_doesnt_look_quite_right")})},n}(n.Component);i={placeholder:"email@domain.com",isSubmittable:!0,hideErrorMessage:!(o="defaultProps")},o in(a=s)?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i},882:function(e,t,r){"use strict";var n=r(0),a=r.n(n);t.a=function(){return a.a.createElement("svg",{viewBox:"0 0 29 18"},a.a.createElement("g",{fillRule:"evenodd"},a.a.createElement("path",{d:"M9 1a8 8 0 1 0 0 16h11a8 8 0 1 0 0-16H9zm0-1h11a9 9 0 0 1 0 18H9A9 9 0 0 1 9 0z",fillRule:"nonzero"}),a.a.createElement("path",{d:"M6.561 9.337c0-2.277 1.683-3.795 3.773-3.795 1.298 0 2.2.572 2.849 1.375l-.726.451c-.462-.594-1.243-1.012-2.123-1.012-1.606 0-2.827 1.232-2.827 2.981 0 1.738 1.221 2.992 2.827 2.992.88 0 1.606-.429 1.969-.792v-1.496H9.784v-.814h3.432v2.651a3.822 3.822 0 0 1-2.882 1.265c-2.09 0-3.773-1.529-3.773-3.806zM14.701 13V5.663h.913V13h-.913zm2.629 0V5.663h4.807v.814h-3.894v2.365h3.817v.814h-3.817V13h-.913z"})))}},883:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(0),a=r.n(n);function o(e){var t=void 0===e.className?"intercom-new-message-icon":"intercom-new-message-icon "+e.className;return a.a.createElement("svg",{className:t,width:"16px",height:"12px",viewBox:"0 0 16 12"},a.a.createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},a.a.createElement("g",{transform:"translate(-257.000000, -529.000000)"},a.a.createElement("g",{transform:"translate(100.000000, 187.000000)"},a.a.createElement("g",{transform:"translate(94.000000, 0.000000)"},a.a.createElement("g",{transform:"translate(16.000000, 169.000000)"},a.a.createElement("g",{transform:"translate(24.000000, 159.000000)"},a.a.createElement("g",{transform:"translate(23.000000, 14.000000)"},a.a.createElement("path",{d:"M10.8401488,6.224907 L15.6817765,11.0665347 C15.51005,11.3499528 15.2722574,11.5748794 14.9768457,11.7328673 C14.6509198,11.9071744 14.3276335,12 13.4361148,12 L2.5638852,12 C1.67236646,12 1.34908022,11.9071744 1.0231543,11.7328673 C0.72877254,11.5754302 0.491608869,11.3515205 0.320022148,11.069497 L5.16278101,6.22673813 L7.26933188,7.54333242 C7.55321179,7.72075737 7.66665987,7.76662232 7.80054357,7.79679663 C7.93442727,7.82697094 8.06557273,7.82697094 8.19945643,7.79679663 C8.33334013,7.76662232 8.44678821,7.72075737 8.73066812,7.54333242 L10.8401488,6.224907 Z M11.7104341,5.6809787 L15.6940002,3.19124987 C15.7876675,3.1327078 15.9110576,3.16118243 15.9695997,3.25484974 C15.9894661,3.28663606 16,3.32336558 16,3.36084953 L16,9.4361148 C16,9.63606843 15.9953306,9.80743801 15.9861196,9.95666428 L11.7104341,5.6809787 Z M4.29249574,5.68280984 L0.0141588143,9.96114676 C0.0047635636,9.81087199 2.47328067e-17,9.63807348 0,9.4361148 L1.24567172e-16,3.36084953 C1.11040097e-16,3.25039258 0.08954305,3.16084953 0.2,3.16084953 C0.237483943,3.16084953 0.274213468,3.17138342 0.305999788,3.19124987 L4.29249574,5.68280984 Z M1,-2.48689958e-14 L15,-2.48689958e-14 C15.5522847,-2.49704488e-14 16,0.44771525 16,1 L16,1.8763932 C16,1.95214761 15.9571995,2.02140024 15.8894427,2.05527864 L8.4472136,5.7763932 C8.1656861,5.91715695 7.8343139,5.91715695 7.5527864,5.7763932 L0.110557281,2.05527864 C0.0428004752,2.02140024 3.97855298e-16,1.95214761 3.88578059e-16,1.8763932 L0,1 C-6.76353751e-17,0.44771525 0.44771525,-2.47675427e-14 1,-2.48689958e-14 Z"})))))))))}},884:function(e,t,r){"use strict";r.d(t,"a",function(){return _});var n=r(0),d=r.n(n),a=r(71),o=r.n(a),p=r(855),m=r(851),h=r(847),f=r(842),i=r(856),s=r(11),c=r.n(s),l=r(13),v=r(15),u=r(2),b=r.n(u),g=r(850),y=r(852),C=r(866);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return k(w(n=a.call.apply(a,[this].concat(t))||this),"state",{isFooterVisible:!0,isScrolled:!1,topHeight:0,bodyHeight:0,containerHeight:0,footerHeight:0}),k(w(n),"disableScrollCallbacks",!1),k(w(n),"handleScrollable",function(e){if(!n.disableScrollCallbacks){var t=e.scrollHeight-e.clientHeight,r=void 0===n.props.reactionsReply||t<=n.getReactionsVisibilityThreshold();n.setState({isFooterVisible:r})}}),k(w(n),"handleScroll",function(e){if(!n.disableScrollCallbacks){var t=n.state.isFooterVisible,r=Object(l.k)(e.target);n.setState({isFooterVisible:t||r<=n.getFooterHeight(),isScrolled:0<e.target.scrollTop})}}),k(w(n),"clientHeight",void 0),k(w(n),"setTopHeight",function(e){e&&n.setState({topHeight:e.getTopHeight()})}),k(w(n),"setBodyHeight",function(e){if(e){var t=o.a.findDOMNode(e);n.setState({bodyHeight:t.clientHeight})}}),k(w(n),"setFooterHeight",function(e){e&&n.setState({footerHeight:e.clientHeight})}),k(w(n),"setContainerHeight",function(e){e&&n.setState({containerHeight:e.clientHeight})}),k(w(n),"addClickedComposerMetric",function(){var e=n.props,t=e.message.id,r=e.conversationId;n.context.addMetric("clicked","composer","in_app","from_full",{message_type:"post",message_id:t,conversation_id:r})}),k(w(n),"handleComposerClick",function(){n.addClickedComposerMetric(),n.props.onComposerClick(),n.context.messengerOptions&&n.context.messengerOptions.focusComposer()}),k(w(n),"handleOnCloseAndFocusMessenger",function(){n.props.onClose&&n.props.onClose(),n.props.returnFocus&&n.props.returnFocus()}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillUnmount=function(){this.disableScrollCallbacks=!0},n.getReactionsVisibilityThreshold=function(){return this.getFooterHeight()+20},n.getFooterHeight=function(){return this.state.footerHeight||0},n.getClassNames=function(){return c()({"intercom-post":!0,"intercom-post-scrolled":this.state.isScrolled})},n.getFooterClassNames=function(){var e=this.props,t=e.showReplyToButton,r=e.isUpfrontEmailComposerShowing;return c()({"intercom-post-footer":!0,"intercom-post-footer-visible":this.state.isFooterVisible,"intercom-post-footer-text-center":t||r})},n.getBodyWidth=function(){return Math.min(800,window.parent.innerWidth)},n.getPaddedBodyWidth=function(){return this.getBodyWidth()-80},n.renderFooter=function(){var t=this,e=this.props,r=e.showReplyToButton,n=e.isUpfrontEmailComposerShowing;return r||n?d.a.createElement(C.a,{onClick:this.handleComposerClick}):d.a.createElement("div",{className:"intercom-post-composer",onClick:t.handleComposerClick,"aria-label":Object(v.c)("open_conversation_and_reply"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleComposerClick(e)},role:"button",tabIndex:"0"},d.a.createElement("span",{className:"intercom-composer-placeholder"},Object(v.c)("reply_to_conversation")),d.a.createElement("div",{className:"intercom-composer-buttons"},d.a.createElement("span",{className:"intercom-composer-emoji-button"},d.a.createElement(y.a,null)),d.a.createElement("span",{className:"intercom-composer-upload-button"},d.a.createElement(g.a,null))))},n.renderReactionPicker=function(){var e=this.props,t=e.reactionsReply,r=e.onReactionSelect;return d.a.createElement(i.a,E({},t,{onReactionSelect:r}))},n.render=function(){var t=this,e=this.props,r=e.appName,n=e.message,a=e.reactionsReply,o=e.onClose,i=e.frameWindow,s=e.returnFocus,c=n.author,l=n.lastActiveAt,u=n.body;return d.a.createElement(p.a,{onClose:o,showCloseOverlay:!1,frameWindow:i,returnFocus:s},d.a.createElement("div",{className:"intercom-post-container",ref:this.setContainerHeight},d.a.createElement("div",{className:this.getClassNames()},d.a.createElement(h.a,{ref:this.setTopHeight,appName:r,isReplyStyle:!1,author:c,lastActiveAt:l},d.a.createElement("span",{className:"intercom-post-close intercom-anchor",onClick:t.handleOnCloseAndFocusMessenger,"aria-label":Object(v.c)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleOnCloseAndFocusMessenger(e)},role:"button",tabIndex:"0"}," "),d.a.createElement("div",{className:"intercom-post-body"},d.a.createElement(m.a,{ref:this.setBodyHeight,onScroll:this.handleScroll,onScrollable:this.handleScrollable},d.a.createElement(f.a,{blocks:u,maxImageWidth:this.getPaddedBodyWidth(),frameWindow:i}))),d.a.createElement("div",{ref:this.setFooterHeight,className:this.getFooterClassNames()},a?this.renderReactionPicker():this.renderFooter())))))},r}(n.Component);k(_,"contextTypes",{addMetric:b.a.func.isRequired,messengerOptions:b.a.object})},885:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),o=r.n(n);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return s(i(e=a.call.apply(a,[this].concat(r))||this),"node",void 0),s(i(e),"handleOnClick",function(){e.props.onClick&&e.props.onClick(e.props.value)}),e}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.props.focused&&this.node&&this.node.focus()},n.render=function(){var t=this;return o.a.createElement("button",{onClick:this.handleOnClick,value:this.props.value,className:this.props.className,ref:function(e){return t.node=e},tabIndex:"0"},this.props.label)},r}(n.Component);s(a,"defaultProps",{value:"",label:"",className:""})},886:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var y=r(73),C=r(65),E=r(504),w=r(130);function n(u,d,p,m,h,f,v,b,g){return void 0===h&&(h=null),void 0===f&&(f=!1),void 0===v&&(v=!1),function(t,e){var r,n=e(),a=n.session,o=n.borderless;r="message"===p.partType?null:p.id;var i=function(e){if(e&&e.clientId)return e.clientId;return Object(w.b)()}(h),s=new Date,c=Object(E.c)(m.text),l={conversationId:d,clientId:i,createdAt:s,body:c,selectedReplyOption:{replyOption:m,quickReplyPart:p}};return t(Object(y.e)(d,l,f)),o&&o.conversationId||t(Object(C.g)(d)),u.quickReply(a,d,r,m,i).then(function(e){t(Object(y.f)(d,e,v,b,g,!1,s))}).catch(function(e){t(Object(y.d)(d,l,e))})}}},887:function(e,t,r){"use strict";r.d(t,"j",function(){return c}),r.d(t,"i",function(){return l}),r.d(t,"b",function(){return u}),r.d(t,"a",function(){return d}),r.d(t,"h",function(){return m}),r.d(t,"e",function(){return f}),r.d(t,"f",function(){return v}),r.d(t,"g",function(){return b}),r.d(t,"c",function(){return g}),r.d(t,"d",function(){return y});var o=r(846),i=r(491),n=r(15),s=r(28),a=["january","february","march","april","may","june","july","august","september","october","november","december"],c=function(t){return"link"===t[0].messageType?!t.slice(1).every(function(e){return Object(o.c)(e.createdAt,t[0].sentAt)}):!1!==t[0].showCreatedAt&&!t.every(function(e){return Object(o.c)(e.createdAt,t[0].createdAt)})},l=function(e,t){return e&&!Object(o.c)(t.createdAt,e.sentAt||e.createdAt)},u=function(e){return Object(n.c)(a[e.getMonth()]+"_date",{date:e.getDate()})},d=function(t,e){return e.find(function(e){return e.author.isAdmin&&e.author.id===t.id&&e.createdAt>=t.lastActiveAt-5e3})},p=function(e,t){var r;return!d(e,t)&&(r=e.lastActiveAt,new Date-r<1e4)},m=function(e){var t=e.parts,r=e.lastTypingAdmin;return!!r&&p(r,t)},h=function(e,t){return e.id===t.id&&e.isAdmin===t.isAdmin||!0===e.isSelf&&!0===t.isSelf||!0===e.isBot&&!0===t.isBot},f=function(e,t){return!!t&&Object(o.c)(e.createdAt,t.createdAt)&&h(e.author,t.author)&&(n=e.partType,a=t.partType,!Object(i.a)(n)&&!Object(i.a)(a))&&(r=e.createdAt,t.createdAt-r<=18e4);var r,n,a},v=function(e,t,r,n,a){return!e.author.isSelf&&"video"!==e.messageType&&(r?!!t?!h(e.author,t.author):!(n&&e.author.id===a.id):!f(e,t))},b=function(e,t,r){var n=e.author.isAdmin,a=0<t.length&&Object(s.a)(t).id===e.id,o="comment"===e.partType||"message"===e.partType||"attribute_collector"===e.partType,i="failed"===e.saveState||"saving"===e.saveState;return(a||i)&&!(n&&r)&&o},g=function(e){return e.clientId||e.id},y=function(e){return"quick_reply"===e.partType&&(!e.body||0===e.body.length)}},892:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(0),C=r.n(o),E=r(43),i=r(11),c=r.n(i),s=r(23),l=r(884),u=r(847),d=r(842);function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(p(e=a.call.apply(a,[this].concat(r))||this),"state",{isTruncated:!1}),m(p(e),"node",void 0),m(p(e),"handleClick",function(){e.context.addMetric("viewed","post","messenger","from_card",{conversation_id:e.props.conversationId}),e.props.onOpen(e.props.conversationId,e.props.part.id)}),m(p(e),"handleClose",function(){e.props.onClose()}),m(p(e),"handleComposerClick",function(){e.handleClose()}),e}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.handleResize()},n.handleResize=function(){var e=this.node;if(e){var t=e.scrollHeight,r=e.clientHeight;this.setState({isTruncated:r<t})}},n.getClassNames=function(){return c()({"intercom-post-card":!0,"intercom-post-card-truncated":this.state.isTruncated})},n.renderPost=function(){var e=this.props,t=e.part,r=e.appName,n=e.reactionsReply,a=e.onReactionSelect,o=e.frameWindow,i=e.isUpfrontEmailComposerShowing;return C.a.createElement(l.a,{message:t,appName:r,reactionsReply:n,onReactionSelect:a,onComposerClick:this.handleComposerClick,onClose:this.handleClose,frameWindow:o,isUpfrontEmailComposerShowing:i,returnFocus:this.node&&this.node.focus.bind(this.node)})},n.render=function(){var t=this,e=this.props,r=e.part,n=e.appName,a=e.frameWindow,o=e.isOpen,i=r.author,s=r.body;return C.a.createElement("div",{className:this.getClassNames(),onClick:t.handleClick,ref:function(e){return t.node=e},onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},C.a.createElement(u.a,{appName:n,author:i},C.a.createElement("div",{className:"intercom-post-card-body"},C.a.createElement(d.a,{blocks:s,frameWindow:a}))),o?this.renderPost():null)},r}(o.Component);m(h,"contextTypes",{addMetric:a.a.func});var f=r(226),v=Object(s.b)(function(e){return{isOpen:!!e.message.conversationId&&!!e.message.partId,isUpfrontEmailComposerShowing:e.app.upfrontEmailCollection.upfrontEmailCollectorShowing}},function(r){return{onOpen:function(e,t){r(Object(f.b)(e,t))},onClose:function(){r(Object(f.a)())}}},function(e,r,t){return Object.assign({},e,r,t,{onOpen:function(e,t){r.onOpen(e,t)},onClose:function(){r.onClose()}})})(h);var b=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.appName,r=e.part,n=e.frameWindow,a=r.author,o=r.body;return C.a.createElement("div",{className:"intercom-note-card"},C.a.createElement(u.a,{appName:t,isReplyStyle:!1,author:a},C.a.createElement("div",{className:"intercom-note-card-body"},C.a.createElement(d.a,{blocks:o,zoomable:!0,frameWindow:n}))))},n}(o.Component),g=r(899),y=r(71),w=r.n(y),k=r(855),_=r(851),S=r(843),j=r(856),O=r(15),N=r(846);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(n){var e,t;function r(){for(var o,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return A(T(o=n.call.apply(n,[this].concat(t))||this),"state",{isScrolled:!1}),A(T(o),"handleScroll",function(e){o.setState({isScrolled:0<e.target.scrollTop})}),A(T(o),"setBodyHeight",function(e){e&&o.setState({bodyHeight:w.a.findDOMNode(e).clientHeight})}),A(T(o),"setFooterHeight",function(e){e&&o.setState({footerHeight:w.a.findDOMNode(e).clientHeight})}),A(T(o),"setContainerHeight",function(e){e&&o.setState({containerHeight:w.a.findDOMNode(e).clientHeight})}),A(T(o),"handleOnClose",function(){var e=o.props,t=e.article,r=e.conversationId,n=e.onClose,a=e.returnFocus;o.context.addMetric("closed","article","in_app","from_close_button",{owner:"educate",article_id:t&&t.id,conversation_id:r},"educate_event"),n(),a&&a()}),o}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.getClassNames=function(){return c()({"intercom-post":!0,"intercom-article":!0,"intercom-post-scrolled":this.state.isScrolled})},a.getFooterHeight=function(){return this.state.footerHeight||0},a.getBodyWidth=function(){return Math.min(800,window.parent.innerWidth)-80},a.renderReactionPicker=function(){var e=this.props,t=e.article.reactionsReply,r=e.onReactionSelect;return C.a.createElement(j.a,P({},t,{prompt:Object(O.c)("article_question"),onReactionSelect:r}))},a.render=function(){var t=this,e=this.props,r=e.article,n=e.frameWindow,a=e.returnFocus;if(!r||!r.id)return null;var o=r.author,i=Date.parse(r.updatedAt);return C.a.createElement(k.a,{onClose:this.handleOnClose,showCloseOverlay:!1,frameWindow:n,returnFocus:a},C.a.createElement("div",{className:"intercom-post-container",ref:this.setContainerHeight},C.a.createElement("div",{className:this.getClassNames()},C.a.createElement("span",{className:"intercom-post-close intercom-anchor",onClick:t.handleOnClose,"aria-label":Object(O.c)("close"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleOnClose(e)},role:"button",tabIndex:"0"}," "),C.a.createElement("div",{className:"intercom-post-body"},C.a.createElement(_.a,{ref:this.setBodyHeight,onScroll:this.handleScroll},C.a.createElement("div",{className:"intercom-article-content"},C.a.createElement("h1",{className:"intercom-article-title"},r.title),C.a.createElement("div",{className:"intercom-article-description"},r.description),C.a.createElement("div",{className:"intercom-authored-container"},C.a.createElement("div",{className:"intercom-authored-container-avatar"},o&&C.a.createElement(S.a,{author:o})),C.a.createElement("div",{className:"intercom-author-summary"},C.a.createElement("div",{className:"intercom-author-summary-name-from"},C.a.createElement("span",{className:"intercom-author-summary-from-clause"},Object(O.c)("written_by")+" "),C.a.createElement("span",{className:"intercom-author-summary-name"},o.name)),C.a.createElement("div",null,C.a.createElement("span",{className:"intercom-author-summary-from-clause"},Object(N.e)(i))))),C.a.createElement(d.a,{blocks:r.blocks,maxImageWidth:this.getBodyWidth(),frameWindow:n})))),C.a.createElement("div",{ref:this.setFooterHeight,className:"intercom-post-footer intercom-post-footer-visible"},r.reactionsReply?this.renderReactionPicker():null))))},r}(o.Component);x.propTypes={appName:a.a.string.isRequired,article:a.a.object.isRequired,onClose:a.a.func.isRequired,returnFocus:a.a.func,onReactionSelect:a.a.func.isRequired,conversationId:a.a.string.isRequired,frameWindow:a.a.object},x.contextTypes={addMetric:a.a.func};var I=r(16),R=r(867),M=Object.assign,B=Object(s.b)(function(e){var t=e.article,r=e.app;return{appName:r.name,article:t,conversationId:r.conversationId}},function(n){return{onClose:function(){n(Object(R.a)(I.a))},onReactionSelect:function(e,t,r){n(Object(R.b)(I.a,e,r,t))}}},function(e,t,r){var n=M({},e,t,r),a=n.article,o=n.onReactionSelect,i=a&&a.id,s=a&&a.contentId;return M(n,{onReactionSelect:o.bind(null,i,s)})})(x),D=function(){return C.a.createElement("svg",{viewBox:"0 0 15 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},C.a.createElement("g",{strokeWidth:"1",fillRule:"evenodd"},C.a.createElement("g",{fillRule:"nonzero"},C.a.createElement("g",null,C.a.createElement("path",{d:"M1,14 L1,4 L8.11538462,4 C8.39152699,4 8.61538462,3.77614237 8.61538462,3.5 C8.61538462,3.22385763 8.39152699,3 8.11538462,3 L0.5,3 C0.223857625,3 0,3.22385763 0,3.5 L0,14.5 C0,14.7761424 0.223857625,15 0.5,15 L11.5,15 C11.7761424,15 12,14.7761424 12,14.5 L12,7.73076923 C12,7.45462686 11.7761424,7.23076923 11.5,7.23076923 C11.2238576,7.23076923 11,7.45462686 11,7.73076923 L11,14 L1,14 Z"}),C.a.createElement("path",{d:"M5.35355339,10.3535534 L12.8535534,2.85355339 C13.0488155,2.65829124 13.0488155,2.34170876 12.8535534,2.14644661 C12.6582912,1.95118446 12.3417088,1.95118446 12.1464466,2.14644661 L4.64644661,9.64644661 C4.45118446,9.84170876 4.45118446,10.1582912 4.64644661,10.3535534 C4.84170876,10.5488155 5.15829124,10.5488155 5.35355339,10.3535534 Z"}),C.a.createElement("path",{d:"M14,5.5 C14,5.77614237 14.2238576,6 14.5,6 C14.7761424,6 15,5.77614237 15,5.5 L15,0.5 C15,0.223857625 14.7761424,9.43689571e-16 14.5,8.8817842e-16 L9.5,0 C9.22385763,-4.90527396e-17 9,0.223857625 9,0.5 C9,0.776142375 9.22385763,1 9.5,1 L14,1 L14,5.5 Z"})))))};function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F=function(a){var e,t;function r(){for(var n,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return L(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=a.call.apply(a,[this].concat(t))||this),"createHandleClick",function(r){return function(e){var t=e.ctrlKey||e.shiftKey||e.metaKey;!r.articleId||r.url&&t||(e.preventDefault(),n.props.onArticleCardClick(r.articleId,{comment_id:n.props.part.id,url:r.url}))}}),n}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){return c()({"intercom-link-card-container":!this.props.isBorderless&&!this.props.isInline,"intercom-block intercom-block-link":this.props.isInline,"intercom-link-card-container-borderless":this.props.isBorderless,"intercom-link-card-container-message":this.props.part.isMessage})},n.getLinkCardClassNames=function(){var e=this.context.isPrimaryColorLight;return c()({"intercom-link-card-grouped":1!==this.props.part.body.length,"intercom-link-card":!0,"intercom-link-card-light":e()})},n.getAvatarClassName=function(){var e=this.props.isBorderless;return c()({"intercom-link-card-avatar":!e,"intercom-borderless-card-avatar intercom-borderless-link-card-avatar":e})},n.renderAdminAvatar=function(){return C.a.createElement("div",{className:this.getAvatarClassName()},C.a.createElement(S.a,{author:this.props.part.author}))},n.buildAuthor=function(e){return{avatar:{square128:e.avatar},name:e.name,firstName:e.firstName||e.name}},n.renderAuthor=function(e){return C.a.createElement("div",{className:"intercom-link-card-author"},C.a.createElement("div",{className:"intercom-link-card-author-avatar"},C.a.createElement(S.a,{author:e})),C.a.createElement("div",{className:"intercom-link-card-author-summary"},Object(O.c)("written_by")+" ",C.a.createElement("span",{className:"intercom-link-card-author-name"},e.name)))},n.renderAskedAbout=function(){return C.a.createElement("div",{className:"intercom-link-card-asked-about"},Object(O.c)("asked_about"))},n.renderLinkCardTitle=function(e){return C.a.createElement("div",{type:e.linkType,className:"intercom-link-card-title"},"educate.help_center"===e.linkType?C.a.createElement("span",{className:"intercom-link-card-title-link-icon"},C.a.createElement(D,null),e.title):e.title)},n.renderLinkCardFooter=function(e){return C.a.createElement("div",{className:"intercom-link-card-footer"},e.description?C.a.createElement("div",{className:"intercom-link-card-description"},e.description):null,e.author&&e.author.name?this.renderAuthor(this.buildAuthor(e.author)):null)},n.renderLinkCards=function(){var r=this,e=this.props.part.body,n=1===e.length;return e.map(function(e,t){return C.a.createElement("a",{href:e.url,onClick:r.createHandleClick(e),key:t.toString(),className:r.getLinkCardClassNames(),target:"_blank",rel:"nofollow noreferrer noopener",ref:function(e){return r.linkRef=e},tabIndex:"0"},C.a.createElement("div",{className:"intercom-link-card-content-container"},r.renderLinkCardTitle(e),n?r.renderLinkCardFooter(e):null),r.props.openArticleId===e.articleId?C.a.createElement(B,{returnFocus:r.linkRef&&r.linkRef.focus.bind(r.linkRef)}):null)})},n.render=function(){return C.a.createElement("div",{className:this.getClassNames()},!this.props.part.isMessage&&this.props.hasAvatar?this.renderAdminAvatar():null,this.props.part.isMessage?this.renderAskedAbout():null,C.a.createElement("div",{className:"intercom-link-card-inner-container"},this.renderLinkCards()))},r}(o.Component);L(F,"contextTypes",{isPrimaryColorLight:a.a.func}),F.defaultProps={isInline:!1,hasAvatar:!0,isBorderless:!1},F.propTypes={openArticleId:a.a.string,part:a.a.shape({id:a.a.string,isMessage:a.a.bool,author:a.a.object.isRequired,body:a.a.array.isRequired}).isRequired,hasAvatar:a.a.bool,isBorderless:a.a.bool,isInline:a.a.bool,onArticleCardClick:a.a.func.isRequired};var U=Object(s.b)(function(e){return{openArticleId:e.article.id}})(F),H=r(171),W=r.n(H),q=r(854),V=r(13),z=r(14),G=r(58);function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return J(K(a=n.call.apply(n,[this].concat(t))||this),"state",{value:a.props.initialValue,valueChanged:!1,showErrorMessage:!1,prevProps:a.props}),J(K(a),"handleFocus",function(e){if(Object(z.e)())a.focusTimeout=setTimeout(function(){var e=w.a.findDOMNode(K(a)),t=e.closest(".intercom-conversation-body-parts");Object(V.z)(e,t)},1e3);else{var t=e.target.value;e.target.value="",e.target.value=t}}),J(K(a),"handleKeyDown",function(e){var t;13!==(t=e).keyCode||t.altKey||t.shiftKey||(a.handleSubmit(),e.preventDefault())}),J(K(a),"handleKeyUp",function(){a.props.onInputChange()}),J(K(a),"handleSubmitButtonClick",function(e){a.isDisabled()||(e.preventDefault(),a.handleSubmit())}),J(K(a),"handleSubmit",function(){var e=a.state.value,t=a.props,r=t.isValid,n=t.onSubmit;r(e)?(n(e),a.notificationChannelsInput.blur(),a.setState({showErrorMessage:!1})):a.setState({showErrorMessage:!0})}),J(K(a),"handleInputChange",function(e){var t=e.target.value;a.setState({value:t,showErrorMessage:!1}),a.state.valueChanged||a.setState({valueChanged:a.valueHasChanged()})}),J(K(a),"handleInputClick",function(){a.notificationChannelsInput.focus()}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentWillUnmount=function(){clearTimeout(this.focusTimeout)},r.getDerivedStateFromProps=function(e,t){if(!t||W()(e,t.prevProps))return null;var r=e.name,n=e.isSaving,a=e.hasExistingChannel,o=e.initialValue,i=r===t.prevProps.name?t.value:o;return n||a?{prevProps:e}:{value:i,prevProps:e,valueChanged:!1,showErrorMessage:!1}},a.valueHasChanged=function(){return this.state.value!==this.props.initialValue},a.valueIsEmpty=function(){return""===this.state.value},a.isPhone=function(){return"phone"===this.props.name},a.shouldShowPlaceholder=function(){return this.state.valueChanged?this.valueIsEmpty():this.valueIsEmpty()||!this.valueHasChanged()},a.isDisabled=function(){return this.props.isSaving||this.props.channelProvided},a.getInputType=function(){switch(this.props.name){case"phone":return"text";case"email":return"email";default:return"text"}},a.getErrorMessage=function(){switch(this.props.name){case"phone":var e=Object(q.c)(this.state.value);return e?Object(O.c)(e):this.props.errorMessage;case"email":return Object(O.c)("that_email_address_doesnt_look_quite_right");default:return"That value doesn't look quite right"}},a.showErrorMessage=function(){return this.state.showErrorMessage||this.props.showErrorMessage},a.getInputClassNames=function(){return c()({"intercom-notification-channels-input":!0,"intercom-notification-channels-input-success":this.props.channelProvided,"intercom-notification-channels-input-error":this.showErrorMessage(),"intercom-notification-channels-phone-input":this.isPhone()})},a.getSubmitClassNames=function(){return c()({"intercom-notification-channels-input-submit-button":!0,"intercom-notification-channels-input-submit-button-saving":this.isDisabled(),"intercom-notification-channels-input-submit-button-success":this.props.channelProvided})},a.getContainerClassNames=function(){return c()({"intercom-notification-channels-input-submit-container":!0,"intercom-notification-channels-input-submit-container-deactivated":this.props.channelProvided})},a.renderFlag=function(){var e=Object(q.a)(this.state.value),t=e?e.code:this.props.initialCountryCode;return C.a.createElement("div",{className:"intercom-flag "+t})},a.renderPlaceholder=function(){var e=this.props,t=e.initialValue,r=e.placeholder,n=this.valueIsEmpty()?{}:{visibility:"hidden"};return C.a.createElement("span",{className:"intercom-notification-channels-placeholder"},C.a.createElement("span",{style:n},t),r)},a.renderErrorMessage=function(){return C.a.createElement(E.CSSTransition,{classNames:"intercom-notification-channels-error",timeout:500},C.a.createElement("div",{key:"notification-channels-error",className:"intercom-notification-channels-error"},C.a.createElement("p",{className:"intercom-notification-channels-error-text",role:"alert"},this.getErrorMessage())))},a.render=function(){var e,t=this;return C.a.createElement("div",{className:"intercom-notification-channels-input-collector",onClick:t.handleInputClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleInputClick(e)},role:"button",tabIndex:"0"},C.a.createElement("div",{className:"intercom-notification-channels-input-container"},C.a.createElement("div",{className:this.getInputClassNames()},this.isPhone()?this.renderFlag():null,this.shouldShowPlaceholder()?this.renderPlaceholder():null,C.a.createElement("input",((e={autoFocus:!0,ref:function(e){return t.notificationChannelsInput=e},name:this.getInputType(),type:this.getInputType()}).name="intercom-channel-collector",e.disabled=this.isDisabled(),e.value=this.state.value,e.autoComplete="off",e.onFocus=this.handleFocus,e.onKeyDown=this.handleKeyDown,e.onKeyUp=this.handleKeyUp,e.onChange=this.handleInputChange,e.onBlur=G.d,e["aria-label"]=this.props.ariaLabel,e))),C.a.createElement("div",{className:this.getContainerClassNames()},C.a.createElement("div",{className:this.getSubmitClassNames(),onTouchEnd:this.handleSubmitButtonClick,onClick:t.handleSubmitButtonClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleSubmitButtonClick(e)},role:"button",tabIndex:"0"},C.a.createElement("div",{className:"intercom-notification-channels-input-submit-icon"}),C.a.createElement("div",{className:"intercom-notification-channels-input-valid-icon"})))),C.a.createElement(E.TransitionGroup,null,this.showErrorMessage()?this.renderErrorMessage():null))},r}(o.Component);Z.defaultProps={initialValue:"",isSaving:!1,initialCountryCode:"us"},Z.propTypes={name:a.a.oneOf(["phone","email"]).isRequired,initialValue:a.a.string,placeholder:a.a.string.isRequired,showErrorMessage:a.a.bool.isRequired,errorMessage:a.a.string,ariaLabel:a.a.string,initialCountryCode:a.a.string,isSaving:a.a.bool,channelProvided:a.a.bool.isRequired,isValid:a.a.func.isRequired,onSubmit:a.a.func.isRequired,onInputChange:a.a.func.isRequired,hasExistingChannel:a.a.bool};var X=function(e,t){return $(e)&&!Q(t)},Y=function(e,t){return $(e)&&!Q(t)},$=function(e){return"visitor"===e||"lead"===e},Q=function(e){return void 0===e||""===e},ee=r(865);function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne=function(e){var t=e.userRole,r=e.userSuppliedEmail,n=e.phoneNumber,a=X(t,r),o=Y(t,n);return a||o},ae=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return re(te(r=a.call.apply(a,[this].concat(t))||this),"state",{showEmailCollector:!0,showPhoneNumberCollector:!1,hasExistingChannel:ne(r.props),channelProvided:!1,prevProps:r.props}),re(te(r),"addNotificationChannelMetric",function(e,t){r.context.addMetric(e,"notification_channel_"+t,"messenger","in_conversation",{conversation_id:r.props.conversationId})}),re(te(r),"addNotificationChannelShownMetric",function(e){r.addNotificationChannelMetric("received",e)}),re(te(r),"addNotificationChannelStartMetric",function(e){r.addNotificationChannelMetric("started",e)}),re(te(r),"addNotificationChannelCompleteMetric",function(e){r.addNotificationChannelMetric("completed",e)}),re(te(r),"handleEmailClick",function(){r.addNotificationChannelStartMetric("email"),r.setState({showEmailCollector:!0,showPhoneNumberCollector:!1}),r.props.onInputChange()}),re(te(r),"handleSmsClick",function(){r.addNotificationChannelStartMetric("sms"),r.setState({showEmailCollector:!1,showPhoneNumberCollector:!0}),r.props.onInputChange()}),re(te(r),"handleEmailCollectorSubmit",function(e){r.addNotificationChannelCompleteMetric(r.getEmailCollectorMetricName()),r.props.onEmailCollectorSubmit(e)}),re(te(r),"handlePhoneNumberCollectorSubmit",function(e){r.addNotificationChannelCompleteMetric("sms"),r.props.onPhoneNumberCollectorSubmit(e)}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.recordMetrics()},r.getDerivedStateFromProps=function(e,t){if(!t||W()(e,t.prevProps))return null;var r=ne(e),n={prevProps:e,hasExistingChannel:r};return t.hasExistingChannel||(n.channelProvided=r),n},n.recordMetrics=function(){var e=this.props,t=e.userRole,r=e.userSuppliedEmail,n=e.smsEnabled,a=X(t,r);n&&!this.state.hasExistingChannel?this.recordChannelMetrics():n||a||this.addNotificationChannelShownMetric(this.getEmailCollectorMetricName())},n.recordChannelMetrics=function(){var e=this.props.smsEnabled;this.addNotificationChannelShownMetric("options"),this.addNotificationChannelShownMetric("email"),e&&this.addNotificationChannelShownMetric("sms")},n.getEmailCollectorMetricName=function(){return this.props.smsEnabled?"email":"email_collector"},n.existingChannelText=function(){var e=this.props,t=e.userRole,r=e.userSuppliedEmail,n=e.phoneNumber,a=Y(t,n);return X(t,r)?Object(O.c)("youll_be_notified_here_and_by_email"):a?Object(O.c)("youll_be_notified_here_and_by_sms"):void 0},n.existingChannelValue=function(){var e=this.props,t=e.userRole,r=e.userSuppliedEmail,n=e.phoneNumber,a=Y(t,n);return X(t,r)?r:a?n:void 0},n.optionSelected=function(){return this.state.showEmailCollector||this.state.showPhoneNumberCollector},n.getTitle=function(){return this.props.smsEnabled?Object(O.c)("get_notified"):Object(O.c)("get_notified_by_email")},n.getClassNames=function(){var e=this.props.nextPart,t=this.state,r=t.hasExistingChannel,n=t.channelProvided,a=!!e,o=a&&e.author.isAdmin;return c()({"intercom-notification-channels":!0,"intercom-notification-channels-success":r&&n,"intercom-notification-channels-next-part-by-admin":a&&o,"intercom-notification-channels-last-part":!a})},n.getOptionContainerClassName=function(){var e=this.state,t=e.hasExistingChannel,r=e.channelProvided;return c()({"intercom-notification-channels-option-container":!0,"intercom-notification-channels-option-container-success":t&&r})},n.getOptionClassName=function(e){return c()({"intercom-anchor":!0,"intercom-notification-channels-option":!0,"intercom-notification-channels-option-selected":e})},n.renderPhoneNumberCollector=function(){var e=Object(q.b)(this.props.userCountryCode);return C.a.createElement(Z,{name:"phone",initialValue:e,placeholder:" 123 456 7890",initialCountryCode:this.props.userCountryCode,isSaving:this.props.isSaving,showErrorMessage:this.props.showErrorMessage,errorMessage:this.props.errorMessage,channelProvided:this.state.channelProvided,isValid:q.d,onSubmit:this.handlePhoneNumberCollectorSubmit,onInputChange:this.props.onInputChange})},n.renderEmailCollector=function(){return C.a.createElement(Z,{name:"email",ariaLabel:"Enter your email",placeholder:"email@domain.com",isSaving:this.props.isSaving,showErrorMessage:this.props.showErrorMessage,errorMessage:this.props.errorMessage,channelProvided:this.state.channelProvided,isValid:ee.a,onSubmit:this.handleEmailCollectorSubmit,onInputChange:this.props.onInputChange})},n.renderChannelsBody=function(){return this.state.showEmailCollector?this.renderEmailCollector():this.state.showPhoneNumberCollector?this.renderPhoneNumberCollector():void 0},n.renderOption=function(e,t,r){return C.a.createElement("span",{className:this.getOptionClassName(t),onClick:r,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r(e)},role:"button",tabIndex:"0"},Object(O.c)(e))},n.renderEmailOption=function(){return this.renderOption("email",this.state.showEmailCollector,this.handleEmailClick)},n.renderSmsOption=function(){return this.renderOption("sms",this.state.showPhoneNumberCollector,this.handleSmsClick)},n.renderOptions=function(){return C.a.createElement("div",{className:this.getOptionContainerClassName()},this.renderEmailOption(),this.props.smsEnabled?this.renderSmsOption():null)},n.renderChannelOptions=function(){return C.a.createElement("div",{className:"intercom-notification-channels-options"},C.a.createElement("div",{className:"intercom-notification-channels-title-container"},C.a.createElement("div",{className:"intercom-notification-channels-title"},this.getTitle()),C.a.createElement("div",{className:"intercom-notification-channels-title-success"},this.existingChannelText())),this.props.smsEnabled?this.renderOptions():null,this.renderChannelsBody())},n.renderExistingValue=function(){return C.a.createElement("div",{className:"intercom-notification-channels-existing-value"},this.existingChannelValue())},n.renderSuccessMessage=function(){return C.a.createElement("div",{className:"intercom-notification-channels-success-message"},C.a.createElement("div",{className:"intercom-notification-channels-title"},this.existingChannelText()),this.renderExistingValue())},n.render=function(){var e=this.state,t=e.hasExistingChannel,r=e.channelProvided;return C.a.createElement("div",{className:this.getClassNames()},t&&!r?this.renderSuccessMessage():this.renderChannelOptions())},r}(o.Component);ae.propTypes={conversationId:a.a.string.isRequired,userId:a.a.string.isRequired,userRole:a.a.oneOf(["user","lead","visitor"]),userCountryCode:a.a.string,userSuppliedEmail:a.a.string,userName:a.a.string,phoneNumber:a.a.string,isSaving:a.a.bool.isRequired,errorMessage:a.a.string,showErrorMessage:a.a.bool.isRequired,smsEnabled:a.a.bool.isRequired,nextPart:a.a.object,onEmailCollectorSubmit:a.a.func.isRequired,onPhoneNumberCollectorSubmit:a.a.func.isRequired,onInputChange:a.a.func.isRequired},ae.contextTypes={addMetric:a.a.func};var oe=r(728),ie=Object(s.b)(function(e){var t=e.app,r=t.conversationId,n=t.smsEnabled,a=e.user,o=a.id,i=a.role,s=a.userSuppliedEmail,c=a.name,l=a.phoneNumber,u=a.countryCode,d=e.notificationChannels;return{conversationId:r,userId:o,userRole:i,userCountryCode:u,userSuppliedEmail:s,userName:c,phoneNumber:l,smsEnabled:n,isSaving:d.isSaving,showErrorMessage:d.showErrorMessage,errorMessage:d.errorMessage}},function(t){return{onEmailCollectorSubmit:function(e){t(Object(oe.c)(I.a,e))},onPhoneNumberCollectorSubmit:function(e){t(Object(oe.b)(I.a,e))},onInputChange:function(){t(Object(oe.a)())}}},function(e,t,r){var n={onInputChange:function(){return t.onInputChange()}};return Object.assign({},r,e,t,n)})(ae);var se=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassNames=function(){return c()({"intercom-notification-channels-card":!0,"intercom-notification-channels-card-borderless":this.props.isBorderless})},a.getAvatarClassName=function(){var e=this.props.isBorderless;return c()({"intercom-notification-channels-card-admin-avatar":!e,"intercom-borderless-card-avatar":e})},a.renderAdminAvatar=function(){return C.a.createElement("div",{className:this.getAvatarClassName()},C.a.createElement(S.a,{author:this.props.part.author}))},a.render=function(){return C.a.createElement("div",{className:this.getClassNames()},this.props.hasAvatar?this.renderAdminAvatar():null,C.a.createElement(ie,{nextPart:this.props.nextPart}))},n}(o.Component);se.defaultProps={hasAvatar:!0,isBorderless:!1},se.propTypes={part:a.a.object.isRequired,nextPart:a.a.object,hasAvatar:a.a.bool,isBorderless:a.a.bool};var ce=r(515),le=r.n(ce);function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return de(ue(r=a.call.apply(a,[this].concat(t))||this),"state",{text:r.props.initialValue}),de(ue(r),"handleFocus",function(e){if(Object(z.e)())r.focusTimeout=setTimeout(function(){var e=w.a.findDOMNode(ue(r)),t=e.closest(".intercom-conversation-body-parts");Object(V.z)(e,t)},1e3);else{var t=e.target.value;e.target.value="",e.target.value=t}}),de(ue(r),"handleKeyDown",function(e){var t;13!==(t=e).keyCode||t.altKey||t.shiftKey||(r.handleSubmit(),e.preventDefault())}),de(ue(r),"handleSubmitButtonClick",function(e){e.preventDefault(),r.handleSubmit()}),de(ue(r),"handleInputClick",function(){r.conversationRatingInput.focus()}),de(ue(r),"handleInputChange",function(e){var t=e.target.value;r.setState({text:t}),r.props.onChange()}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillUnmount=function(){clearTimeout(this.focusTimeout)},n.handleSubmit=function(){var e=this.state.text;(0,this.props.onSubmit)(e),this.conversationRatingInput.blur()},n.getInputClassNames=function(){return c()({"intercom-conversation-rating-input":!0})},n.getSubmitClassNames=function(){return c()({"intercom-conversation-rating-input-submit-button":!0})},n.getContainerClassNames=function(){return c()({"intercom-conversation-rating-input-submit-container":!0})},n.render=function(){var e,t=this,r=this.state.text;return C.a.createElement("div",{className:"intercom-conversation-rating-remark-container",onClick:t.handleInputClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleInputClick(e)},role:"button",tabIndex:"0"},C.a.createElement("div",{className:"intercom-conversation-rating-input-container"},C.a.createElement("div",{className:this.getInputClassNames()},C.a.createElement("pre",null,r,C.a.createElement("br",null)),C.a.createElement("textarea",((e={name:"message",autoFocus:!0,ref:function(e){return t.conversationRatingInput=e},type:"text"}).name="intercom-conversation-rating-remark",e.value=r,e.placeholder=this.props.placeholder,e.onFocus=this.handleFocus,e.onKeyDown=this.handleKeyDown,e.onChange=this.handleInputChange,e.onBlur=G.d,e))),C.a.createElement("div",{className:this.getContainerClassNames()},C.a.createElement("div",{className:this.getSubmitClassNames(),onTouchEnd:this.handleSubmitButtonClick,onClick:t.handleSubmitButtonClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleSubmitButtonClick(e)},role:"button",tabIndex:"0"},C.a.createElement("div",{className:"intercom-conversation-rating-input-submit-icon"})))))},r}(o.Component);pe.defaultProps={initialValue:""},pe.propTypes={initialValue:a.a.string,placeholder:a.a.string.isRequired,onSubmit:a.a.func.isRequired,onChange:a.a.func.isRequired};var me=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){var e,t=this.props.ratingIndex;return c()(((e={"intercom-conversation-rating-emoji-thanks":!0})["intercom-conversation-rating-emoji-"+t]=!0,e))},a.render=function(){return C.a.createElement("span",{className:this.getClassName()})},n}(o.Component);me.propTypes={ratingIndex:a.a.number.isRequired};var he={1:{emoji:"😠",unicode:"1f620",tooltipKey:"terrible"},2:{emoji:"🙁",unicode:"1f615",tooltipKey:"bad"},3:{emoji:"😐",unicode:"1f610",tooltipKey:"ok_description"},4:{emoji:"😃",unicode:"1f603",tooltipKey:"great"},5:{emoji:"🤩",unicode:"1f929",tooltipKey:"amazing"}},fe=function(s){var e,t;function r(){for(var n,e,t,r,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=s.call.apply(s,[this].concat(o))||this,e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),r=function(e){e.preventDefault();var t=n.props,r=t.ratingIndex;(0,t.onRatingChosen)(r)},(t="handleClick")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,n}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNameForContainer=function(){var e=this.props,t=e.chosen,r=e.otherChosen,n="";return t?n="chosen":r&&(n="other-chosen"),"intercom-conversation-rating-emoji-container "+n},n.getTooltip=function(){var e=this.props.ratingIndex;return Object(O.c)(he[e].tooltipKey)},n.renderEmojiImage=function(){var e,t=this,r=this.props.ratingIndex,n=c()(((e={"intercom-anchor":!0,"intercom-conversation-rating-emoji":!0})["intercom-conversation-rating-emoji-"+r]=!0,e));return C.a.createElement("span",{className:n,onClick:t.handleClick,"aria-label":this.getTooltip(),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"})},n.render=function(){var e=this.getTooltip();return C.a.createElement("div",{className:"intercom-conversation-rating-emoji-wrapper"},C.a.createElement("div",{className:this.getClassNameForContainer()},this.renderEmojiImage(),C.a.createElement("div",{className:"intercom-conversation-rating-emoji-tooltip"},e)))},r}(o.Component);fe.propTypes={ratingIndex:a.a.number.isRequired,chosen:a.a.bool,otherChosen:a.a.bool,onRatingChosen:a.a.func.isRequired};var ve=function(s){var e,t;function r(){for(var e,t,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=s.call.apply(s,[this].concat(o))||this,t=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),n=function(){e.scrollConversationParts()},(r="handleRemarkChange")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(e){this.hasChosenFirstRating(e)&&this.scrollConversationParts()},n.hasChosenFirstRating=function(e){var t=e.chosenRating,r=this.props.chosenRating;return void 0===t&&void 0!==r},n.scrollConversationParts=function(){if(void 0===this.props.nextPart){var e=w.a.findDOMNode(this).closest(".intercom-conversation-body-parts");e&&Object(V.y)(e)}},n.hasRating=function(){return 0<this.props.chosenRating},n.shouldShowThanks=function(){var e=this.props.submitted;return this.hasRemark()||e},n.hasRemark=function(){var e=this.props.remark;return void 0!==e&&""!==e},n.isChosen=function(e){return this.props.chosenRating===e},n.isOtherChosen=function(e){return this.hasRating()&&!this.isChosen(e)},n.getClassName=function(){var e=this.props.nextPart,t=!!e,r=t&&e.author.isAdmin;return c()({"intercom-conversation-rating":!0,"intercom-conversation-rating-next-part-by-admin":t&&r,"intercom-conversation-rating-last-part":!t})},n.renderThanksMessage=function(){return C.a.createElement("div",{className:"intercom-conversation-rating-thanks-wrapper",key:"conversation-rating-thanks"},C.a.createElement("div",{className:"intercom-conversation-rating-thanks-container"},C.a.createElement("div",{className:"intercom-conversation-rating-chosen-rating"},Object(O.c)("you_rated_the_conversation")," ",C.a.createElement(me,{ratingIndex:this.props.chosenRating})),C.a.createElement("div",{className:"intercom-conversation-rating-thanks"},Object(O.c)("thanks_for_letting_us_know"))),this.hasRemark()?this.renderRemark():null)},n.renderRemark=function(){return C.a.createElement("div",{className:"intercom-conversation-rating-thanks-remark"},this.props.remark)},n.renderRatingForm=function(){return C.a.createElement("div",{key:"conversation-rating-form"},this.renderRatingOptions(),C.a.createElement(E.TransitionGroup,null,this.hasRating()?this.renderRemarkInput():null))},n.renderRatingOptions=function(){for(var e=[],t=1;t<=5;t++)e.push(C.a.createElement(fe,{key:t,ratingIndex:t,chosen:this.isChosen(t),otherChosen:this.isOtherChosen(t),onRatingChosen:this.props.onRatingChosen}));return C.a.createElement("div",{className:"intercom-conversation-rating-options-container"},C.a.createElement("div",{className:"intercom-conversation-rating-title-container"},C.a.createElement("div",{className:"intercom-conversation-rating-title"},Object(O.c)("rate_your_conversation"))),C.a.createElement("div",{className:"intercom-conversation-rating-emojis-container"},e))},n.renderRemarkInput=function(){return C.a.createElement(E.CSSTransition,{classNames:"intercom-conversation-rating-remark-container",timeout:{enter:500,exit:500}},C.a.createElement(pe,{placeholder:Object(O.c)("tell_us_more"),onChange:this.handleRemarkChange,onSubmit:this.props.onRemarkSubmit}))},n.render=function(){return C.a.createElement("div",{className:this.getClassName()},C.a.createElement(le.a,{transitionName:"intercom-conversation-rating",transitionEnterTimeout:500,transitionLeaveTimeout:500},this.shouldShowThanks()?this.renderThanksMessage():this.renderRatingForm()))},r}(o.Component);function be(n,a,o){return function(e,t){e(ge(a,o));var r=t().session;return n.changeConversationRatingIndex(r,a,o)}}function ge(e,t){return{type:"CHANGE_CONVERSATION_RATING_INDEX",conversationId:e,ratingIndex:t}}function ye(n,a,o){return function(e,t){if(e(Ce(a,o)),void 0===o||""===o)return Promise.resolve();var r=t().session;return n.addConversationRatingRemark(r,a,o)}}function Ce(e,t){return{type:"ADD_CONVERSATION_RATING_REMARK",conversationId:e,remark:t}}ve.propTypes={chosenRating:a.a.number,remark:a.a.string,submitted:a.a.bool,nextPart:a.a.object,part:a.a.object,onRemarkSubmit:a.a.func.isRequired,onRatingChosen:a.a.func.isRequired};var Ee=Object(s.b)(function(e){return{conversationId:e.app.conversationId}},function(r){return{onRemarkSubmit:function(e,t){r(ye(I.a,e,t))},onRatingChosen:function(e,t){r(be(I.a,e,t))}}},function(e,t,r){var n=e.conversationId,a=r.part.conversationRating,o={onRemarkSubmit:function(e){return t.onRemarkSubmit(n,e)},onRatingChosen:function(e){return t.onRatingChosen(n,e)},chosenRating:a.chosenRating,remark:a.remark,submitted:a.submitted};return Object.assign({},r,e,t,o)})(ve);var we=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassName=function(){return c()({"intercom-conversation-rating-card":!0,"intercom-conversation-rating-card-borderless":this.props.isBorderless})},a.getAvatarClassName=function(){var e=this.props.isBorderless;return c()({"intercom-conversation-rating-card-admin-avatar":!e,"intercom-borderless-card-avatar":e})},a.renderAdminAvatar=function(){return C.a.createElement("div",{className:this.getAvatarClassName()},C.a.createElement(S.a,{author:this.props.part.author}))},a.render=function(){return C.a.createElement("div",{className:this.getClassName()},this.props.hasAvatar?this.renderAdminAvatar():null,C.a.createElement(Ee,{nextPart:this.props.nextPart,part:this.props.part}))},n}(o.Component);we.defaultProps={hasAvatar:!0,isBorderless:!1},we.propTypes={part:a.a.object.isRequired,nextPart:a.a.object,hasAvatar:a.a.bool,isBorderless:a.a.bool};var ke=function(s){var e,t;function r(){for(var e,t,r,n,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=s.call.apply(s,[this].concat(o))||this,t=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),n=function(){return c()({"intercom-pointer-body":!0})},(r="getBodyClassName")in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}t=s,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){return c()({"intercom-pointer":!0,"intercom-pointer-inbox":!0,"intercom-pointer-body-full-width":!0})},n.render=function(){var e=this.props,t=e.part,r=e.appName,n=e.frameWindow,a=t.author,o=t.body;return C.a.createElement("div",{className:this.getClassNames()},C.a.createElement(u.a,{appName:r,isReplyStyle:!1,author:a},C.a.createElement("div",{className:this.getBodyClassName()},C.a.createElement(d.a,{blocks:o,frameWindow:n}),C.a.createElement("div",{className:"intercom-positioner-arrow"}))))},r}(o.Component);ke.propTypes={part:a.a.shape({id:a.a.string,author:a.a.object.isRequired,body:a.a.array.isRequired}).isRequired,appName:a.a.string,frameWindow:a.a.object};var _e=r(897),Se=r(859),je=r(870);function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pe=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ne(Oe(t=a.call.apply(a,[this].concat(r))||this),"handleEmailChannelClick",function(e){e.preventDefault(),t.props.onChannelChange("email")}),Ne(Oe(t),"handlePhoneNumberChannelClick",function(e){e.preventDefault(),t.props.onChannelChange("phone")}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.isEmailSaved,r=e.isPhoneNumberSaved,n=t||r;return c()({"intercom-notification-channel-collector-card-controls":!0,"intercom-notification-channel-collector-card-controls-saved":n})},n.getChannelClassName=function(e){var t=e===this.props.channel;return c()({"intercom-anchor":!0,"intercom-notification-channel-collector-card-controls-channel":!0,"intercom-notification-channel-collector-card-controls-channel-selected":t})},n.renderChannels=function(){var t=this;return C.a.createElement("div",{className:"intercom-notification-channel-collector-card-controls-channels"},C.a.createElement("span",{className:this.getChannelClassName("email"),onClick:t.handleEmailChannelClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleEmailChannelClick(e)},role:"button",tabIndex:"0"},Object(O.c)("email")),C.a.createElement("span",{className:this.getChannelClassName("phone"),onClick:t.handlePhoneNumberChannelClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handlePhoneNumberChannelClick(e)},role:"button",tabIndex:"0"},Object(O.c)("sms")))},n.renderPrompt=function(){return C.a.createElement("div",{className:"intercom-notification-channel-collector-card-controls-prompt"},this.props.isPhoneNumberEnabled?Object(O.c)("get_notified"):Object(O.c)("get_notified_by_email"))},n.renderMessage=function(){return C.a.createElement("div",{className:"intercom-notification-channel-collector-card-controls-message"},this.props.isEmailSaved?Object(O.c)("youll_be_notified_here_and_by_email"):Object(O.c)("youll_be_notified_here_and_by_sms"))},n.render=function(){return C.a.createElement("div",{className:this.getClassName()},this.renderMessage(),this.renderPrompt(),this.props.isPhoneNumberEnabled?this.renderChannels():null)},r}(o.PureComponent),Te=r(881),Ae=r(898);function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Re=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ie(xe(t=a.call.apply(a,[this].concat(r))||this),"state",{channel:"saved"===t.props.phoneNumberSaveState?"phone":"email",prevProps:t.props}),Ie(xe(t),"handleChannelChange",function(e){t.setState({channel:e})}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){var e=this.props,r=e.part,n=e.conversationId,a=this.context.addMetric,o=r.form;o&&o.attributes.forEach(function(e){var t=e.identifier;a("received","operator_reply","messenger","in_conversation",{type:"automated_lead_qualification",conversation_id:n,part_id:r.id,attribute_identifier:t,attribute_type:t,form_type:o.type,attribute_is_custom_data:!1})})},r.getDerivedStateFromProps=function(e,t){return!t||W()(e,t.prevProps)?null:("saved"===e.emailSaveState?r="email":"saved"===e.phoneNumberSaveState&&(r="phone"),r?{channel:r,prevProps:e}:{prevProps:e});var r},n.getClassName=function(){var e=this.props,t=e.emailSaveState,r=e.phoneNumberSaveState,n=e.isBorderless,a="saved"===t||"saved"===r;return c()({"intercom-notification-channel-collector-card":!0,"intercom-notification-channel-collector-card-saved":a,"intercom-notification-channel-collector-card-borderless":n})},n.renderAvatar=function(){return C.a.createElement("div",{className:"intercom-notification-channel-collector-card-avatar"},C.a.createElement(S.a,{author:this.props.part.author}))},n.renderControls=function(){var e=this.props,t=e.emailSaveState,r=e.phoneNumberSaveState,n=e.isPhoneNumberEnabled,a="saved"===t,o="saved"===r;return C.a.createElement(Pe,{channel:this.state.channel,isEmailSaved:a,isPhoneNumberSaved:o,isPhoneNumberEnabled:n,onChannelChange:this.handleChannelChange})},n.renderAttribute=function(){var e=this.props,t=e.email,r=e.phoneNumber,n=e.emailSaveState,a=e.phoneNumberSaveState,o=e.defaultCountryCode,i=e.onEmailSubmit,s=e.onPhoneNumberSubmit;return"email"===this.state.channel?C.a.createElement(Te.a,{value:t,saveState:n,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:i}):C.a.createElement(Ae.a,{value:r,key:r,saveState:a,defaultCountryCode:o,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:s})},n.render=function(){return C.a.createElement("div",{className:this.getClassName()},this.props.hasAvatar?this.renderAvatar():null,C.a.createElement("div",{className:"intercom-notification-channel-collector-card-body"},this.renderControls(),this.renderAttribute()))},r}(o.PureComponent);Re.contextTypes={addMetric:a.a.func};var Me=r(73),Be=function(e,t){return e.attributes.find(function(e){return e.identifier===t})},De=Object(s.b)(function(e,t){var r,n,a=t.part,o=a.id,i=a.form,s=e.user.countryCode||"us",c=e.app.conversationId,l=Be(i,"email"),u=Be(i,"phone"),d=void 0!==u,p=l.value,m=l.saveState;return d&&(r=u.value,n=u.saveState),{conversationId:c,partId:o,email:p,phoneNumber:r,emailSaveState:m,phoneNumberSaveState:n,isPhoneNumberEnabled:d,defaultCountryCode:s}},function(i){return{onAttributeSubmit:function(e,t,r,n,a){var o=r;i(Object(Me.q)(I.a,e,t,r,n,o,a,!1))}}},function(t,r,n){return Object.assign({},t,r,n,{onEmailSubmit:function(e){r.onAttributeSubmit(t.conversationId,t.partId,"email",e,n.part.form.type)},onPhoneNumberSubmit:function(e){r.onAttributeSubmit(t.conversationId,t.partId,"phone",e,n.part.form.type)}})})(Re);var Le=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.shouldRenderNotificationChannelCollector=function(){var e=this.props.part.form;return!!e&&"notification_channel"===e.type},a.render=function(){var e=this.props,t=e.part,r=e.hasAvatar,n=e.isBorderless,a=e.frameWindow;return C.a.createElement("div",{className:"intercom-attribute-collector"},this.shouldRenderNotificationChannelCollector()?C.a.createElement(De,{part:t,hasAvatar:r,isBorderless:n}):C.a.createElement(je.a,{part:t,hasAvatar:r,isBorderless:n,frameWindow:a,key:JSON.stringify(t)}))},n}(o.PureComponent);function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var He=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ue(Fe(r=a.call.apply(a,[this].concat(t))||this),"state",{tooltipVisible:!1}),Ue(Fe(r),"handleMouseMove",function(e){var t=w.a.findDOMNode(Fe(r)).getBoundingClientRect();r.setState({lastMouseMovedAt:Date.now(),tooltipVisible:!1,tooltipTop:Math.round(e.clientY-t.top+10),tooltipLeft:Math.round(e.clientX-t.left-20)})}),Ue(Fe(r),"handleMouseEnter",function(){r.interval=setInterval(function(){var e=Date.now()-r.state.lastMouseMovedAt;r.setState({tooltipVisible:500<e})},100)}),Ue(Fe(r),"handleMouseLeave",function(){r.setState({tooltipVisible:!1}),clearInterval(r.interval)}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillUnmount=function(){clearInterval(this.interval)},n.renderAvatar=function(){return C.a.createElement("div",{className:"intercom-participant-event-avatar"},C.a.createElement(S.a,{author:this.props.part.eventData.participant}))},n.renderText=function(){return C.a.createElement("div",{className:"intercom-participant-event-text-container"},C.a.createElement("span",{className:"intercom-participant-event-text"},this.partTypeText()))},n.partTypeText=function(){return this.props.part.eventData.eventAsPlainText},n.renderTooltip=function(){var e=this.state,t=e.tooltipVisible,r=e.tooltipTop,n=e.tooltipLeft,a=this.props.part.createdAt;return t?C.a.createElement("div",{className:"intercom-comment-tooltip",style:{left:n,top:r}},Object(N.a)(a)):null},n.renderAccessibleTooltip=function(){var e=this.props.part.createdAt;return C.a.createElement("div",{className:"intercom-comment-accessibility-tooltip"},Object(N.a)(e))},n.render=function(){return C.a.createElement("div",{className:"intercom-participant-event",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove},this.renderAvatar(),this.renderText(),this.renderTooltip(),this.renderAccessibleTooltip())},r}(o.Component);He.propTypes={part:a.a.shape({eventData:a.a.shape({participant:a.a.shape({initial:a.a.string.isRequired,label:a.a.string.isRequired,type:a.a.string.isRequired,avatar:a.a.object.isRequired}).isRequired,eventAsPlainText:a.a.string.isRequired}).isRequired,partType:a.a.string.isRequired,createdAt:a.a.instanceOf(Date)})};var We=r(504),qe=r(491),Ve=r(181);function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ke=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ge(ze(a=n.call.apply(n,[this].concat(t))||this),"handleClick",function(e){if(a.handleLinkClick(e),a.isFailedPart()){var t=a.props,r=t.part;(0,t.onRetry)(r)}}),Ge(ze(a),"addLinkClickedMetric",function(e,t,r){var n;a.context.addMetric("clicked","link","messenger","in_conversation",((n={conversation_id:e})[t.isMessage?"message_id":"comment_id"]=t.id,n.url=r,n.partType=t.messageType,n))}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.handleLinkClick=function(e){var t=e.target;if("a"===t.tagName.toLowerCase()){var r=t.getAttribute("href"),n=this.props,a=n.conversationId,o=n.part;r&&this.addLinkClickedMetric(a,o,r)}},a.isFailedPart=function(){return"failed"===this.props.part.saveState},a.isRichContentType=function(){var e=this.props.part;return!!e.body&&Object(We.f)(e.body)},a.shouldShowMetadata=function(){var e=this.props,t=e.partHasMetadata,r=e.isBorderless;return t&&!r},a.shouldShowInlineMetadata=function(){var e=this.props,t=e.partHasMetadata,r=e.isBorderless;return t&&r&&!this.isRichContentType()},a.getClassNames=function(){var e=this.props.part.author,t=e.isAdmin,r=e.isSelf;return c()({"intercom-conversation-part":!0,"intercom-conversation-part-admin":t,"intercom-conversation-part-user":r,"intercom-conversation-part-other-user":!t&&!r,"intercom-conversation-part-grouped":this.props.grouped,"intercom-conversation-part-last":!this.props.nextPart,"intercom-conversation-part-failed":this.isFailedPart()})},a.renderComment=function(){return Object(qe.a)(this.props.part.partType)?this.renderEvent():this.renderCommentContainer()},a.renderEvent=function(){var e=this.props.part;return this.props.isBorderless?null:"participant_added"===e.partType||"participant_removed"===e.partType?C.a.createElement(He,{part:e}):void 0},a.renderCommentContainer=function(){var e=this.props,t=e.isLastPart,r=e.part,n=e.hasAvatar,a=e.isBorderless,o=e.isMobile,i=e.frameWindow,s=e.onImageClick;return C.a.createElement(_e.a,{isLastPart:t,part:r,hasAvatar:n,isBorderless:a,isMobile:o,frameWindow:i,showInlineMetadata:this.shouldShowInlineMetadata(),onImageClick:s})},a.renderChatCardGroup=function(){var e=this.props,t=e.appName,r=e.part,n=e.hasAvatar,a=e.isBorderless,o=e.isMobile,i=e.frameWindow;return C.a.createElement(g.a,{appName:t,part:r,hasAvatar:n,isBorderless:a,isMobile:o,showInlineMetadata:this.shouldShowInlineMetadata(),frameWindow:i})},a.renderConversationPart=function(){var e=this.props,t=e.appName,r=e.part,n=e.nextPart,a=e.hasAvatar,o=e.reactionsReply,i=e.onArticleCardClick,s=e.conversationId,c=e.onReactionSelect,l=e.isBorderless,u=e.isMobile,d=e.frameWindow;switch(r.messageType){case"post":return C.a.createElement(v,{appName:t,conversationId:s,part:r,reactionsReply:o,onReactionSelect:c,frameWindow:d});case"note":return C.a.createElement(b,{appName:t,part:r,frameWindow:d});case"link":return C.a.createElement(U,{appName:t,part:r,hasAvatar:a,isBorderless:l,onArticleCardClick:i});case"notificationChannels":return C.a.createElement(se,{part:r,nextPart:n,hasAvatar:a,isBorderless:l});case"conversationRating":return u?this.renderComment():C.a.createElement(we,{part:r,nextPart:n,hasAvatar:a,isBorderless:l});case"attributeCollector":return C.a.createElement(Le,{part:r,hasAvatar:a,isBorderless:l,frameWindow:d});case"video":case"chat":case"adminReply":return l?this.renderChatCardGroup():this.renderComment();case"pointer":return C.a.createElement(ke,{appName:t,part:r,frameWindow:d});default:return this.renderComment()}},a.renderMetadata=function(){return C.a.createElement(E.TransitionGroup,null,this.shouldShowMetadata()?C.a.createElement(E.CSSTransition,{classNames:"intercom-conversation-part-metadata",timeout:300},C.a.createElement(Se.a,{part:this.props.part})):null)},a.renderReplyType=function(){var e=this.props,t=e.part,r=e.isBorderless,n=e.frameWindow;switch(t.replyType){case"attribute_collector":return C.a.createElement(je.a,{part:t,hasAvatar:!1,isBorderless:r,isReplyType:!0,frameWindow:n,key:Object(Ve.a)(JSON.stringify(t))})}},a.render=function(){var t=this,r=this.props.setPartRef;return C.a.createElement("div",{className:this.getClassNames(),onClick:t.handleClick,"aria-label":this.isFailedPart()?Object(O.c)("failed_message"):void 0,role:this.isFailedPart()?"button":"listitem",tabIndex:this.isFailedPart()?"0":"-1",ref:function(e){return r&&r(e,t.props.part)},onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)}},this.renderConversationPart(),this.renderReplyType(),this.renderMetadata())},r}(o.PureComponent);Ge(Ke,"defaultProps",{isBorderless:!1,isMobile:!1,conversationId:""}),Ke.contextTypes={addMetric:a.a.func};var Je,Ze,Xe,Ye=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getChildContext=function(){return{onHeightChange:this.props.onHeightChange}},a.render=function(){return this.props.children},n}(o.PureComponent);Je=Ye,Ze="childContextTypes",Xe={onHeightChange:a.a.func},Ze in Je?Object.defineProperty(Je,Ze,{value:Xe,enumerable:!0,configurable:!0,writable:!0}):Je[Ze]=Xe;var $e=r(760);var Qe=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props.admin;return C.a.createElement("div",{className:"intercom-typing-admin"},C.a.createElement("div",{className:"intercom-typing-admin-avatar"},C.a.createElement($e.a,{admin:e})),C.a.createElement("div",{className:"intercom-typing-admin-bubble"},C.a.createElement("div",{className:"intercom-typing-admin-dot-1"}),C.a.createElement("div",{className:"intercom-typing-admin-dot-2"}),C.a.createElement("div",{className:"intercom-typing-admin-dot-3"}),C.a.createElement("div",{className:"intercom-visually-hidden"},Object(O.c)("typing"))))},n}(o.Component);Qe.propTypes={admin:a.a.shape({firstName:a.a.string.isRequired})};var et=r(28),tt=r(887);function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return at});var at=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return nt(rt(t=a.call.apply(a,[this].concat(r))||this),"state",{delta:0}),nt(rt(t),"handleHeightChange",function(){t.parts&&t.setState({height:t.parts.clientHeight},function(){var e=t.props.onHeightChange;e&&e(t.state.height)})}),nt(rt(t),"setParts",function(e){t.parts=e}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.handleHeightChange()},n.componentDidUpdate=function(e){this.handlePartsChange(this.props.conversation.parts.length!==e.conversation.parts.length)},n.componentWillUnmount=function(){this.stopCheckingIfAdminIsTyping()},n.handlePartsChange=function(e){var t=this,r=this.parts.clientHeight,n=this.props,a=n.maxHeight,o=n.isBorderless,i=n.onHeightChange,s=Math.min(r-a,r-this.state.height),c=e&&a<r?s:0;r===this.state.height&&c===this.state.delta||this.setState({height:r,delta:c},function(){(o||e)&&i&&i(t.state.height)})},n.isScrolling=function(){var e=this.props,t=e.scrolledToBottom,r=e.conversation;return!(Object(tt.h)(r)&&!t)&&0<this.state.delta},n.getClassName=function(){return c()({"intercom-conversation-parts":!0,"intercom-conversation-parts-scrolled":this.conversationHasScrolled(),"intercom-conversation-parts-scrolling":this.isScrolling(),"intercom-conversation-parts-faded":this.props.isFaded})},n.getStyle=function(){var e="translateY("+this.state.delta+"px)";return{WebkitTransform:e,msTransform:e,transform:e}},n.getPartKey=function(e){return e.isMessage?"message":"part-"+Object(tt.c)(e)},n.getDividerKey=function(e){return"divider-"+Object(tt.c)(e)},n.conversationHasScrolled=function(){return this.state.height>=this.props.maxHeight},n.renderDateDivider=function(e){return C.a.createElement(E.CSSTransition,{classNames:"dummy",key:this.getDividerKey(e),timeout:{enter:0,exit:0}},C.a.createElement("div",{key:this.getDividerKey(e),className:"intercom-conversation-parts-date-divider"},Object(tt.b)(e.sentAt||e.createdAt)))},n.renderPart=function(e,t,r,n){var a=this.props,o=a.appName,i=a.conversation,s=a.isBorderless,c=a.isMobile,l=a.onReactionSelect,u=a.onRetry,d=a.onArticleCardClick,p=a.onImageClick,m=a.frameWindow,h=a.setPartRef,f=i.lastTypingAdmin,v=Object(tt.e)(e,t),b=Object(tt.h)(i),g=Object(tt.f)(e,t,s,b,f),y=Object(et.a)(n).reactionsReply;return C.a.createElement(E.CSSTransition,{classNames:"intercom-conversation-part",key:r,timeout:{enter:3200,exit:600}},C.a.createElement(Ye,{key:this.getPartKey(e),onHeightChange:this.handleHeightChange},C.a.createElement(Ke,{part:e,setPartRef:h,nextPart:t,appName:o,conversationId:i.id,reactionsReply:y,onReactionSelect:l,onRetry:u,adminIsTyping:b,hasAvatar:g,grouped:v,isLastPart:void 0===t,partHasMetadata:Object(tt.g)(e,n,b),isBorderless:s,isMobile:c,frameWindow:m,onArticleCardClick:d,onImageClick:p})))},n.renderParts=function(){var a=this,e=this.props,t=e.conversation,o=e.isBorderless,i=t.parts.filter(function(e){return void 0!==e&&!Object(tt.d)(e)}),s=[];return 0<i.length&&!o&&Object(tt.j)(i)&&s.push(this.renderDateDivider(i[0])),i.forEach(function(e,t){var r=i[t-1],n=i[t+1];!o&&Object(tt.i)(r,e)&&s.push(a.renderDateDivider(e)),s.push(a.renderPart(e,n,t,i))}),s},n.checkIfAdminIsStillTyping=function(){var e=this;this.isTypingInterval||(this.isTypingInterval=setInterval(function(){return e.forceUpdate()},1e3))},n.stopCheckingIfAdminIsTyping=function(){clearInterval(this.isTypingInterval),this.isTypingInterval=void 0},n.renderTypingAdmin=function(){var e=this.props.conversation.lastTypingAdmin;return C.a.createElement(E.CSSTransition,{classNames:"intercom-conversation-part",key:"typing-admin",timeout:{enter:3200,exit:600},exit:this.enableTypingLeaveAnimation()},C.a.createElement(Qe,{admin:e}))},n.shouldRenderTypingAdmin=function(){return Object(tt.h)(this.props.conversation)?(this.checkIfAdminIsStillTyping(),!0):(this.stopCheckingIfAdminIsTyping(),!1)},n.enableTypingLeaveAnimation=function(){var e=this.props.conversation,t=e.parts,r=e.lastTypingAdmin;return!r||!Object(tt.a)(r,t)},n.render=function(){var e=this.shouldRenderTypingAdmin();return C.a.createElement("div",{className:"intercom-conversation-parts-wrapper",role:"list"},C.a.createElement("div",{ref:this.setParts,className:this.getClassName(),style:this.getStyle()},C.a.createElement(E.TransitionGroup,null,this.renderParts()),C.a.createElement(E.TransitionGroup,null,e?this.renderTypingAdmin():null)))},r}(o.Component);at.defaultProps={isBorderless:!1,isMobile:!1},at.propTypes={conversation:a.a.shape({id:a.a.string,lastTypingAdmin:a.a.object,intercomLinkSolution:a.a.string,parts:a.a.arrayOf(a.a.shape({createdAt:a.a.instanceOf(Date)}))}).isRequired,appName:a.a.string.isRequired,isBorderless:a.a.bool,isFaded:a.a.bool,isMobile:a.a.bool,maxHeight:a.a.number,scrolledToBottom:a.a.bool,frameWindow:a.a.any.isRequired,onReactionSelect:a.a.func.isRequired,onRetry:a.a.func.isRequired,onArticleCardClick:a.a.func,onHeightChange:a.a.func,onImageClick:a.a.func,setPartRef:a.a.func}},894:function(e,t,r){"use strict";var n=r(23),a=r(732),o=r.n(a),i=r(171),s=r.n(i),c=r(2),l=r.n(c),u=r(0),p=r.n(u),d=r(11),m=r.n(d),h=r(43),f=r(13);function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b(v(r=a.call.apply(a,[this].concat(t))||this),"addedEscListener",!1),b(v(r),"handleEsc",function(e){var t=r.props.onEscapeKey;Object(f.o)(e)&&t()}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(){var e=this.props,t=e.frameWindow,r=e.onEscapeKey,n=e.children;if(t&&r)if(n){if(this.addedEscListener)return;Object(f.c)(t,"keydown",this.handleEsc),this.addedEscListener=!0}else Object(f.x)(t,"keydown",this.handleEsc),this.addedEscListener=!1},n.render=function(){return p.a.createElement(h.TransitionGroup,null,this.props.children?p.a.createElement(h.CSSTransition,{classNames:"intercom-composer-popover",timeout:{enter:200,exit:200}},p.a.createElement("div",{className:"intercom-composer-popover "+this.props.className},this.props.children,p.a.createElement("div",{className:"intercom-composer-popover-caret"}))):null)},r}(u.Component),y=r(183),C=r.n(y),E=r(496),w=r.n(E);function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(k(r=a.call.apply(a,[this].concat(t))||this),"handleEmojiClick",function(e){var t=w.a.unicodeFromIdentifier(e.target.title);r.props.onEmojiClick(r.props.emoji,t)}),_(k(r),"handleOverlayClick",function(){r.props.onClose()}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.renderEmoji=function(e,t){var r=this;return p.a.createElement("span",{key:t},p.a.createElement("span",{className:"emoji-skintone-picker-emoji",title:w.a.identifierFromUnicode(e),onClick:r.handleEmojiClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r.handleEmojiClick(e)},role:"button",tabIndex:"0"},e),0===t?p.a.createElement("span",{className:"emoji-skintone-picker-divider"}):null)},n.caretHorizontalPositionStyle=function(){return{left:this.props.emojiXOffset-7}},n.verticlePositionStyle=function(){return{top:this.props.emojiYOffset-17}},n.render=function(){var r=this,e=w.a.getAllModifiedForBaseEmoji(this.props.emoji);return e.length<=1?null:p.a.createElement("div",{className:"emoji-skintone-picker-overlay",onClick:r.handleOverlayClick,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r.handleOverlayClick(e)},role:"button",tabIndex:"0"},p.a.createElement("div",{className:"emoji-skintone-picker-popover",style:this.verticlePositionStyle()},e.map(function(e,t){return r.renderEmoji(e,t)}),p.a.createElement("div",null,p.a.createElement("div",{className:"emoji-skintone-picker-outer-caret",style:this.caretHorizontalPositionStyle()}),p.a.createElement("div",{className:"emoji-skintone-picker-caret",style:this.caretHorizontalPositionStyle()}))))},r}(u.Component);function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N=function(a){var e,t;function r(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return O(j(e=a.call.apply(a,[this].concat(r))||this),"state",{isHovering:!1}),O(j(e),"handleEmojiMouseEnter",function(){e.setState({isHovering:!0})}),O(j(e),"handleEmojiMouseLeave",function(){e.setState({isHovering:!1})}),e}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){var e=this.state.isHovering||this.props.isActive;return m()({"intercom-emoji-picker-emoji":!0,"intercom-emoji-picker-emoji-active":e})},n.render=function(){var e=this.props,t=e.emoji,r=e.index,n=e.title,a=e.onEmojiMouseUp,o=e.onEmojiMouseDown,i=n.replace(/(_|-)/gi," ");return p.a.createElement("span",{key:r,className:this.getClassNames(),title:n,"aria-label":i,role:"button",tabIndex:"0",onMouseUp:a,onMouseDown:o,onMouseEnter:this.handleEmojiMouseEnter,onMouseLeave:this.handleEmojiMouseLeave,onKeyDown:Object(f.u)(a)},t)},r}(u.Component),P=r(858),T=r(14),A=r(15),x=r(868),I=r(187);var R=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r,n.prototype.render=function(){var e=this.props,t=e.count,r=e.query;return p.a.createElement("span",{"aria-live":"assertive"},r?p.a.createElement("div",{className:"intercom-visually-hidden",role:"alert"},t?p.a.createElement("span",null,t," ",Object(A.c)("article_search_search_results_for_query",{query:r})):Object(A.c)("article_search_no_results_for_query",{query:r})):null)},n}(u.Component),M=r(58);function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L="intercom.recentEmoji",F="1.0",U=[{baseEmoji:"👍",skintoneEmoji:"👍"},{baseEmoji:"👎",skintoneEmoji:"👎"},{baseEmoji:"😭",skintoneEmoji:"😭"},{baseEmoji:"😕",skintoneEmoji:"😕"},{baseEmoji:"😐",skintoneEmoji:"😐"},{baseEmoji:"😊",skintoneEmoji:"😊"},{baseEmoji:"😍",skintoneEmoji:"😍"}],H=8;function W(){var e=JSON.parse(I.a.get(L))||{};return e.version&&e.version===F?e.emoji||[]:(I.a.remove(L),C()(U))}function q(t){var e=JSON.parse(I.a.get(L));if(!e||!e.emoji)return t;var r=t;return e.emoji.forEach(function(e){e.baseEmoji!==t||(r=e.skintoneEmoji)}),r}var V=function(i){var e,t;function r(){for(var n,e,t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return D(B(n=i.call.apply(i,[this].concat(a))||this),"state",{searchValue:"",hasNativeEmojiSupport:Object(P.c)(),hasLocalStorageSupport:T.a.hasLocalStorageSupport(),skintoneEmojiToShow:null,emojiXOffset:0,emojiYOffset:0}),D(B(n),"emojiMap",(e=w.a.allEmoticonsIdentifierList,t=w.a.unicodeFromIdentifier,e.map(function(e){return{title:e,emoji:t(e)}}))),D(B(n),"handleEmojiMouseDown",function(e){var t=e.target.offsetLeft,r=e.target.offsetTop-Object(x.a)(window,e.target).scrollTop;n.setState({emojiXOffset:t,emojiYOffset:r}),n.emojiLongPressTimeout&&clearTimeout(n.emojiLongPressTimeout),n.emojiLongPressTimeout=setTimeout(function(e){n.setState({skintoneEmojiToShow:e})},500,w.a.unicodeFromIdentifier(e.target.title))}),D(B(n),"handleEmojiMouseUp",function(e){if(n.emojiLongPressTimeout&&clearTimeout(n.emojiLongPressTimeout),!n.state.skintoneEmojiToShow){var t=w.a.unicodeFromIdentifier(e.target.title);n.handleEmojiClick(t)}n.setState({skintoneEmojiToShow:null}),e.preventDefault()}),D(B(n),"handleImageClick",function(e){var t=e.target.title;n.props.onEmojiClick(t)}),D(B(n),"handleSearchChange",function(e){var t=e.target.value;n.setState({searchValue:t})}),D(B(n),"handleClick",function(e){e.stopPropagation()}),D(B(n),"handleEmojiClick",function(e,t){if(void 0!==e){var r=e;n.state.hasLocalStorageSupport&&(r=t||q(e),t&&function(t,r){var e=JSON.parse(I.a.get(L));if(e&&e.emoji){var n=!1,a=e.emoji;a.forEach(function(e){if(e.baseEmoji===t)return e.skintoneEmoji=r,void(n=!0)}),n||(a=C()(a).concat({baseEmoji:t,skintoneEmoji:r})),I.a.set(L,JSON.stringify({version:F,emoji:a}))}}(e,t),function(t,e){void 0===e&&(e=t);var r=U.find(function(e){return e.baseEmoji===t}),n=W(),a=n.find(function(e){return e.baseEmoji===t}),o=n.indexOf(a);a&&n.splice(o,1),n.unshift({baseEmoji:t,skintoneEmoji:e}),n.length<H&&!r&&(n=n.concat(U)),I.a.set(L,JSON.stringify({version:F,emoji:n}))}(e,r)),n.props.onEmojiClick(r)}}),D(B(n),"handleSkinTonePickerClose",function(){n.setState({skintoneEmojiToShow:null})}),n}t=i,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.hasSearchText=function(){return""!==this.state.searchValue},n.filteredSearchEmoji=function(t){return this.emojiMap.filter(function(e){return-1<e.title.indexOf(t)}).map(function(e){return e.emoji})},n.renderEmoji=function(e,t,r){if(void 0===r&&(r=e),!w.a.isSupportedUnicode(e))return null;var n=w.a.identifierFromUnicode(r),a=this.state.skintoneEmojiToShow===r,o=this.state.hasLocalStorageSupport?q(e):e;return p.a.createElement(N,{key:t,emoji:o,title:n,onEmojiMouseUp:this.handleEmojiMouseUp,onEmojiMouseDown:this.handleEmojiMouseDown,isActive:a})},n.renderImage=function(e,t){var r=this;return p.a.createElement("span",{key:t,className:"intercom-emoji-picker-image",title:w.a.asciiFromUnicode(e),style:w.a.spritemapStyleHash(16,e),onClick:r.handleImageClick,"aria-label":Object(P.b)(e),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r.handleImageClick(e)},role:"button",tabIndex:"0"})},n.renderGroup=function(e,t){var r=this;return p.a.createElement("div",{className:"intercom-emoji-picker-group",key:t},p.a.createElement("h3",{className:"intercom-emoji-picker-group-title"},Object(A.c)(w.a.getGroupRepresentatives()[t][1].toLowerCase())),e.map(function(e,t){if(w.a.isEmojiBaseUnicode(e))return r.renderEmoji(e,t)}))},n.renderMostRecent=function(){var r=this,e=W().slice(0,H);return p.a.createElement("div",{className:"intercom-emoji-picker-group"},p.a.createElement("h3",{className:"intercom-emoji-picker-group-title"},Object(A.c)("frequently_used")),e.map(function(e,t){return r.renderEmoji(e.skintoneEmoji,t,e.baseEmoji)}))},n.renderFiltered=function(){var r=this,e=this.filteredSearchEmoji(this.state.searchValue);return p.a.createElement("div",{className:"intercom-emoji-picker-group"},0===e.length?p.a.createElement("div",{className:"intercom-composer-popover-message"},Object(A.c)("no_emoji_found")):e.map(function(e,t){if(w.a.isEmojiBaseUnicode(e))return r.renderEmoji(e,t)}))},n.renderGroups=function(){var r=this,e=w.a.prettyEmoticonsUnicodeGroups();return p.a.createElement("div",{className:"intercom-emoji-picker-groups"},this.state.hasLocalStorageSupport?this.renderMostRecent():null,e.map(function(e,t){return r.renderGroup(e,t)}))},n.renderEmojiPicker=function(){return p.a.createElement("div",null,p.a.createElement("div",{className:"intercom-composer-popover-header"},p.a.createElement("input",{name:"emoji",className:"intercom-composer-popover-input",autoFocus:!0,placeholder:Object(A.c)("search_for_emoji"),value:this.state.searchValue,onChange:this.handleSearchChange,onBlur:M.d,"aria-label":Object(A.c)("search_for_emoji")})),p.a.createElement(R,{query:this.state.searchValue,count:this.filteredSearchEmoji(this.state.searchValue).filter(w.a.isEmojiBaseUnicode).length}),p.a.createElement("div",{className:"intercom-composer-popover-body-container","aria-live":"polite"},p.a.createElement("div",{className:"intercom-composer-popover-body",onWheel:f.d},this.hasSearchText()?this.renderFiltered():this.renderGroups())))},n.renderSkinTonePicker=function(){return p.a.createElement(S,{emoji:this.state.skintoneEmojiToShow,emojiYOffset:this.state.emojiYOffset,emojiXOffset:this.state.emojiXOffset,onClose:this.handleSkinTonePickerClose,onEmojiClick:this.handleEmojiClick})},n.renderWithoutNativeSupport=function(){var r=this,e=w.a.asciiEmoticonsUnicodeList.slice(0,12);return p.a.createElement("div",{className:"intercom-emoji-picker-small",onClick:this.handleClick,tabIndex:"-1"},e.map(function(e,t){return r.renderImage(e,t)}))},n.renderWithNativeSupport=function(){return p.a.createElement("div",{className:"intercom-emoji-picker",onClick:this.handleClick,tabIndex:"-1"},this.state.skintoneEmojiToShow?this.renderSkinTonePicker():null,this.renderEmojiPicker())},n.render=function(){return this.state.hasNativeEmojiSupport?this.renderWithNativeSupport():this.renderWithoutNativeSupport()},r}(u.Component);V.propTypes={onEmojiClick:l.a.func.isRequired};var z=r(16),G=r(860),K=r(86);function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Z(J(t=a.call.apply(a,[this].concat(r))||this),"state",{query:null}),Z(J(t),"handleClick",function(e){e.stopPropagation()}),Z(J(t),"handleSearchInputChange",Object(G.a)(function(e){t.setState({query:e.target.value}),t.props.onSearchGifs(e.target.value)},200)),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidMount=function(){this.props.onSearchGifs()},n.createHandleGifClick=function(t){var r=this;return function(e){r.props.onGifClick(t),e.preventDefault()}},n.renderGif=function(t){var r=this,e=Object(A.c)("send");return p.a.createElement("div",{key:t.url,className:"intercom-gif-picker-gif-container"},p.a.createElement("div",{className:"intercom-gif-picker-gif",style:{background:"url("+t.url+") center center / cover"},onClick:r.createHandleGifClick(t),"aria-label":t.title?e+" "+t.title+" gif":e+" gif",onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&r.createHandleGifClick(t)(e)},role:"button",tabIndex:"0"}))},n.renderFetching=function(){return p.a.createElement(K.a,null)},n.renderResults=function(){var t=this,e=this.props,r=e.fetchingFailed,n=e.gifs;return p.a.createElement("div",{className:"intercom-gif-picker-results"},r?p.a.createElement("div",{className:"intercom-composer-popover-message"},Object(A.c)("gifs_load_error")):null,r||0!==n.length?null:p.a.createElement("div",{className:"intercom-composer-popover-message"},Object(A.c)("no_gifs_found")),n.map(function(e){return t.renderGif(e)}))},n.render=function(){var e=this.props.gifs,t=this.state.query;return p.a.createElement("div",{className:"intercom-gif-picker",onClick:this.handleClick,tabIndex:"-1"},p.a.createElement("div",{className:"intercom-composer-popover-header"},p.a.createElement("input",{name:"gif",className:"intercom-composer-popover-input",autoFocus:!0,placeholder:Object(A.c)("search_gif"),onChange:this.handleSearchInputChange,onBlur:M.d,"aria-label":Object(A.c)("search_gif")}),p.a.createElement(R,{count:e.length,query:t})),p.a.createElement("div",{className:"intercom-composer-popover-body-container","aria-live":"polite"},p.a.createElement("div",{className:"intercom-composer-popover-body",onWheel:f.d},this.props.isFetching?this.renderFetching():this.renderResults())))},r}(u.Component);function Y(n,a){return void 0===a&&(a=""),function(t,e){t($(a));var r=e().session;return n.searchGifs(r,a).then(function(e){t(Q(a,e))}).catch(function(){t({type:"SEARCH_GIFS_FAILURE",searchTerm:a})})}}function $(e){return{type:"SEARCH_GIFS_REQUEST",searchTerm:e}}function Q(e,t){return{type:"SEARCH_GIFS_SUCCESS",gifs:t.results,searchTerm:e}}X.propTypes={isFetching:l.a.bool.isRequired,gifs:l.a.array.isRequired,fetchingFailed:l.a.bool.isRequired,onSearchGifs:l.a.func.isRequired,onGifClick:l.a.func.isRequired};var ee=Object(n.b)(function(e){var t=e.gifs;return{isFetching:t.isFetching,fetchingFailed:t.fetchingFailed,gifs:t.gifs}},function(t){return{onSearchGifs:function(e){void 0===e&&(e=""),t(Y(z.a,e))}}})(X),te=function(){return p.a.createElement("svg",{viewBox:"0 0 16 16"},p.a.createElement("path",{d:"M1.388 15.77c-.977.518-1.572.061-1.329-1.019l1.033-4.585c.123-.543.659-1.034 1.216-1.1l6.195-.72c1.648-.19 1.654-.498 0-.687l-6.195-.708c-.55-.063-1.09-.54-1.212-1.085L.056 1.234C-.187.161.408-.289 1.387.231l12.85 6.829c.978.519.98 1.36 0 1.88l-12.85 6.83z",fillRule:"evenodd"}))},re=r(852),ne=function(){return p.a.createElement("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg"},p.a.createElement("path",{d:"M9 0a9 9 0 1 1 0 18A9 9 0 0 1 9 0zM5 6.999a1 1 0 1 0 2.001 0A1 1 0 0 0 5 7zm5.999 0a1.001 1.001 0 0 0 2.001 0 1 1 0 0 0-2.001 0zm-2.3 6.494c.087.005.174.007.26.007 1.513 0 2.99-.722 4.398-2.149l.35-.356.482-.702-10.326.006.435.62.31.392c.068.083 1.652 2.05 4.092 2.182z",fill:"#ADADAD",fillRule:"evenodd"}))},ae=r(882),oe=function(){return p.a.createElement("svg",{viewBox:"0 0 29 18"},p.a.createElement("path",{d:"M9 0h11a9 9 0 0 1 0 18H9A9 9 0 0 1 9 0zM6.561 9.337c0 2.277 1.683 3.806 3.773 3.806 1.199 0 2.2-.506 2.882-1.265V9.227H9.784v.814h2.519v1.496a2.895 2.895 0 0 1-1.969.792c-1.606 0-2.827-1.254-2.827-2.992 0-1.749 1.221-2.981 2.827-2.981.88 0 1.661.418 2.123 1.012l.726-.451c-.649-.803-1.551-1.375-2.849-1.375-2.09 0-3.773 1.518-3.773 3.795zM14.701 13h.913V5.663h-.913V13zm2.629 0h.913V9.656h3.817v-.814h-3.817V6.477h3.894v-.814H17.33V13z",fillRule:"nonzero"}))},ie=r(850);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ue=function(n){var e,t;function r(){for(var i,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return le(ce(i=n.call.apply(n,[this].concat(t))||this),"emailInput",void 0),le(ce(i),"emailFocusTimeout",null),le(ce(i),"state",{isTextareaFocused:!1}),le(ce(i),"getEmojiButtonClassName",function(){return m()({"intercom-composer-emoji-button":!0,"intercom-composer-emoji-button-active":i.props.showEmojiPicker})}),le(ce(i),"getEmailInputClassName",function(){return m()({"email-error-input":i.props.errorMessage})}),le(ce(i),"getEmojiPickerClassName",function(){return m()({"intercom-upfront-email-composer-emoji-popover":!0})}),le(ce(i),"getComposerClassName",function(){return m()({"intercom-upfront-email-composer":!0,"intercom-small-state-upfront-email-composer":i.props.shouldShowSmallStateUpfrontEmailComposer})}),le(ce(i),"renderSendButton",function(){var e=i.props,t=e.sendButtonDisabled,r=e.onSendMessageClick;return p.a.createElement("button",{className:i.getSendButtonClassName(),onClick:r,disabled:t,tabIndex:"0"},p.a.createElement(te,null))}),le(ce(i),"renderEmojiPickerButton",function(){var e=i.props,t=e.showEmojiPicker,r=e.onEmojiPickerToggle;return i.state.isTextareaFocused?p.a.createElement("button",{className:i.getEmojiButtonClassName(),onClick:r,tabIndex:"0"},t?p.a.createElement(ne,null):p.a.createElement(re.a,null)):null}),le(ce(i),"renderEmojiPicker",function(){var e=i.props,t=e.showEmojiPicker,r=e.onEmojiClick,n=e.onEmojiPickerToggle,a=e.frameWindow;return p.a.createElement(g,{className:"intercom-upfront-email-composer-emoji-popover",frameWindow:a,onEscapeKey:n},t?p.a.createElement(V,{onEmojiClick:r}):null)}),le(ce(i),"renderErrorMessage",function(){var e=i.props.errorMessage;return e?p.a.createElement("span",{className:"intercom-upfront-email-error-message"},e):null}),le(ce(i),"renderEmailInput",function(){var e=i.props,t=e.email,r=e.onEmailChange,n=e.errorMessage?{"aria-invalid":!0}:{};return p.a.createElement("input",se({name:"email",ref:function(e){i.emailInput=e},onChange:r,value:t,type:"text",placeholder:Object(A.c)("leave_your_email"),className:i.getEmailInputClassName(),onFocus:i.handleEmailInputFocus,onBlur:M.d},n))}),le(ce(i),"renderMessageTextArea",function(){var e=i.props,t=e.message,r=e.setTextInput,n=e.onMessageChange,a=e.onCursorReposition,o=e.onWheel;return p.a.createElement("textarea",{name:"message",ref:function(e){return r(e)},value:t,placeholder:Object(A.c)("write_your_message"),onChange:n,onKeyUp:a,onClick:a,onWheel:o,onFocus:i.handleTextareaFocus,onBlur:M.d,tabIndex:"0"})}),le(ce(i),"handleEmailInputFocus",function(){i.setState({isTextareaFocused:!1})}),le(ce(i),"handleTextareaFocus",function(){i.setState({isTextareaFocused:!0})}),i}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentDidMount=function(){this.props.toggleUpfrontEmailCollectorState()},a.componentWillUnmount=function(){this.props.toggleUpfrontEmailCollectorState(),this.emailFocusTimeout&&clearTimeout(this.emailFocusTimeout)},a.componentDidMount=function(){var e=this;this.emailFocusTimeout=setTimeout(function(){e.emailInput&&e.emailInput.focus()},0)},a.getSendButtonClassName=function(){var e=this.context.isPrimaryColorReadable;return m()({"intercom-composer-send-button":!0,"intercom-composer-send-button-disabled":this.props.sendButtonDisabled,"intercom-composer-send-button-not-readable":e&&!e()})},a.render=function(){var e=this.props,t=e.headerHeight,r=e.setComposer;return p.a.createElement("div",{className:this.getComposerClassName(),style:{height:"calc(100vh - "+t+"px)"},ref:function(e){return r(e)}},this.renderEmailInput(),this.renderErrorMessage(),this.renderMessageTextArea(),this.renderEmojiPicker(),p.a.createElement("div",{className:"intercom-upfront-email-actions"},this.renderEmojiPickerButton(),this.renderSendButton()))},r}(u.PureComponent);le(ue,"defaultProps",{email:"",message:"",disabled:!1,showEmojiPicker:!1}),le(ue,"contextTypes",{isPrimaryColorReadable:l.a.func});var de=r(872),pe=r(458),me=r(865),he=r(504);function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be=function(n){var e,t;function r(){for(var d,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ve(fe(d=n.call.apply(n,[this].concat(t))||this),"state",{text:d.props.defaultText||"",email:"",errorMessage:"",prevProps:d.props}),ve(fe(d),"textHasChanged",function(e){return e.text!==d.state.text}),ve(fe(d),"isSubmissionDisabled",function(){var e=d.props.conversation;if(!e)return!1;var t=e.parts,r=e.id;return(!t||0!==t.length)&&!r}),ve(fe(d),"handleTextInputChange",function(e){d.setState({text:e.target.value,cursorPosition:Object(f.j)(d.textInput)},d.handleChange)}),ve(fe(d),"handleKeyDown",function(e){var t=d.props.conversation;if(ge(e)){if(d.isSubmissionDisabled())try{var r=t.parts,n=(r&&r.length&&r[0]).saveState;d.context.addMetric("submitted","message","messenger","in_conversation",{conversation_state:n},"usability_metric")}catch(e){}else d.handleTextSubmit();e.preventDefault()}else d.handleTyping()}),ve(fe(d),"handleTyping",o()(function(){d.props.onTyping()},1e3)),ve(fe(d),"handleGifClick",function(e){var t=e.url,r=e.width,n=e.height,a=e.attribution,o=e.title;d.props.onSubmit(Object(he.b)(t,r,n,a,o)),d.handleGifPickerToggle()}),ve(fe(d),"handleCursorReposition",function(e){var t=Array.from(new Array(4),function(e,t){return t+37});"keyup"===e.type&&t.indexOf(e.keyCode)<0||d.setState({cursorPosition:Object(f.j)(d.textInput)})}),ve(fe(d),"handleUploadButtonClick",function(){d.fileInput.click()}),ve(fe(d),"handleEmojiPickerToggle",function(){var e=d.props,t=e.showEmojiPicker;(0,e.onEmojiPickerToggle)(),t&&d.focus()}),ve(fe(d),"handleEmojiClick",function(e){var t=d.state.text,r=d.state.cursorPosition||t.length,n=r+e.length,a=!d.hasText(),o=Object(f.n)(t,e,r);d.setState({text:o,cursorPosition:n},function(){d.handleEmojiPickerToggle(),a?d.handleTextSubmit():d.handleChange()})}),ve(fe(d),"handleGifPickerToggle",function(){var e=d.props,t=e.showGifPicker;(0,e.onGifPickerToggle)(),t&&d.focus()}),ve(fe(d),"handleFileSubmit",function(e){var t=e;e.target&&(t=e.target.files),t&&0!==t.length&&(d.createBlocksForImageOrAttachment(t[0]),d.clearFileInput())}),ve(fe(d),"createBlocksForImageOrAttachment",function(c){var l=d.props.onSubmit;Object(de.b)(c).then(function(e){if(e){var t=e.width,r=e.height,n=e.src,a=Object(pe.b)(e.src,c.name,c.type);l(Object(he.b)(n,t,r),a)}else{var o=c.name,i=c.type,s=c.size;l(Object(he.a)(o,i,s),c)}})}),ve(fe(d),"handleSubmitButtonClick",function(e){e.preventDefault(),d.handleTextSubmit()}),ve(fe(d),"handleFocus",function(){if(Object(T.e)()){if(d.props.onHeaderCollapse(),Object(T.d)())return;setTimeout(function(){d.composer.scrollIntoView()},200)}}),ve(fe(d),"handleEmailChange",function(e){var t=e.currentTarget.value;d.setState({email:t,errorMessage:""})}),ve(fe(d),"handleSendMessageClick",function(){var e=d.state,t=e.email,r=e.text;d.hasEmailAndMessage()&&(Object(me.a)(t)?(d.setState({text:""},d.handleChange),d.props.onSubmit(Object(he.c)(r),null,null,t)):d.setState({errorMessage:Object(A.c)("that_email_address_doesnt_look_quite_right")}))}),ve(fe(d),"handleUpfrontEmojiClick",function(e){var t=d.state.cursorPosition,r=Object(f.n)(d.state.text,e,t);d.setState({text:r},function(){d.handleEmojiPickerToggle()})}),ve(fe(d),"hasEmailAndMessage",function(){var e=d.state,t=e.email,r=e.text;return 0<t.trim().length&&0<r.trim().length}),ve(fe(d),"setTextInput",function(e){d.textInput=e}),ve(fe(d),"setComposer",function(e){d.composer=e}),ve(fe(d),"renderUpfrontEmailComposer",function(){var e=d.props,t=e.showEmojiPicker,r=e.toggleUpfrontEmailCollectorState,n=e.headerHeight,a=e.conversation,o=e.frameWindow,i=d.state,s=i.text,c=i.email,l=i.errorMessage,u=a&&!!a.id;return p.a.createElement(ue,{onMessageChange:d.handleTextInputChange,onEmailChange:d.handleEmailChange,onCursorReposition:d.handleCursorReposition,onSendMessageClick:d.handleSendMessageClick,onEmojiClick:d.handleUpfrontEmojiClick,onEmojiPickerToggle:d.handleEmojiPickerToggle,onWheel:f.d,toggleUpfrontEmailCollectorState:r,setTextInput:d.setTextInput,setComposer:d.setComposer,showEmojiPicker:t,message:s,email:c,errorMessage:l,sendButtonDisabled:!d.hasEmailAndMessage(),headerHeight:n,frameWindow:o,shouldShowSmallStateUpfrontEmailComposer:u})}),ve(fe(d),"renderTextArea",function(){var e=d.props.placeholder,t=d.state.text;return p.a.createElement("textarea",{name:"message",ref:function(e){return d.textInput=e},value:t,placeholder:e,"aria-label":e,onChange:d.handleTextInputChange,onKeyDown:d.handleKeyDown,onKeyUp:d.handleCursorReposition,onClick:d.handleCursorReposition,onFocus:d.handleFocus,onBlur:M.d,onWheel:f.d,tabIndex:"0"})}),d}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentDidMount=function(){var e=this;this.handleHeightChange(),this.moveCaretToEndOfText(),Object(T.e)()||this.props.isBorderless||this.focus(),this.context.messengerOptions&&this.context.messengerOptions.subscribe("focusComposer",function(){return e.focus()})},r.getDerivedStateFromProps=function(e,t){if(!t||s()(e,t.prevProps))return null;var r,n=t.prevProps.defaultText;return(e.defaultText||(r=e.defaultText,/^\s*$/.test(r)))&&e.defaultText!==n?{text:e.defaultText,prevProps:e}:{prevProps:e}},a.componentDidUpdate=function(e,t){this.textHasChanged(t)&&this.handleHeightChange()},a.handleHeightChange=function(){var e=this.props.onHeightChange;e&&e(this.composer.clientHeight)},a.handleTextSubmit=function(){this.hasText()&&(this.props.onSubmit(Object(he.c)(this.state.text)),this.setState({text:""},this.handleChange))},a.handleChange=function(){this.props.onChange(this.state.text)},a.clearFileInput=function(){this.fileInput&&(this.fileInput.value=null)},a.focus=function(){var e=this.state.cursorPosition;Object(f.h)(this.textInput,e)},a.hasText=function(){return 0<this.state.text.trim().length},a.shouldShowUploadButton=function(){return Object(T.b)()&&this.props.showUploadButton&&!this.hasText()},a.moveCaretToEndOfText=function(){this.hasText()&&Object(f.h)(this.textInput,this.state.text.length)},a.getClassName=function(){return m()({"intercom-composer":!0,"intercom-composer-suggestions-active":this.props.shouldShowComposerSuggestions,"intercom-composer-borderless":this.props.isBorderless,"intercom-composer-uploads-hidden":!this.shouldShowUploadButton()&&!this.hasText()})},a.getComposerButtonsClassNames=function(){var e=this.context.isPrimaryColorReadable;return m()({"intercom-composer-buttons":!0,"intercom-composer-buttons-not-readable":e&&!e()})},a.getEmojiButtonClassName=function(){return m()({"intercom-composer-emoji-button":!0,"intercom-composer-emoji-button-active":this.props.showEmojiPicker})},a.getGifButtonClassName=function(){return m()({"intercom-composer-gif-button":!0,"intercom-composer-gif-button-active":this.props.showGifPicker})},a.renderUploadButton=function(){var t=this;return p.a.createElement("div",{className:"intercom-composer-upload-button",onClick:t.handleUploadButtonClick,"aria-label":Object(A.c)("upload_attachment"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleUploadButtonClick(e)},role:"button",tabIndex:"0"},p.a.createElement(ie.a,null),p.a.createElement("input",{ref:function(e){return t.fileInput=e},type:"file",disabled:this.isSubmissionDisabled(),onChange:this.handleFileSubmit,style:{display:"none"}}))},a.renderEmojiPickerButton=function(){var e=this.props.showEmojiPicker;return p.a.createElement("button",{className:this.getEmojiButtonClassName(),disabled:this.isSubmissionDisabled(),onClick:this.handleEmojiPickerToggle,"aria-disabled":this.isSubmissionDisabled(),"aria-label":Object(A.c)("emoji_picker"),tabIndex:"0"},e?p.a.createElement(ne,null):p.a.createElement(re.a,null))},a.renderEmojiPicker=function(){var e=this.props,t=e.frameWindow,r=e.showEmojiPicker;return p.a.createElement(g,{className:"intercom-composer-emoji-popover",onEscapeKey:this.handleEmojiPickerToggle,frameWindow:t},r?p.a.createElement(V,{onEmojiClick:this.handleEmojiClick}):null)},a.renderGifPickerButton=function(){var e=this.props.showGifPicker;return p.a.createElement("button",{className:this.getGifButtonClassName(),disabled:this.isSubmissionDisabled(),onClick:this.handleGifPickerToggle,"aria-disabled":this.isSubmissionDisabled(),"aria-label":Object(A.c)("gif_picker"),tabIndex:"0"},e?p.a.createElement(oe,null):p.a.createElement(ae.a,null))},a.renderGifPicker=function(){var e=this.props,t=e.frameWindow,r=e.showGifPicker;return p.a.createElement(g,{className:"intercom-composer-gif-popover",onEscapeKey:this.handleGifPickerToggle,frameWindow:t},r?p.a.createElement(ee,{onGifClick:this.handleGifClick}):null)},a.renderSendButton=function(){return p.a.createElement("button",{className:"intercom-composer-send-button",disabled:this.isSubmissionDisabled(),onTouchEnd:this.handleSubmitButtonClick,onClick:this.handleSubmitButtonClick,"aria-disabled":this.isSubmissionDisabled(),"aria-label":Object(A.c)("send_a_message"),tabIndex:"0"},p.a.createElement(te,null))},a.renderButtons=function(){var e=this.props.showGifButton,t=this.hasText(),r=!Object(T.e)(),n=e&&!Object(T.e)()&&!t,a=this.shouldShowUploadButton();return p.a.createElement("div",{className:this.getComposerButtonsClassNames()},n?this.renderGifPickerButton():null,r?this.renderEmojiPickerButton():null,t?this.renderSendButton():null,a?this.renderUploadButton():null)},a.render=function(){var t=this,e=this.props.shouldShowUpfrontEmailComposer,r=this.state.text;return e?this.renderUpfrontEmailComposer():p.a.createElement("div",{ref:function(e){return t.composer=e},className:this.getClassName()},p.a.createElement("pre",null,r,p.a.createElement("br",null)),this.renderTextArea(),this.renderGifPicker(),this.renderEmojiPicker(),this.renderButtons())},r}(u.PureComponent),ge=function(e){return 13===e.keyCode&&!(e.altKey||e.shiftKey)};be.defaultProps={defaultText:"",showEmojiPicker:!1,showGifPicker:!1,showGifButton:!0,showUploadButton:!0,isBorderless:!1},be.propTypes={placeholder:l.a.string,showEmojiPicker:l.a.bool,showGifPicker:l.a.bool,showUploadButton:l.a.bool,showGifButton:l.a.bool,defaultText:l.a.string,isBorderless:l.a.bool,shouldShowUpfrontEmailComposer:l.a.bool,onHeightChange:l.a.func,onTyping:l.a.func.isRequired,onChange:l.a.func.isRequired,onSubmit:l.a.func.isRequired,toggleUpfrontEmailCollectorState:l.a.func.isRequired,onEmojiPickerToggle:l.a.func.isRequired,onHeaderCollapse:l.a.func,onGifPickerToggle:l.a.func,headerHeight:l.a.number,conversation:l.a.object,frameWindow:l.a.object,shouldShowComposerSuggestions:l.a.bool},be.contextTypes={messengerOptions:l.a.object,addMetric:l.a.func,isPrimaryColorReadable:l.a.func};var ye=r(130),Ce=r(73),Ee=r(65);function we(e){return e?"draft-"+e:"draft"}function ke(e){return I.b.remove(we(e))}var _e={saveDraft:function(e,t){return t&&""!==t?I.b.set(we(e),(r=t,JSON.stringify({text:r}))):ke(e);var r},loadDraft:function(e){var t=I.b.get(we(e));return t?JSON.parse(t).text:null},removeDraft:ke};t.a=Object(n.b)(function(e,t){var r=t.conversation,n=r.id,a=e.borderless&&e.borderless.conversationId,o=r.lastParticipatingAdmin,i=r.defaultMessage||_e.loadDraft(n),s=r.replyPlaceholder,c=void 0===n?Object(A.c)("send_a_message"):Object(A.c)("reply_to_conversation"),l=s||c;return{conversationId:n,borderlessConversationId:a,lastParticipatingAdmin:o,officeHoursResponse:e.app&&e.app.officeHoursResponse,defaultText:i,placeholder:l,showUploadButton:e.app.userConversationAttachmentsEnabled,showGifButton:e.app.userConversationGifsEnabled}},function(d){return{onTyping:function(e){e&&d(Object(Ce.t)(e))},onChange:function(e,t){_e.saveDraft(e,t),d(Object(Ce.b)(e,t,new Date))},onSubmit:function(e,t,r,n,a,o,i,s,c,l){var u={clientId:t,createdAt:a,body:r,file:n};d(Object(Ce.j)(z.a,e,u,!1,o,i,s,c,l)),_e.removeDraft(e)},toggleUpfrontEmailCollectorState:function(){d(Object(Ee.m)())}}},function(a,o,e){return Object.assign({},a,o,e,{onTyping:function(e){o.onTyping(a.conversationId,e)},onChange:function(e){o.onChange(a.conversationId,e)},onSubmit:function(e,t,r,n){o.onSubmit(a.conversationId,Object(ye.b)(),e,t,new Date,a.conversationId===a.borderlessConversationId,a.lastParticipatingAdmin,a.officeHoursResponse,r,n)}})})(be)},895:function(e,t,r){"use strict";var n=r(0),u=r.n(n),o=r(43),a=r(11),i=r.n(a);var s=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.splitCaptions=function(){return this.props.captions.split(/\s*[\r\n]+\s*/)},a.getCurrentCaption=function(){var e=this.props,t=e.currentTime,r=e.duration,n=this.splitCaptions(),a=r/n.length,o=Math.floor(t/a);return n[Math.min(o,n.length-1)]},a.render=function(){return this.props.duration?u.a.createElement("div",{className:"intercom-video-player-captions"},this.getCurrentCaption()):null},n}(n.Component),d=r(15),p=function(e){var t=e.className,r=void 0===t?"video-play-icon":t,n=e.onClick;return u.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:r,"aria-label":Object(d.c)("play"),onClick:n,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&n(e)},role:"button",tabIndex:"0"},u.a.createElement("path",{d:"M7 17.6942V6.30578C7 5.72693 7.62791 5.36628 8.1279 5.65794L17.5192 11.1362C18.1807 11.5221 18.1807 12.4779 17.5192 12.8638L8.1279 18.3421C7.62791 18.6337 7 18.2731 7 17.6942Z"}))},m=function(e){var t=e.className,r=void 0===t?"video-pause-icon":t,n=e.onClick;return u.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:r,"aria-label":Object(d.c)("pause"),onClick:n,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&n(e)},role:"button",tabIndex:"0"},u.a.createElement("rect",{x:"7",y:"6",width:"3",height:"12",rx:"1"}),u.a.createElement("rect",{x:"14",y:"6",width:"3",height:"12",rx:"1"}))},c=r(171),l=r.n(c),h=r(106),f=r.n(h),v=r(58);function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(b(r=a.call.apply(a,[this].concat(t))||this),"state",{currentTime:0,seeking:!1,prevProps:r.props}),g(b(r),"handleSeek",f()(function(){r.props.onSeek(r.state.currentTime)},50)),g(b(r),"handleMouseDown",function(){r.setState({seeking:!0}),r.props.onSeekStart()}),g(b(r),"handleMouseUp",function(){r.setState({seeking:!1}),r.props.onSeekEnd()}),g(b(r),"handleSlide",function(e){var t=e.target;r.setState({currentTime:parseInt(t.value,10)/1e5}),r.handleSeek()}),g(b(r),"handleClick",function(e){e.preventDefault()}),r}return t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r.getDerivedStateFromProps=function(e,t){return!t||l()(e,t.prevProps)?null:t.seeking||e.currentTime===t.prevProps.currentTime?{prevProps:e}:{currentTime:e.currentTime,prevProps:e}},r.prototype.render=function(){var e=this.props.duration,t=this.state.currentTime;return u.a.createElement("input",{className:"intercom-video-player-scrubber",type:"range",min:0,max:1e5*e,value:1e5*t,onChange:this.handleSlide,onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleMouseUp,onClick:this.handleClick,onBlur:v.d,tabIndex:"0"})},r}(n.Component);function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return E(C(t=a.call.apply(a,[this].concat(r))||this),"handlePlay",function(e){e.stopPropagation(),t.props.onPlay()}),E(C(t),"handlePause",function(e){e.stopPropagation(),t.props.onPause()}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getTimeRemaining=function(){var e=this.props,t=e.currentTime,r=e.duration;if(null===t)return null;var n=Math.ceil(r-t),a="0"+n%60;return("0"+Math.floor(n/60)).substr(-2)+":"+a.substr(-2)},n.render=function(){var e=this.props,t=e.playing,r=e.muted,n=e.currentTime,a=e.duration,o=e.onSeek,i=e.onSeekStart,s=e.onSeekEnd,c=e.onToggleMute,l=e.showAudioControl;return u.a.createElement("div",{className:"intercom-video-player-controls"},t?u.a.createElement(m,{onClick:this.handlePause}):u.a.createElement(p,{onClick:this.handlePlay}),u.a.createElement(y,{currentTime:n,duration:a,onSeek:o,onSeekStart:i,onSeekEnd:s}),u.a.createElement("div",{className:"intercom-video-player-controls-time-remaining"},this.getTimeRemaining()),l?u.a.createElement("div",{"aria-label":r?Object(d.c)("play_sound"):Object(d.c)("mute_sound"),onClick:c,className:"intercom-video-control-audio-"+(r?"muted":"unmuted"),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&c(e)},role:"button",tabIndex:"0"}):null)},r}(n.PureComponent),k=r(86),_=function(e){var t=e.className,r=void 0===t?"video-replay-icon":t;return u.a.createElement("svg",{width:"30",height:"30",viewBox:"0 0 30 30",className:r},u.a.createElement("path",{d:"M15 8v3.793a.491.491 0 0 1-.268.444.496.496 0 0 1-.585-.09L9.354 7.353a.5.5 0 0 1 0-.708l4.793-4.792a.5.5 0 0 1 .854.353V6a9 9 0 1 1-8.945 9.998C5.994 15.45 6.447 15 7 15c.552 0 .992.45 1.07.997A7 7 0 1 0 15 8z"}))},S=r(14);function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"b",function(){return N}),r.d(t,"a",function(){return P});var N={autoPlay:!0,showControls:!0,retries:3,onPlayFromStart:function(){},onComplete:function(){},onVideoLoaded:function(){},onMuteChange:function(){},onReplay:function(){},onError:function(){},loop:!1},P=function(n){var e,t;function r(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return O(j(a=n.call.apply(n,[this].concat(t))||this),"_video",void 0),O(j(a),"container",void 0),O(j(a),"loadTime",void 0),O(j(a),"hideControlsTimeout",void 0),O(j(a),"posterImage",void 0),O(j(a),"state",{playState:"loading",wasPlayingBeforeSeek:!1,isMuted:void 0!==a.props.muted?a.props.muted:a.props.autoPlay,readyToPlayFromStart:!0,loadAttempt:0,videoWidth:0,videoHeight:0,duration:0,currentTime:0,userTriggeredPlayAtLeastOnce:!1,showControls:!1,seeking:!1}),O(j(a),"handleClick",function(e){e.stopPropagation()}),O(j(a),"handleClickButton",function(e){e.stopPropagation();var t="playing"===a.state.playState?"paused":"playing";"playing"===t&&a.props.onReplay(),a.setState({playState:t,userTriggeredPlayAtLeastOnce:!0})}),O(j(a),"handlePlay",function(){!Object(S.e)()||a.state.userTriggeredPlayAtLeastOnce||a.props.autoPlay?(a.playVideo(),a.state.readyToPlayFromStart&&(a.setState({readyToPlayFromStart:!1}),a.props.onPlayFromStart())):a.handlePause()}),O(j(a),"handlePause",function(){a.setState({playState:"paused"})}),O(j(a),"handlePosterLoaded",function(){a.setState({playState:"posterLoaded"})}),O(j(a),"handleComplete",function(){if(!a.state.seeking){var e=a.video();e&&(e.pause(),a.setState({readyToPlayFromStart:!0,playState:"complete"}),a.props.onComplete())}}),O(j(a),"handleLoad",function(){a.storeVideoInfo(),a.props.autoPlay?a.playVideo():a.setState({playState:"ready"});var e=new Date-a.loadTime;a.props.onVideoLoaded(e)}),O(j(a),"handleError",function(){a.props.retries===a.state.loadAttempt&&a.props.onError(),a.setState(function(e,t){var r=e.loadAttempt;if(r<t.retries)return{loadAttempt:r+1}})}),O(j(a),"handleSeek",function(e){var t=a.video();t&&(t.currentTime=e,a.handleTimeUpdate())}),O(j(a),"handleTimeUpdate",function(){var e=a.video();e&&a.setState({currentTime:e.currentTime})}),O(j(a),"handleAudioChange",function(e){e.stopPropagation(),a.video()&&a.setState({isMuted:!a.state.isMuted})}),O(j(a),"handleSeekStart",function(){a.setState({wasPlayingBeforeSeek:"playing"===a.state.playState,seeking:!0}),a.handlePause()}),O(j(a),"handleSeekEnd",function(){a.setState({seeking:!1},function(){var e=a.state,t=e.currentTime,r=e.duration,n=e.wasPlayingBeforeSeek;t===r?a.handleComplete():n&&a.playVideo()})}),O(j(a),"handleMouseEnter",function(){a.showControls()}),O(j(a),"handleMouseLeave",function(){a.hideControls()}),O(j(a),"handleTouchStart",function(e){e.stopPropagation(),a.showControls(),a.startHideControlsTimeout()}),O(j(a),"startHideControlsTimeout",function(){clearTimeout(a.hideControlsTimeout),a.hideControlsTimeout=setTimeout(function(){a.state.seeking?a.startHideControlsTimeout():a.hideControls()},2e3)}),O(j(a),"showControls",function(){a.setState({showControls:!0})}),O(j(a),"hideControls",function(){a.setState({showControls:!1})}),a}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.storeVideoInfo=function(){var e=this.video();if(e){var t=e.videoWidth,r=e.videoHeight,n=e.duration;this.setState({videoWidth:t,videoHeight:r,duration:n})}},a.componentDidMount=function(){this.loadTime=new Date,this.posterImage=new Image,this.posterImage.addEventListener("load",this.handlePosterLoaded),this.posterImage.src=this.props.thumbnailUrl},a.componentWillUnmount=function(){clearTimeout(this.hideControlsTimeout),this.posterImage.removeEventListener("load",this.handlePosterLoaded)},a.componentDidUpdate=function(e,t){var r=this.video();r&&(t.playState!==this.state.playState&&("paused"===this.state.playState?r.pause():"playing"===this.state.playState&&r.play()),e.muted!==this.props.muted&&this.setState({isMuted:this.props.muted}),t.isMuted!==this.state.isMuted&&(r.muted=this.state.isMuted,this.props.onMuteChange(this.state.isMuted)),void 0!==this.props.startTime&&e.startTime!==this.props.startTime&&this.handleSeek(this.props.startTime))},a.getContainerClassnames=function(){var e,t=this.props.captions;return i()(((e={"intercom-video-player-container":!0})["intercom-video-player-container-"+this.state.playState]=!0,e["intercom-video-player-container-mobile"]=Object(S.e)(),e["intercom-video-player-container-has-captions"]=t&&t.length,e["intercom-video-player-container-show-controls"]=this.state.showControls,e["intercom-video-player-container-no-controls"]=!this.props.showControls,e))},a.playVideo=function(){this.setState({playState:"playing"})},a.video=function(){return this._video},a.videoHasAudio=function(){var e=this.video();return!!e&&(!1!==e.mozHasAudio&&0!==e.webkitAudioDecodedByteCount)},a.renderCaptions=function(){var e=this.state,t=e.playState,r=e.currentTime,n=e.duration,a=this.props.captions;return-1!==["playing","paused"].indexOf(t)&&a?u.a.createElement(s,{captions:a,currentTime:r,duration:n}):null},a.renderOverlay=function(){return"loading"===this.state.playState?null:u.a.createElement("div",{className:"intercom-video-overlay"},this.renderButton())},a.getButtonAriaLabel=function(){switch(this.state.playState){case"ready":return"Play";case"complete":return"Replay"}},a.renderButton=function(){var t=this,e=this.state.playState;return"playing"===e||"paused"===e?null:u.a.createElement("span",{className:"intercom-video-control-button",onClick:t.handleClickButton,"aria-label":this.getButtonAriaLabel(),onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClickButton(e)},role:"button",tabIndex:"0"},this.renderButtonIcon())},a.renderButtonIcon=function(){return"complete"===this.state.playState?u.a.createElement(_,null):u.a.createElement(p,null)},a.renderLoadingPanel=function(){return u.a.createElement(o.TransitionGroup,null,"loading"===this.state.playState?u.a.createElement(o.CSSTransition,{classNames:"intercom-video-loading",timeout:{enter:200,exit:200}},u.a.createElement("div",{className:"intercom-video-loading"},u.a.createElement(k.a,null))):null)},a.renderControls=function(){if(!this.props.showControls)return null;var e=this.state,t=e.currentTime,r=e.duration,n=e.playState,a=e.isMuted,o=e.seeking,i=e.wasPlayingBeforeSeek;return u.a.createElement(w,{currentTime:t,duration:r,onSeek:this.handleSeek,onSeekStart:this.handleSeekStart,onSeekEnd:this.handleSeekEnd,onPlay:this.handlePlay,onPause:this.handlePause,playing:"playing"===n||o&&i,muted:a,onToggleMute:this.handleAudioChange,showAudioControl:this.videoHasAudio()})},a.getStyle=function(){var e=this.state.videoWidth<this.state.videoHeight;return Object(S.e)()?{flexDirection:e?"row":"column",marginTop:0}:{flexDirection:e?"row":"column"}},a.getVideoStyle=function(){var e;return(e={})[this.state.videoWidth<this.state.videoHeight?"width":"height"]="100%",e},a.getSrc=function(){var e=this.state.loadAttempt,t=this.props.srcUrl;return 0===e?t:t+"?attempt="+e},a.render=function(){var t=this,e=this.props,r=e.autoPlay,n=e.loop,a=e.thumbnailUrl;return u.a.createElement("div",{className:this.getContainerClassnames(),ref:function(e){return t.container=e},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},u.a.createElement("div",{className:"intercom-video-player",style:this.getStyle()},u.a.createElement("video",{style:this.getVideoStyle(),onError:this.handleError,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleComplete,onLoadedData:this.handleLoad,onTimeUpdate:this.handleTimeUpdate,autoPlay:Object(S.e)()||r,muted:this.state.isMuted,playsInline:!0,ref:function(e){return t._video=e},onTouchStart:this.handleTouchStart,onClick:t.handleClick,"aria-label":Object(d.c)("play_video"),loop:n,poster:a,onKeyDown:function(e){return(13===e.keyCode||32===e.keyCode)&&t.handleClick(e)},role:"button",tabIndex:"0"},u.a.createElement("source",{src:this.getSrc(),key:this.state.loadAttempt,type:"video/mp4"}))),u.a.createElement("div",{className:"intercom-video-player-bottom-overlay"},this.renderCaptions(),this.renderControls()),this.renderOverlay(),this.renderLoadingPanel())},r}(n.PureComponent);O(P,"defaultProps",N)},897:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(0),d=r.n(o),i=r(11),l=r.n(i),s=r(71),c=r.n(s),p=r(842),u=r(864),m=r(859);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){return"messengerCard"===e.type},v=function(e){return!f(e)},b=function(e){return"paragraph"===e.type&&!e.text},g=function(){function e(){h(this,"blocks",[])}return e.prototype.addBlock=function(e){this.blocks.push(e)},e}(),y=function(){function e(){h(this,"groups",[])}return e.prototype.addBlock=function(e){var t=this.groups[this.groups.length-1];t&&t.blocks.every(v)&&v(e)||(t=new g,this.groups.push(t)),t.addBlock(e)},e}(),C=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getBlockGroupClassName=function(e){return l()({"intercom-comment-body-block-group":!0,"intercom-comment-body-block-group-text":e.every(v),"intercom-comment-body-block-group-messenger-card":e.every(f)})},a.getClassName=function(){var e=this.props,t=e.part,r=e.hasAvatar,n=e.isBorderless,a=t.author,o=a.isAdmin,i=a.isSelf;return l()({"intercom-comment-body":!0,"intercom-comment-body-borderless":n,"intercom-comment-body-user":i,"intercom-comment-body-admin":o,"intercom-comment-body-admin-with-avatar":r,"intercom-comment-body-other-user":!i&&!o})},a.getBlockGroups=function(){var t=new y;return this.props.part.body.forEach(function(e){return t.addBlock(e)}),t},a.renderBlockGroup=function(e,t,r){var n=this.props,a=n.part,o=n.zoomable,i=n.maxImageWidth,s=n.onImageClick,c=n.isLastPart,l=n.frameWindow,u=this.props.showInlineMetadata&&r&&e.blocks.every(v);return e.blocks.every(b)?null:d.a.createElement("div",{key:t,className:this.getBlockGroupClassName(e.blocks)},d.a.createElement(p.a,{blocks:e.blocks,author:a.author,zoomable:o,maxImageWidth:i,onImageClick:s,isLastPart:c,frameWindow:l}),u?d.a.createElement(m.a,{part:a}):null)},a.render=function(){var r=this,n=this.getBlockGroups();return d.a.createElement("div",{className:this.getClassName()},n.groups.map(function(e,t){return r.renderBlockGroup(e,t,t===n.groups.length-1)}))},n}(o.PureComponent),E=r(846),w=r(504);function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(k(r=a.call.apply(a,[this].concat(t))||this),"state",{tooltipVisible:!1}),_(k(r),"handleMouseMove",function(e){var t=c.a.findDOMNode(k(r)).getBoundingClientRect();r.setState({lastMouseMovedAt:Date.now(),tooltipVisible:!1,tooltipTop:Math.round(e.clientY-t.top+20),tooltipLeft:Math.round(e.clientX-t.left-30)})}),_(k(r),"handleMouseEnter",function(){r.interval=setInterval(function(){var e=Date.now()-r.state.lastMouseMovedAt;r.setState({tooltipVisible:500<e})},100)}),_(k(r),"handleMouseLeave",function(){r.setState({tooltipVisible:!1}),clearInterval(r.interval)}),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentWillUnmount=function(){this.interval&&clearInterval(this.interval)},n.isMessengerCard=function(){return this.props.part.body.some(function(e){return"messengerCard"===e.type})},n.shouldRenderCommentBody=function(){return this.isMessengerCard()},n.shouldRenderInlineMetadata=function(){return this.props.showInlineMetadata&&!this.shouldRenderCommentBody()},n.getClassNames=function(){var e=this.context.isPrimaryColorLight,t=Object(w.f)(this.props.part.body);return l()({"intercom-comment":!t,"intercom-comment-single":t,"intercom-comment-with-body":this.shouldRenderCommentBody(),"intercom-comment-light":e()})},n.renderTooltip=function(){var e=this.state,t=e.tooltipVisible,r=e.tooltipTop,n=e.tooltipLeft,a=this.props,o=a.part,i=a.isMobile,s=o.showCreatedAt,c=o.createdAt;return i||!t||!s||this.isMessengerCard()?null:d.a.createElement("div",{className:"intercom-comment-tooltip",style:{left:n,top:r}},Object(E.a)(c))},n.renderAccessibleTooltip=function(){var e=this.props.part,t=e.showCreatedAt,r=e.createdAt;return t?d.a.createElement("div",{className:"intercom-comment-accessibility-tooltip"},Object(E.a)(r)):null},n.renderBlocks=function(){var e=this.props,t=e.part,r=e.isMobile,n=e.isBorderless,a=e.hasAvatar,o=e.showInlineMetadata,i=e.onImageClick,s=e.isLastPart,c=e.frameWindow,l=t.body,u=t.author;return this.shouldRenderCommentBody()?d.a.createElement(C,{part:t,isLastPart:s,zoomable:!r,isBorderless:n,hasAvatar:a,showInlineMetadata:o,maxImageWidth:232,onImageClick:i,frameWindow:c}):d.a.createElement(p.a,{autoPlay:!1,blocks:l,author:u,zoomable:!r,maxImageWidth:232,onImageClick:i,frameWindow:c})},n.renderSticker=function(){return d.a.createElement(u.a,{text:Object(w.d)(this.props.part.body[0])})},n.renderBody=function(){var e=this.props.part.body;return 1===e.length&&Object(w.h)(e[0])?this.renderSticker():this.renderBlocks()},n.render=function(){return d.a.createElement("div",{className:this.getClassNames(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove},this.renderBody(),this.renderTooltip(),this.renderAccessibleTooltip(),this.shouldRenderInlineMetadata()?d.a.createElement(m.a,{part:this.props.part}):null)},r}(o.Component);_(S,"contextTypes",{isPrimaryColorLight:a.a.func}),S.defaultProps={isMobile:!1,isBorderless:!1},S.propTypes={part:a.a.object.isRequired,isMobile:a.a.bool,isBorderless:a.a.bool,frameWindow:a.a.object,hasAvatar:a.a.bool,showInlineMetadata:a.a.bool,onImageClick:a.a.func,isLastPart:a.a.bool};var j=r(843);r.d(t,"a",function(){return O});var O=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.getClassNames=function(){var e=this.props,t=e.isBorderless,r=e.hasAvatar,n=e.part,a=n.author,o=a.isAdmin,i=a.isSelf,s=n.body,c=Object(w.f)(s);return l()({"intercom-comment-container":!(c&&t),"intercom-comment-container-borderless-single":c&&t,"intercom-comment-container-admin":o,"intercom-comment-container-user":i,"intercom-comment-container-other-user":this.isOtherUser(),"intercom-comment-container-borderless":t,"intercom-comment-container-borderless-with-avatar":t&&r})},a.getAvatarClassName=function(){var e=this.props.isBorderless;return l()({"intercom-comment-container-admin-avatar":!e,"intercom-comment-container-admin-borderless-avatar":e})},a.renderAdminAvatar=function(){return d.a.createElement("div",{className:this.getAvatarClassName()},d.a.createElement(j.a,{author:this.props.part.author}))},a.isOtherUser=function(){var e=this.props.part.author,t=e.isAdmin,r=e.isSelf;return!t&&!r},a.renderComment=function(){var e=this.props,t=e.part,r=e.hasAvatar,n=e.isMobile,a=e.isBorderless,o=e.frameWindow,i=e.showInlineMetadata,s=e.onImageClick,c=e.isLastPart;return d.a.createElement(S,{isLastPart:c,part:t,isMobile:n,isBorderless:a,frameWindow:o,hasAvatar:r,showInlineMetadata:i,onImageClick:s})},a.render=function(){return d.a.createElement("div",{className:this.getClassNames()},this.props.hasAvatar&&this.props.showAvatar?this.renderAdminAvatar():null,this.renderComment())},n}(o.Component);O.defaultProps={showAvatar:!0,hasAvatar:!1,isBorderless:!1,isMobile:!1},O.propTypes={part:a.a.object.isRequired,showAvatar:a.a.bool,hasAvatar:a.a.bool,isBorderless:a.a.bool,isMobile:a.a.bool,frameWindow:a.a.object,showInlineMetadata:a.a.bool,onImageClick:a.a.func,isLastPart:a.a.bool}},898:function(e,t,r){"use strict";var n=r(0),c=r.n(n),a=r(11),i=r.n(a),o=r(854),s=r(518),l=r(15),u=r(58);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return m(p(t=a.call.apply(a,[this].concat(r))||this),"handleChange",function(e){t.props.onChange(e.target.value.trim())}),m(p(t),"handleKeyDown",function(e){13===e.keyCode&&(e.preventDefault(),t.props.onSubmit())}),m(p(t),"handleFocus",function(e){var t=e.target.value;e.target.value="",e.target.value=t}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassName=function(){var e=this.props,t=e.saveState,r=e.isInvalid,n=e.isBorderless,a=e.isReplyType,o=e.isNotificationChannel;return i()({"intercom-phone-number-input":!0,"intercom-phone-number-input-saving":"saving"===t,"intercom-phone-number-input-saved":"saved"===t,"intercom-phone-number-input-failed":"failed"===t,"intercom-phone-number-input-invalid":r,"intercom-phone-number-input-borderless":n,"intercom-phone-number-input-reply-type":a,"intercom-phone-number-input-notification-channel":o})},n.renderFlag=function(){var e=this.props,t=e.defaultCountryCode,r=e.value,n=Object(o.a)(r),a=n?n.code:t;return c.a.createElement("div",{className:["intercom-phone-number-input-flag","intercom-flag",a].join(" ")})},n.renderPlaceholder=function(){var e=this.props,t=e.value,r=e.placeholder;return c.a.createElement("div",{className:"intercom-phone-number-input-placeholder"},0===r.indexOf(t)&&c.a.createElement("span",null,c.a.createElement("span",{className:"intercom-phone-number-input-placeholder-prefix"},t),c.a.createElement("span",{className:"intercom-phone-number-input-placeholder-suffix"},r.replace(t,""))))},n.renderInput=function(){var e=this.props,t=e.value,r=e.saveState,n=e.isBorderless,a=e.isReplyType,o="saving"===r||"saved"===r,i=!(n&&a);return c.a.createElement("input",{name:"phone",type:"text",disabled:o,autoFocus:i,defaultValue:t,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:u.d,"aria-label":Object(l.c)("phone_number")})},n.render=function(){var e=this.props.saveState,t="saving"===e,r=t||"saved"===e,n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){m(t,e,r[e])})}return t}({"aria-label":t?Object(l.c)("loading"):Object(l.c)("submit")},t?{role:"progressbar"}:{});return c.a.createElement("div",{className:this.getClassName()},this.renderFlag(),this.renderPlaceholder(),this.renderInput(),c.a.createElement("div",{className:"intercom-phone-number-input-success-icon"}),c.a.createElement("button",d({className:"intercom-phone-number-input-submit-button intercom-submittable-input-submit-button",disabled:r,onClick:this.props.onSubmit},n,{tabIndex:"0"}),c.a.createElement(s.a,null)))},r}(n.PureComponent),f=r(174);function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",function(){return g});var g=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return b(v(t=a.call.apply(a,[this].concat(r))||this),"state",{value:t.props.value||Object(o.b)(t.props.defaultCountryCode)+" ",isValid:!0}),b(v(t),"handleChange",function(e){t.setState({value:e,isValid:!0})}),b(v(t),"handleSubmit",function(){var e=t.state.value;Object(o.d)(e)?t.props.onSubmit(e):t.setState({isValid:!1})}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getPlaceholder=function(){return Object(o.b)(this.props.defaultCountryCode)+" 123 456 7890"},n.getErrorMessage=function(){if(this.state.isValid)return Object(l.c)("something_is_wrong");var e=Object(o.c)(this.state.value);return e?Object(l.c)(e):Object(l.c)("that_number_doesnt_look_quite_right")},n.isInvalid=function(){return"failed"===this.props.saveState||!this.state.isValid},n.render=function(){var e=this.props,t=e.saveState,r=e.defaultCountryCode,n=e.isBorderless,a=e.isReplyType,o=e.isNotificationChannel,i=this.getPlaceholder(),s=this.isInvalid();return c.a.createElement("div",null,c.a.createElement(h,{value:this.state.value,saveState:t,placeholder:i,defaultCountryCode:r,isInvalid:s,isBorderless:n,isReplyType:a,isNotificationChannel:o,onChange:this.handleChange,onSubmit:this.handleSubmit}),s&&c.a.createElement(f.a,{errorMessage:this.getErrorMessage()}))},r}(n.Component)},899:function(e,t,r){"use strict";var n=r(0),u=r.n(n),o=r(843),i=r(863),s=r(842),c=r(859),l=r(851),d=r(864),a=r(11),p=r.n(a),m=r(504);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(a){var e,t;function r(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return f(h(t=a.call.apply(a,[this].concat(r))||this),"state",{isScrollable:!1,isScrolled:!1}),f(h(t),"handleScrollable",function(){t.setState({isScrollable:!0})}),f(h(t),"handleScroll",function(e){t.setState({isScrolled:0<e.target.scrollTop})}),t}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.getClassNames=function(){var e=this.props,t=e.isBorderless,r=e.part.body,n=e.showAvatar,a=e.hasAvatar,o=Object(m.f)(r);return p()({"intercom-chat-card":!(o&&t),"intercom-chat-card-borderless":t,"intercom-chat-card-borderless-single":o&&t,"intercom-chat-card-with-avatar":a&&n,"intercom-chat-card-scrolled":this.state.isScrolled})},n.getBodyClassNames=function(){var e=this.props.isBorderless,t=this.state.isScrollable;return p()({"intercom-chat-card-body":!0,"intercom-chat-card-body-scrollable-borderless":t&&e,"intercom-chat-card-body-scrollable":t})},n.getAvatarClassName=function(){return p()({"intercom-chat-card-avatar":!0,"intercom-chat-card-avatar-team":"team"===this.props.part.author.type})},n.renderAdminAvatar=function(){return u.a.createElement("div",{className:this.getAvatarClassName()},u.a.createElement(o.a,{author:this.props.part.author}))},n.renderInlineMetadata=function(){return u.a.createElement(c.a,{part:this.props.part})},n.renderStickerOrBlocks=function(){var e=this.props,t=e.part,r=t.author,n=t.body,a=e.frameWindow;return 1===n.length&&Object(m.h)(n[0])?u.a.createElement(d.a,{text:Object(m.d)(n[0])}):u.a.createElement(s.a,{blocks:n,zoomable:!0,author:r,frameWindow:a})},n.renderSingleBody=function(){return u.a.createElement("div",{className:"intercom-chat-card-body"},this.renderStickerOrBlocks())},n.renderAuthor=function(){var e=this.props,t=e.appName,r=e.part,n=r.messageType,a=r.author,o="adminReply"===n;return u.a.createElement("div",{className:"intercom-chat-card-author"},u.a.createElement(i.a,{author:a,appName:t,isReplyStyle:o}))},n.renderFullBody=function(){return u.a.createElement("div",null,this.props.showAuthor?this.renderAuthor():null,u.a.createElement("div",{className:this.getBodyClassNames()},u.a.createElement(l.a,{onScrollable:this.handleScrollable,onScroll:this.handleScroll},this.renderStickerOrBlocks())))},n.render=function(){var e=this.props,t=e.hasAvatar,r=e.showAvatar,n=e.isBorderless,a=e.showInlineMetadata,o=e.part.body;return u.a.createElement("div",{className:this.getClassNames()},t&&r?this.renderAdminAvatar():null,Object(m.f)(o)&&n?this.renderSingleBody():this.renderFullBody(),a?this.renderInlineMetadata():null)},r}(n.Component);f(v,"defaultProps",{isBorderless:!1,showAuthor:!0,showAvatar:!0,hasAvatar:!0});var b=r(897);r.d(t,"a",function(){return k});var g,y,C,E=/^<br>/,w=/<br>$/,k=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),(t.prototype.constructor=t).__proto__=r;var a=n.prototype;return a.buildNewPart=function(){return Object.assign({},this.props.part,{body:[]})},a.cleanBlockWithPattern=function(e,t){e.text&&(e.text=e.text.trim().replace(t,""))},a.cleanAdjacentBlocks=function(e,t){"messengerCard"===e.type&&"paragraph"===t.type?this.cleanBlockWithPattern(t,E):"paragraph"===e.type&&"messengerCard"===t.type&&this.cleanBlockWithPattern(e,w)},a.cleanParts=function(e){var o=this;return e.map(function(e,t,r){if(t<r.length-1){var n=r[t+1],a=e.body.length-1;o.cleanAdjacentBlocks(e.body[a],n.body[0])}return e})},a.splitPartByBlockType=function(){var t=this,r=[],n=null;return this.props.part.body.forEach(function(e){"paragraph"===e.type&&""===e.text||(0!==r.length&&"messengerCard"!==e.type&&"messengerCard"!==n||r.push(t.buildNewPart()),r[r.length-1].body.push(e),n=e.type)}),this.cleanParts(r)},a.renderCommentContainer=function(e,t,r){var n=this.props,a=n.hasAvatar,o=n.isBorderless,i=n.isMobile,s=n.showInlineMetadata,c=n.frameWindow;return u.a.createElement(b.a,{key:t,part:e,showAvatar:r,hasAvatar:a,isBorderless:o,isMobile:i,frameWindow:c,showInlineMetadata:s})},a.renderChatCard=function(e,t,r,n){var a=this.props,o=a.appName,i=a.hasAvatar,s=a.isBorderless,c=a.showInlineMetadata,l=a.frameWindow;return u.a.createElement(v,{key:t,appName:o,part:e,showAuthor:r,showAvatar:n,hasAvatar:i,isBorderless:s,showInlineMetadata:c,frameWindow:l})},a.renderPart=function(e,t,r,n){return 1===e.body.length&&"messengerCard"===e.body[0].type?this.renderCommentContainer(e,t,n):this.renderChatCard(e,t,r,n)},a.renderParts=function(a){var o=this;return a.map(function(e,t){var r=0===t,n=t===a.length-1;return o.renderPart(e,t,r,n)})},a.render=function(){var e=this.splitPartByBlockType();return u.a.createElement("div",null,this.renderParts(e))},n}(n.Component);C={isBorderless:!(y="defaultProps"),isMobile:!1,hasAvatar:!0},y in(g=k)?Object.defineProperty(g,y,{value:C,enumerable:!0,configurable:!0,writable:!0}):g[y]=C},900:function(e,t,r){"use strict";var n=r(23),a=r(0),d=r.n(a),p=r(43),m=r(767),h=r(163),f=r(86),o=r(2),i=r.n(o);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=2*h.b,u=function(n){var e,t;function r(){for(var s,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return l(c(s=n.call.apply(n,[this].concat(t))||this),"state",{}),l(c(s),"heightChangeTimeout",void 0),l(c(s),"handleHeightChange",function(e){s.setState({height:e})}),l(c(s),"addReceivedCardMetric",function(){var e=s.props,t=e.cardUri,r=e.currentView,n=e.messengerAppId,a=e.homeScreenIndex,o=e.conversationId,i=e.isBorderless;s.context.addMetric("received","messenger_card","messenger",r,{messenger_card_uri:t,messenger_app_id:n,home_screen_index:a,conversation_id:o,is_borderless:i},"m4_metric")}),s}t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var a=r.prototype;return a.componentDidUpdate=function(e,t){var r=this.props,n=r.isContentFetched,a=r.onHeightChange,o=r.isBorderless;n&&!e.isContentFetched&&this.addReceivedCardMetric(),this.state.height!==t.height&&a&&o&&(this.heightChangeTimeout&&clearTimeout(this.heightChangeTimeout),this.heightChangeTimeout=setTimeout(a,s))},a.componentDidMount=function(){this.props.isContentFetched&&this.addReceivedCardMetric()},a.getStyle=function(){var e=this.props,t=e.isContentFetched,r=e.isContentError;return{height:t||r?this.state.height:71}},a.render=function(){var e=this.props,t=e.cardUri,r=e.components,n=e.isContentError,a=e.isBorderless,o=e.onAction,i=e.getCardContent,s=e.isContentFetching,c=e.isContentFetched,l=e.frameWindow,u=s&&!c;return d.a.createElement(m.a,{style:this.getStyle(),isBorderless:a,isContentFetched:c},d.a.createElement(p.TransitionGroup,{component:"div",appear:!0,enter:!0,exit:!0},u?d.a.createElement(p.CSSTransition,{key:"spinner",classNames:"intercom-spinner-animation",timeout:{enter:900,exit:300}},d.a.createElement(f.a,null)):null),d.a.createElement(h.a,{cardUri:t,isContentError:n,isContentFetched:c,isContentFetching:s,components:r,onAction:o,onHeightChange:this.handleHeightChange,getCardContent:i,frameWindow:l}))},r}(a.PureComponent);u.contextTypes={addMetric:i.a.func};var v=r(177),b=r(133),g=r(51),y=r(59),C=r(762),E=r(16),w=["submit","url","sheet"];t.a=Object(n.b)(function(e,t){var r=t.cardUri,n=t.frameWindow,a=t.homeScreenIndex,o=e.messengerCards[r];if(void 0===o)return{cardUri:r,isContentFetching:!0,isContentFetched:!1,isContentError:!1,components:[]};var i=e.app.conversationId,s=!!e.borderless.conversationId,c=Object(y.c)(e)||"conversation",l=o.isContentFetched,u=o.isContentFetching,d=o.isContentError,p=o.card;return{cardUri:r,isContentFetched:l,isContentFetching:u,isContentError:d,components:l?p.canvas.content.components:[],currentView:c,messengerAppId:p&&p.messenger_app_id,partialCard:o.partialCard,conversationId:i,isBorderless:s,frameWindow:n,homeScreenIndex:a}},function(a){return{onAction:function(e,t,r,n){if(r&&-1!==w.indexOf(r.type))switch(r.type){case"url":if(!r.url)return;Object(C.b)(r.url);break;case"submit":if(!t)return;a(Object(v.a)(E.a,e,t,n));break;case"sheet":if(!r.url)return;a(Object(b.b)(E.a,e,t,r.url,n))}},getCardContent:function(e){a(Object(g.a)(E.a,e))}}},function(a,o,e){return Object.assign({},e,a,o,{onAction:function(e,t,r){var n=a.cardUri;a.isFetching||o.onAction(n,e,t,r)},getCardContent:function(){o.getCardContent(a.partialCard)}})})(u)},901:function(e,t,r){"use strict";var n=r(171),u=r.n(n),a=r(0),i=r.n(a),s=function(r,n){var a=[],o=0,e=function(e){var t=Date.now();o=o+n<t?t:o+n,a.push(setTimeout(function(){return r(e)},o-t))};return e.cancel=function(){a.forEach(clearTimeout)},e};function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){return e.map(function(e,t){return t})};t.a=function(o){return function(a){var e,t;function r(){for(var r,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(l(r=a.call.apply(a,[this].concat(t))||this),"state",{partIndices:p(r.props.conversation.parts)}),d(l(r),"handleNewPart",function(e){var t=r.state.partIndices;-1===t.indexOf(e)&&r.setState({partIndices:t.concat(e)})}),d(l(r),"handleNewDelayedPart",s(r.handleNewPart,1e3)),r}t=a,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=r.prototype;return n.componentDidUpdate=function(e){var t=this;if(!u()(e,this.props)){var r=e.conversation,n=r.parts,a=r.fetchState,o=this.props.conversation,i=o.parts,s=o.fetchState,c=p(i),l=c.slice(n.length);"summary"!==a||"all"!==s?l.forEach(function(e){return i[e].author.isSelf?t.handleNewPart(e):t.handleNewDelayedPart(e)}):this.setState({partIndices:c})}},n.componentWillUnmount=function(){this.handleNewDelayedPart.cancel()},n.render=function(){var e,t,r=this.props.conversation.parts,n=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){d(t,e,r[e])})}return t}({},this.props.conversation,{parts:(e=this.state.partIndices,t=r,e.map(function(e){return t[e]}).filter(Boolean))});return i.a.createElement(o,c({},this.props,{conversation:n}))},r}(a.PureComponent)}}}]);